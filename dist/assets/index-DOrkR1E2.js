var CS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var WL=CS((Ch,$p)=>{function $S(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function LS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Av={exports:{}},yc={},Pv={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),DS=Symbol.for("react.portal"),NS=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),US=Symbol.for("react.context"),GS=Symbol.for("react.forward_ref"),jS=Symbol.for("react.suspense"),XS=Symbol.for("react.memo"),VS=Symbol.for("react.lazy"),f1=Symbol.iterator;function zS(e){return e===null||typeof e!="object"?null:(e=f1&&e[f1]||e["@@iterator"],typeof e=="function"?e:null)}var wv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mv=Object.assign,Ov={};function _s(e,t,r){this.props=e,this.context=t,this.refs=Ov,this.updater=r||wv}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rv(){}Rv.prototype=_s.prototype;function Lp(e,t,r){this.props=e,this.context=t,this.refs=Ov,this.updater=r||wv}var Dp=Lp.prototype=new Rv;Dp.constructor=Lp;Mv(Dp,_s.prototype);Dp.isPureReactComponent=!0;var d1=Array.isArray,Cv=Object.prototype.hasOwnProperty,Np={current:null},$v={key:!0,ref:!0,__self:!0,__source:!0};function Lv(e,t,r){var i,a={},o=null,s=null;if(t!=null)for(i in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Cv.call(t,i)&&!$v.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var h=Array(l),d=0;d<l;d++)h[d]=arguments[d+2];a.children=h}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)a[i]===void 0&&(a[i]=l[i]);return{$$typeof:au,type:e,key:o,ref:s,props:a,_owner:Np.current}}function JS(e,t){return{$$typeof:au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===au}function WS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p1=/\/+/g;function u0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WS(""+e.key):t.toString(36)}function ch(e,t,r,i,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case au:case DS:s=!0}}if(s)return s=e,a=a(s),e=i===""?"."+u0(s,0):i,d1(a)?(r="",e!=null&&(r=e.replace(p1,"$&/")+"/"),ch(a,t,r,"",function(d){return d})):a!=null&&(Fp(a)&&(a=JS(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(p1,"$&/")+"/")+e)),t.push(a)),1;if(s=0,i=i===""?".":i+":",d1(e))for(var l=0;l<e.length;l++){o=e[l];var h=i+u0(o,l);s+=ch(o,t,r,h,a)}else if(h=zS(e),typeof h=="function")for(e=h.call(e),l=0;!(o=e.next()).done;)o=o.value,h=i+u0(o,l++),s+=ch(o,t,r,h,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bu(e,t,r){if(e==null)return e;var i=[],a=0;return ch(e,i,"","",function(o){return t.call(r,o,a++)}),i}function YS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fr={current:null},fh={transition:null},KS={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:fh,ReactCurrentOwner:Np};function Dv(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:bu,forEach:function(e,t,r){bu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bu(e,function(){t++}),t},toArray:function(e){return bu(e,function(t){return t})||[]},only:function(e){if(!Fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=_s;Kt.Fragment=NS;Kt.Profiler=BS;Kt.PureComponent=Lp;Kt.StrictMode=kS;Kt.Suspense=jS;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;Kt.act=Dv;Kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Mv({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Np.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)Cv.call(t,h)&&!$v.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&l!==void 0?l[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){l=Array(h);for(var d=0;d<h;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:au,type:e.type,key:a,ref:o,props:i,_owner:s}};Kt.createContext=function(e){return e={$$typeof:US,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HS,_context:e},e.Consumer=e};Kt.createElement=Lv;Kt.createFactory=function(e){var t=Lv.bind(null,e);return t.type=e,t};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:GS,render:e}};Kt.isValidElement=Fp;Kt.lazy=function(e){return{$$typeof:VS,_payload:{_status:-1,_result:e},_init:YS}};Kt.memo=function(e,t){return{$$typeof:XS,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=fh.transition;fh.transition={};try{e()}finally{fh.transition=t}};Kt.unstable_act=Dv;Kt.useCallback=function(e,t){return Fr.current.useCallback(e,t)};Kt.useContext=function(e){return Fr.current.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e){return Fr.current.useDeferredValue(e)};Kt.useEffect=function(e,t){return Fr.current.useEffect(e,t)};Kt.useId=function(){return Fr.current.useId()};Kt.useImperativeHandle=function(e,t,r){return Fr.current.useImperativeHandle(e,t,r)};Kt.useInsertionEffect=function(e,t){return Fr.current.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return Fr.current.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return Fr.current.useMemo(e,t)};Kt.useReducer=function(e,t,r){return Fr.current.useReducer(e,t,r)};Kt.useRef=function(e){return Fr.current.useRef(e)};Kt.useState=function(e){return Fr.current.useState(e)};Kt.useSyncExternalStore=function(e,t,r){return Fr.current.useSyncExternalStore(e,t,r)};Kt.useTransition=function(){return Fr.current.useTransition()};Kt.version="18.3.1";Pv.exports=Kt;var xt=Pv.exports;const QS=LS(xt),ZS=$S({__proto__:null,default:QS},[xt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=xt,tT=Symbol.for("react.element"),eT=Symbol.for("react.fragment"),rT=Object.prototype.hasOwnProperty,iT=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nT={key:!0,ref:!0,__self:!0,__source:!0};function Nv(e,t,r){var i,a={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(i in t)rT.call(t,i)&&!nT.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:tT,type:e,key:o,ref:s,props:a,_owner:iT.current}}yc.Fragment=eT;yc.jsx=Nv;yc.jsxs=Nv;Av.exports=yc;var ie=Av.exports,wf={},Fv={exports:{}},ei={},kv={exports:{}},Bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ut,gt){var et=ut.length;ut.push(gt);e:for(;0<et;){var it=et-1>>>1,Rt=ut[it];if(0<a(Rt,gt))ut[it]=gt,ut[et]=Rt,et=it;else break e}}function r(ut){return ut.length===0?null:ut[0]}function i(ut){if(ut.length===0)return null;var gt=ut[0],et=ut.pop();if(et!==gt){ut[0]=et;e:for(var it=0,Rt=ut.length,Jt=Rt>>>1;it<Jt;){var zt=2*(it+1)-1,de=ut[zt],Qt=zt+1,ue=ut[Qt];if(0>a(de,et))Qt<Rt&&0>a(ue,de)?(ut[it]=ue,ut[Qt]=et,it=Qt):(ut[it]=de,ut[zt]=et,it=zt);else if(Qt<Rt&&0>a(ue,et))ut[it]=ue,ut[Qt]=et,it=Qt;else break e}}return gt}function a(ut,gt){var et=ut.sortIndex-gt.sortIndex;return et!==0?et:ut.id-gt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var h=[],d=[],S=1,y=null,E=3,M=!1,O=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ut){for(var gt=r(d);gt!==null;){if(gt.callback===null)i(d);else if(gt.startTime<=ut)i(d),gt.sortIndex=gt.expirationTime,t(h,gt);else break;gt=r(d)}}function G(ut){if(C=!1,B(ut),!O)if(r(h)!==null)O=!0,pt(j);else{var gt=r(d);gt!==null&&Dt(G,gt.startTime-ut)}}function j(ut,gt){O=!1,C&&(C=!1,$(Q),Q=-1),M=!0;var et=E;try{for(B(gt),y=r(h);y!==null&&(!(y.expirationTime>gt)||ut&&!lt());){var it=y.callback;if(typeof it=="function"){y.callback=null,E=y.priorityLevel;var Rt=it(y.expirationTime<=gt);gt=e.unstable_now(),typeof Rt=="function"?y.callback=Rt:y===r(h)&&i(h),B(gt)}else i(h);y=r(h)}if(y!==null)var Jt=!0;else{var zt=r(d);zt!==null&&Dt(G,zt.startTime-gt),Jt=!1}return Jt}finally{y=null,E=et,M=!1}}var z=!1,J=null,Q=-1,tt=5,Z=-1;function lt(){return!(e.unstable_now()-Z<tt)}function bt(){if(J!==null){var ut=e.unstable_now();Z=ut;var gt=!0;try{gt=J(!0,ut)}finally{gt?Mt():(z=!1,J=null)}}else z=!1}var Mt;if(typeof L=="function")Mt=function(){L(bt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,mt=Gt.port2;Gt.port1.onmessage=bt,Mt=function(){mt.postMessage(null)}}else Mt=function(){N(bt,0)};function pt(ut){J=ut,z||(z=!0,Mt())}function Dt(ut,gt){Q=N(function(){ut(e.unstable_now())},gt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ut){ut.callback=null},e.unstable_continueExecution=function(){O||M||(O=!0,pt(j))},e.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tt=0<ut?Math.floor(1e3/ut):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(ut){switch(E){case 1:case 2:case 3:var gt=3;break;default:gt=E}var et=E;E=gt;try{return ut()}finally{E=et}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ut,gt){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var et=E;E=ut;try{return gt()}finally{E=et}},e.unstable_scheduleCallback=function(ut,gt,et){var it=e.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?it+et:it):et=it,ut){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=et+Rt,ut={id:S++,callback:gt,priorityLevel:ut,startTime:et,expirationTime:Rt,sortIndex:-1},et>it?(ut.sortIndex=et,t(d,ut),r(h)===null&&ut===r(d)&&(C?($(Q),Q=-1):C=!0,Dt(G,et-it))):(ut.sortIndex=Rt,t(h,ut),O||M||(O=!0,pt(j))),ut},e.unstable_shouldYield=lt,e.unstable_wrapCallback=function(ut){var gt=E;return function(){var et=E;E=gt;try{return ut.apply(this,arguments)}finally{E=et}}}})(Bv);kv.exports=Bv;var aT=kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT=xt,ti=aT;function st(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hv=new Set,xl={};function oo(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(xl[e]=t,e=0;e<t.length;e++)Hv.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,sT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},m1={};function lT(e){return Mf.call(m1,e)?!0:Mf.call(_1,e)?!1:sT.test(e)?m1[e]=!0:(_1[e]=!0,!1)}function uT(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hT(e,t,r,i){if(t===null||typeof t>"u"||uT(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,r,i,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Bp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kp,Bp);Tr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kp,Bp);Tr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kp,Bp);Tr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hp(e,t,r,i){var a=Tr.hasOwnProperty(t)?Tr[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hT(t,r,a,i)&&(r=null),i||a===null?lT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,i=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Dn=oT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xu=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),jv=Symbol.for("react.offscreen"),g1=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=g1&&e[g1]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,h0;function Ks(e){if(h0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);h0=t&&t[1]||""}return`
`+h0+e}var c0=!1;function f0(e,t){if(!e||c0)return"";c0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=i.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var h=`
`+a[s].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=s&&0<=l);break}}}finally{c0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ks(e):""}function cT(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=f0(e.type,!1),e;case 11:return e=f0(e.type.render,!1),e;case 1:return e=f0(e.type,!0),e;default:return""}}function $f(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Mo:return"Portal";case Of:return"Profiler";case Up:return"StrictMode";case Rf:return"Suspense";case Cf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gv:return(e.displayName||"Context")+".Consumer";case Uv:return(e._context.displayName||"Context")+".Provider";case Gp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jp:return t=e.displayName||null,t!==null?t:$f(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return $f(e(t))}catch{}}return null}function fT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $f(t);case 8:return t===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dT(e){var t=Xv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Su(e){e._valueTracker||(e._valueTracker=dT(e))}function Vv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Xv(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function $h(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lf(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function v1(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=fa(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zv(e,t){t=t.checked,t!=null&&Hp(e,"checked",t,!1)}function Df(e,t){zv(e,t);var r=fa(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nf(e,t.type,fa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function y1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nf(e,t,r){(t!=="number"||$h(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qs=Array.isArray;function Go(e,t,r,i){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&i&&(e[r].defaultSelected=!0)}else{for(r=""+fa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ff(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(st(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(st(92));if(Qs(r)){if(1<r.length)throw Error(st(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fa(r)}}function Jv(e,t){var r=fa(t.value),i=fa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function x1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tu,Yv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pT=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(e){pT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),al[t]=al[e]})});function Kv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||al.hasOwnProperty(e)&&al[e]?(""+t).trim():t+"px"}function Qv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,a=Kv(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,a):e[r]=a}}var _T=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(e,t){if(t){if(_T[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(st(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(st(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(st(61))}if(t.style!=null&&typeof t.style!="object")throw Error(st(62))}}function Hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function Xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gf=null,jo=null,Xo=null;function S1(e){if(e=lu(e)){if(typeof Gf!="function")throw Error(st(280));var t=e.stateNode;t&&(t=Ec(t),Gf(e.stateNode,e.type,t))}}function Zv(e){jo?Xo?Xo.push(e):Xo=[e]:jo=e}function qv(){if(jo){var e=jo,t=Xo;if(Xo=jo=null,S1(e),t)for(e=0;e<t.length;e++)S1(t[e])}}function ty(e,t){return e(t)}function ey(){}var d0=!1;function ry(e,t,r){if(d0)return e(t,r);d0=!0;try{return ty(e,t,r)}finally{d0=!1,(jo!==null||Xo!==null)&&(ey(),qv())}}function Tl(e,t){var r=e.stateNode;if(r===null)return null;var i=Ec(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(st(231,t,typeof r));return r}var jf=!1;if(Mn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{jf=!1}function mT(e,t,r,i,a,o,s,l,h){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(S){this.onError(S)}}var ol=!1,Lh=null,Dh=!1,Xf=null,gT={onError:function(e){ol=!0,Lh=e}};function vT(e,t,r,i,a,o,s,l,h){ol=!1,Lh=null,mT.apply(gT,arguments)}function yT(e,t,r,i,a,o,s,l,h){if(vT.apply(this,arguments),ol){if(ol){var d=Lh;ol=!1,Lh=null}else throw Error(st(198));Dh||(Dh=!0,Xf=d)}}function so(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T1(e){if(so(e)!==e)throw Error(st(188))}function bT(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(st(188));return t!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){r=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return T1(a),e;if(o===i)return T1(a),t;o=o.sibling}throw Error(st(188))}if(r.return!==i.return)r=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s)throw Error(st(189))}}if(r.alternate!==i)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?e:t}function ny(e){return e=bT(e),e!==null?ay(e):null}function ay(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ay(e);if(t!==null)return t;e=e.sibling}return null}var oy=ti.unstable_scheduleCallback,E1=ti.unstable_cancelCallback,xT=ti.unstable_shouldYield,ST=ti.unstable_requestPaint,Ve=ti.unstable_now,TT=ti.unstable_getCurrentPriorityLevel,Vp=ti.unstable_ImmediatePriority,sy=ti.unstable_UserBlockingPriority,Nh=ti.unstable_NormalPriority,ET=ti.unstable_LowPriority,ly=ti.unstable_IdlePriority,bc=null,on=null;function IT(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(bc,e,void 0,(e.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:wT,AT=Math.log,PT=Math.LN2;function wT(e){return e>>>=0,e===0?32:31-(AT(e)/PT|0)|0}var Eu=64,Iu=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fh(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?i=Zs(l):(o&=s,o!==0&&(i=Zs(o)))}else s=r&~a,s!==0?i=Zs(s):o!==0&&(i=Zs(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ni(t),a=1<<r,i|=e[r],t&=~a;return i}function MT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ni(o),l=1<<s,h=a[s];h===-1?(!(l&r)||l&i)&&(a[s]=MT(l,t)):h<=t&&(e.expiredLanes|=l),o&=~l}}function Vf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uy(){var e=Eu;return Eu<<=1,!(Eu&4194240)&&(Eu=64),e}function p0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ou(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ni(t),e[t]=r}function RT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ni(r),o=1<<a;t[a]=0,i[a]=-1,e[a]=-1,r&=~o}}function zp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ni(r),a=1<<i;a&t|e[i]&t&&(e[i]|=t),r&=~a}}var me=0;function hy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,Jp,fy,dy,py,zf=!1,Au=[],ta=null,ea=null,ra=null,El=new Map,Il=new Map,zn=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Cs(e,t,r,i,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},t!==null&&(t=lu(t),t!==null&&Jp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $T(e,t,r,i,a){switch(t){case"focusin":return ta=Cs(ta,e,t,r,i,a),!0;case"dragenter":return ea=Cs(ea,e,t,r,i,a),!0;case"mouseover":return ra=Cs(ra,e,t,r,i,a),!0;case"pointerover":var o=a.pointerId;return El.set(o,Cs(El.get(o)||null,e,t,r,i,a)),!0;case"gotpointercapture":return o=a.pointerId,Il.set(o,Cs(Il.get(o)||null,e,t,r,i,a)),!0}return!1}function _y(e){var t=Ua(e.target);if(t!==null){var r=so(t);if(r!==null){if(t=r.tag,t===13){if(t=iy(r),t!==null){e.blockedOn=t,py(e.priority,function(){fy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Uf=i,r.target.dispatchEvent(i),Uf=null}else return t=lu(r),t!==null&&Jp(t),e.blockedOn=r,!1;t.shift()}return!0}function A1(e,t,r){dh(e)&&r.delete(t)}function LT(){zf=!1,ta!==null&&dh(ta)&&(ta=null),ea!==null&&dh(ea)&&(ea=null),ra!==null&&dh(ra)&&(ra=null),El.forEach(A1),Il.forEach(A1)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,zf||(zf=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,LT)))}function Al(e){function t(a){return $s(a,e)}if(0<Au.length){$s(Au[0],e);for(var r=1;r<Au.length;r++){var i=Au[r];i.blockedOn===e&&(i.blockedOn=null)}}for(ta!==null&&$s(ta,e),ea!==null&&$s(ea,e),ra!==null&&$s(ra,e),El.forEach(t),Il.forEach(t),r=0;r<zn.length;r++)i=zn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<zn.length&&(r=zn[0],r.blockedOn===null);)_y(r),r.blockedOn===null&&zn.shift()}var Vo=Dn.ReactCurrentBatchConfig,kh=!0;function DT(e,t,r,i){var a=me,o=Vo.transition;Vo.transition=null;try{me=1,Wp(e,t,r,i)}finally{me=a,Vo.transition=o}}function NT(e,t,r,i){var a=me,o=Vo.transition;Vo.transition=null;try{me=4,Wp(e,t,r,i)}finally{me=a,Vo.transition=o}}function Wp(e,t,r,i){if(kh){var a=Jf(e,t,r,i);if(a===null)E0(e,t,i,Bh,r),I1(e,i);else if($T(a,e,t,r,i))i.stopPropagation();else if(I1(e,i),t&4&&-1<CT.indexOf(e)){for(;a!==null;){var o=lu(a);if(o!==null&&cy(o),o=Jf(e,t,r,i),o===null&&E0(e,t,i,Bh,r),o===a)break;a=o}a!==null&&i.stopPropagation()}else E0(e,t,i,null,r)}}var Bh=null;function Jf(e,t,r,i){if(Bh=null,e=Xp(i),e=Ua(e),e!==null)if(t=so(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bh=e,null}function my(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TT()){case Vp:return 1;case sy:return 4;case Nh:case ET:return 16;case ly:return 536870912;default:return 16}default:return 16}}var Yn=null,Yp=null,ph=null;function gy(){if(ph)return ph;var e,t=Yp,r=t.length,i,a="value"in Yn?Yn.value:Yn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(i=1;i<=s&&t[r-i]===a[o-i];i++);return ph=a.slice(e,1<i?1-i:void 0)}function _h(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function P1(){return!1}function ri(e){function t(r,i,a,o,s){this._reactName=r,this._targetInst=a,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:P1,this.isPropagationStopped=P1,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=ri(ms),su=Be({},ms,{view:0,detail:0}),FT=ri(su),_0,m0,Ls,xc=Be({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(_0=e.screenX-Ls.screenX,m0=e.screenY-Ls.screenY):m0=_0=0,Ls=e),_0)},movementY:function(e){return"movementY"in e?e.movementY:m0}}),w1=ri(xc),kT=Be({},xc,{dataTransfer:0}),BT=ri(kT),HT=Be({},su,{relatedTarget:0}),g0=ri(HT),UT=Be({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),GT=ri(UT),jT=Be({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XT=ri(jT),VT=Be({},ms,{data:0}),M1=ri(VT),zT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WT[e])?!!t[e]:!1}function Qp(){return YT}var KT=Be({},su,{key:function(e){if(e.key){var t=zT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_h(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(e){return e.type==="keypress"?_h(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_h(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QT=ri(KT),ZT=Be({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O1=ri(ZT),qT=Be({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),tE=ri(qT),eE=Be({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),rE=ri(eE),iE=Be({},xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nE=ri(iE),aE=[9,13,27,32],Zp=Mn&&"CompositionEvent"in window,sl=null;Mn&&"documentMode"in document&&(sl=document.documentMode);var oE=Mn&&"TextEvent"in window&&!sl,vy=Mn&&(!Zp||sl&&8<sl&&11>=sl),R1=" ",C1=!1;function yy(e,t){switch(e){case"keyup":return aE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function by(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function sE(e,t){switch(e){case"compositionend":return by(t);case"keypress":return t.which!==32?null:(C1=!0,R1);case"textInput":return e=t.data,e===R1&&C1?null:e;default:return null}}function lE(e,t){if(Ro)return e==="compositionend"||!Zp&&yy(e,t)?(e=gy(),ph=Yp=Yn=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vy&&t.locale!=="ko"?null:t.data;default:return null}}var uE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uE[e.type]:t==="textarea"}function xy(e,t,r,i){Zv(i),t=Hh(t,"onChange"),0<t.length&&(r=new Kp("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ll=null,Pl=null;function hE(e){Cy(e,0)}function Sc(e){var t=Lo(e);if(Vv(t))return e}function cE(e,t){if(e==="change")return t}var Sy=!1;if(Mn){var v0;if(Mn){var y0="oninput"in document;if(!y0){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),y0=typeof L1.oninput=="function"}v0=y0}else v0=!1;Sy=v0&&(!document.documentMode||9<document.documentMode)}function D1(){ll&&(ll.detachEvent("onpropertychange",Ty),Pl=ll=null)}function Ty(e){if(e.propertyName==="value"&&Sc(Pl)){var t=[];xy(t,Pl,e,Xp(e)),ry(hE,t)}}function fE(e,t,r){e==="focusin"?(D1(),ll=t,Pl=r,ll.attachEvent("onpropertychange",Ty)):e==="focusout"&&D1()}function dE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Pl)}function pE(e,t){if(e==="click")return Sc(t)}function _E(e,t){if(e==="input"||e==="change")return Sc(t)}function mE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ui=typeof Object.is=="function"?Object.is:mE;function wl(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!Mf.call(t,a)||!Ui(e[a],t[a]))return!1}return!0}function N1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F1(e,t){var r=N1(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=N1(r)}}function Ey(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ey(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iy(){for(var e=window,t=$h();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$h(e.document)}return t}function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gE(e){var t=Iy(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ey(r.ownerDocument.documentElement,r)){if(i!==null&&qp(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(i.start,a);i=i.end===void 0?o:Math.min(i.end,a),!e.extend&&o>i&&(a=i,i=o,o=a),a=F1(r,o);var s=F1(r,i);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vE=Mn&&"documentMode"in document&&11>=document.documentMode,Co=null,Wf=null,ul=null,Yf=!1;function k1(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yf||Co==null||Co!==$h(i)||(i=Co,"selectionStart"in i&&qp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ul&&wl(ul,i)||(ul=i,i=Hh(Wf,"onSelect"),0<i.length&&(t=new Kp("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Co)))}function wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $o={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},b0={},Ay={};Mn&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Tc(e){if(b0[e])return b0[e];if(!$o[e])return e;var t=$o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ay)return b0[e]=t[r];return e}var Py=Tc("animationend"),wy=Tc("animationiteration"),My=Tc("animationstart"),Oy=Tc("transitionend"),Ry=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(e,t){Ry.set(e,t),oo(t,[e])}for(var x0=0;x0<B1.length;x0++){var S0=B1[x0],yE=S0.toLowerCase(),bE=S0[0].toUpperCase()+S0.slice(1);va(yE,"on"+bE)}va(Py,"onAnimationEnd");va(wy,"onAnimationIteration");va(My,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(Oy,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xE=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function H1(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,yT(i,t,void 0,e),e.currentTarget=null}function Cy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],a=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var l=i[s],h=l.instance,d=l.currentTarget;if(l=l.listener,h!==o&&a.isPropagationStopped())break e;H1(a,l,d),o=h}else for(s=0;s<i.length;s++){if(l=i[s],h=l.instance,d=l.currentTarget,l=l.listener,h!==o&&a.isPropagationStopped())break e;H1(a,l,d),o=h}}}if(Dh)throw e=Xf,Dh=!1,Xf=null,e}function Ee(e,t){var r=t[td];r===void 0&&(r=t[td]=new Set);var i=e+"__bubble";r.has(i)||($y(t,e,2,!1),r.add(i))}function T0(e,t,r){var i=0;t&&(i|=4),$y(r,e,i,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Ml(e){if(!e[Mu]){e[Mu]=!0,Hv.forEach(function(r){r!=="selectionchange"&&(xE.has(r)||T0(r,!1,e),T0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,T0("selectionchange",!1,t))}}function $y(e,t,r,i){switch(my(t)){case 1:var a=DT;break;case 4:a=NT;break;default:a=Wp}r=a.bind(null,t,r,e),a=void 0,!jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function E0(e,t,r,i,a){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=i.return;s!==null;){var h=s.tag;if((h===3||h===4)&&(h=s.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Ua(l),s===null)return;if(h=s.tag,h===5||h===6){i=o=s;continue e}l=l.parentNode}}i=i.return}ry(function(){var d=o,S=Xp(r),y=[];e:{var E=Ry.get(e);if(E!==void 0){var M=Kp,O=e;switch(e){case"keypress":if(_h(r)===0)break e;case"keydown":case"keyup":M=QT;break;case"focusin":O="focus",M=g0;break;case"focusout":O="blur",M=g0;break;case"beforeblur":case"afterblur":M=g0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=w1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=BT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=tE;break;case Py:case wy:case My:M=GT;break;case Oy:M=rE;break;case"scroll":M=FT;break;case"wheel":M=nE;break;case"copy":case"cut":case"paste":M=XT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=O1}var C=(t&4)!==0,N=!C&&e==="scroll",$=C?E!==null?E+"Capture":null:E;C=[];for(var L=d,B;L!==null;){B=L;var G=B.stateNode;if(B.tag===5&&G!==null&&(B=G,$!==null&&(G=Tl(L,$),G!=null&&C.push(Ol(L,G,B)))),N)break;L=L.return}0<C.length&&(E=new M(E,O,null,r,S),y.push({event:E,listeners:C}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",E&&r!==Uf&&(O=r.relatedTarget||r.fromElement)&&(Ua(O)||O[On]))break e;if((M||E)&&(E=S.window===S?S:(E=S.ownerDocument)?E.defaultView||E.parentWindow:window,M?(O=r.relatedTarget||r.toElement,M=d,O=O?Ua(O):null,O!==null&&(N=so(O),O!==N||O.tag!==5&&O.tag!==6)&&(O=null)):(M=null,O=d),M!==O)){if(C=w1,G="onMouseLeave",$="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(C=O1,G="onPointerLeave",$="onPointerEnter",L="pointer"),N=M==null?E:Lo(M),B=O==null?E:Lo(O),E=new C(G,L+"leave",M,r,S),E.target=N,E.relatedTarget=B,G=null,Ua(S)===d&&(C=new C($,L+"enter",O,r,S),C.target=B,C.relatedTarget=N,G=C),N=G,M&&O)t:{for(C=M,$=O,L=0,B=C;B;B=vo(B))L++;for(B=0,G=$;G;G=vo(G))B++;for(;0<L-B;)C=vo(C),L--;for(;0<B-L;)$=vo($),B--;for(;L--;){if(C===$||$!==null&&C===$.alternate)break t;C=vo(C),$=vo($)}C=null}else C=null;M!==null&&U1(y,E,M,C,!1),O!==null&&N!==null&&U1(y,N,O,C,!0)}}e:{if(E=d?Lo(d):window,M=E.nodeName&&E.nodeName.toLowerCase(),M==="select"||M==="input"&&E.type==="file")var j=cE;else if($1(E))if(Sy)j=_E;else{j=dE;var z=fE}else(M=E.nodeName)&&M.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(j=pE);if(j&&(j=j(e,d))){xy(y,j,r,S);break e}z&&z(e,E,d),e==="focusout"&&(z=E._wrapperState)&&z.controlled&&E.type==="number"&&Nf(E,"number",E.value)}switch(z=d?Lo(d):window,e){case"focusin":($1(z)||z.contentEditable==="true")&&(Co=z,Wf=d,ul=null);break;case"focusout":ul=Wf=Co=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,k1(y,r,S);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":k1(y,r,S)}var J;if(Zp)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else Ro?yy(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(vy&&r.locale!=="ko"&&(Ro||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Ro&&(J=gy()):(Yn=S,Yp="value"in Yn?Yn.value:Yn.textContent,Ro=!0)),z=Hh(d,Q),0<z.length&&(Q=new M1(Q,e,null,r,S),y.push({event:Q,listeners:z}),J?Q.data=J:(J=by(r),J!==null&&(Q.data=J)))),(J=oE?sE(e,r):lE(e,r))&&(d=Hh(d,"onBeforeInput"),0<d.length&&(S=new M1("onBeforeInput","beforeinput",null,r,S),y.push({event:S,listeners:d}),S.data=J))}Cy(y,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hh(e,t){for(var r=t+"Capture",i=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Tl(e,r),o!=null&&i.unshift(Ol(e,o,a)),o=Tl(e,t),o!=null&&i.push(Ol(e,o,a))),e=e.return}return i}function vo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function U1(e,t,r,i,a){for(var o=t._reactName,s=[];r!==null&&r!==i;){var l=r,h=l.alternate,d=l.stateNode;if(h!==null&&h===i)break;l.tag===5&&d!==null&&(l=d,a?(h=Tl(r,o),h!=null&&s.unshift(Ol(r,h,l))):a||(h=Tl(r,o),h!=null&&s.push(Ol(r,h,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var SE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function G1(e){return(typeof e=="string"?e:""+e).replace(SE,`
`).replace(TE,"")}function Ou(e,t,r){if(t=G1(t),G1(e)!==t&&r)throw Error(st(425))}function Uh(){}var Kf=null,Qf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,EE=typeof clearTimeout=="function"?clearTimeout:void 0,j1=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof j1<"u"?function(e){return j1.resolve(null).then(e).catch(AE)}:qf;function AE(e){setTimeout(function(){throw e})}function I0(e,t){var r=t,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(i===0){e.removeChild(a),Al(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=a}while(r);Al(t)}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),en="__reactFiber$"+gs,Rl="__reactProps$"+gs,On="__reactContainer$"+gs,td="__reactEvents$"+gs,PE="__reactListeners$"+gs,wE="__reactHandles$"+gs;function Ua(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[On]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=X1(e);e!==null;){if(r=e[en])return r;e=X1(e)}return t}e=r,r=e.parentNode}return null}function lu(e){return e=e[en]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(st(33))}function Ec(e){return e[Rl]||null}var ed=[],Do=-1;function ya(e){return{current:e}}function Ae(e){0>Do||(e.current=ed[Do],ed[Do]=null,Do--)}function Se(e,t){Do++,ed[Do]=e.current,e.current=t}var da={},Or=ya(da),Wr=ya(!1),Qa=da;function ts(e,t){var r=e.type.contextTypes;if(!r)return da;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yr(e){return e=e.childContextTypes,e!=null}function Gh(){Ae(Wr),Ae(Or)}function V1(e,t,r){if(Or.current!==da)throw Error(st(168));Se(Or,t),Se(Wr,r)}function Ly(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(st(108,fT(e)||"Unknown",a));return Be({},r,i)}function jh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,Qa=Or.current,Se(Or,e),Se(Wr,Wr.current),!0}function z1(e,t,r){var i=e.stateNode;if(!i)throw Error(st(169));r?(e=Ly(e,t,Qa),i.__reactInternalMemoizedMergedChildContext=e,Ae(Wr),Ae(Or),Se(Or,e)):Ae(Wr),Se(Wr,r)}var xn=null,Ic=!1,A0=!1;function Dy(e){xn===null?xn=[e]:xn.push(e)}function ME(e){Ic=!0,Dy(e)}function ba(){if(!A0&&xn!==null){A0=!0;var e=0,t=me;try{var r=xn;for(me=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}xn=null,Ic=!1}catch(a){throw xn!==null&&(xn=xn.slice(e+1)),oy(Vp,ba),a}finally{me=t,A0=!1}}return null}var No=[],Fo=0,Xh=null,Vh=0,ui=[],hi=0,Za=null,En=1,In="";function Ra(e,t){No[Fo++]=Vh,No[Fo++]=Xh,Xh=e,Vh=t}function Ny(e,t,r){ui[hi++]=En,ui[hi++]=In,ui[hi++]=Za,Za=e;var i=En;e=In;var a=32-Ni(i)-1;i&=~(1<<a),r+=1;var o=32-Ni(t)+a;if(30<o){var s=a-a%5;o=(i&(1<<s)-1).toString(32),i>>=s,a-=s,En=1<<32-Ni(t)+a|r<<a|i,In=o+e}else En=1<<o|r<<a|i,In=e}function t2(e){e.return!==null&&(Ra(e,1),Ny(e,1,0))}function e2(e){for(;e===Xh;)Xh=No[--Fo],No[Fo]=null,Vh=No[--Fo],No[Fo]=null;for(;e===Za;)Za=ui[--hi],ui[hi]=null,In=ui[--hi],ui[hi]=null,En=ui[--hi],ui[hi]=null}var qr=null,Zr=null,Oe=!1,Li=null;function Fy(e,t){var r=di(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function J1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qr=e,Zr=ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qr=e,Zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Za!==null?{id:En,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=di(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qr=e,Zr=null,!0):!1;default:return!1}}function rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function id(e){if(Oe){var t=Zr;if(t){var r=t;if(!J1(e,t)){if(rd(e))throw Error(st(418));t=ia(r.nextSibling);var i=qr;t&&J1(e,t)?Fy(i,r):(e.flags=e.flags&-4097|2,Oe=!1,qr=e)}}else{if(rd(e))throw Error(st(418));e.flags=e.flags&-4097|2,Oe=!1,qr=e}}}function W1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qr=e}function Ru(e){if(e!==qr)return!1;if(!Oe)return W1(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=Zr)){if(rd(e))throw ky(),Error(st(418));for(;t;)Fy(e,t),t=ia(t.nextSibling)}if(W1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zr=ia(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zr=null}}else Zr=qr?ia(e.stateNode.nextSibling):null;return!0}function ky(){for(var e=Zr;e;)e=ia(e.nextSibling)}function es(){Zr=qr=null,Oe=!1}function r2(e){Li===null?Li=[e]:Li.push(e)}var OE=Dn.ReactCurrentBatchConfig;function Ds(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var i=r.stateNode}if(!i)throw Error(st(147,e));var a=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,e))}return e}function Cu(e,t){throw e=Object.prototype.toString.call(t),Error(st(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y1(e){var t=e._init;return t(e._payload)}function By(e){function t($,L){if(e){var B=$.deletions;B===null?($.deletions=[L],$.flags|=16):B.push(L)}}function r($,L){if(!e)return null;for(;L!==null;)t($,L),L=L.sibling;return null}function i($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function a($,L){return $=sa($,L),$.index=0,$.sibling=null,$}function o($,L,B){return $.index=B,e?(B=$.alternate,B!==null?(B=B.index,B<L?($.flags|=2,L):B):($.flags|=2,L)):($.flags|=1048576,L)}function s($){return e&&$.alternate===null&&($.flags|=2),$}function l($,L,B,G){return L===null||L.tag!==6?(L=$0(B,$.mode,G),L.return=$,L):(L=a(L,B),L.return=$,L)}function h($,L,B,G){var j=B.type;return j===Oo?S($,L,B.props.children,G,B.key):L!==null&&(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===jn&&Y1(j)===L.type)?(G=a(L,B.props),G.ref=Ds($,L,B),G.return=$,G):(G=Sh(B.type,B.key,B.props,null,$.mode,G),G.ref=Ds($,L,B),G.return=$,G)}function d($,L,B,G){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=L0(B,$.mode,G),L.return=$,L):(L=a(L,B.children||[]),L.return=$,L)}function S($,L,B,G,j){return L===null||L.tag!==7?(L=za(B,$.mode,G,j),L.return=$,L):(L=a(L,B),L.return=$,L)}function y($,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=$0(""+L,$.mode,B),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case xu:return B=Sh(L.type,L.key,L.props,null,$.mode,B),B.ref=Ds($,null,L),B.return=$,B;case Mo:return L=L0(L,$.mode,B),L.return=$,L;case jn:var G=L._init;return y($,G(L._payload),B)}if(Qs(L)||Os(L))return L=za(L,$.mode,B,null),L.return=$,L;Cu($,L)}return null}function E($,L,B,G){var j=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return j!==null?null:l($,L,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case xu:return B.key===j?h($,L,B,G):null;case Mo:return B.key===j?d($,L,B,G):null;case jn:return j=B._init,E($,L,j(B._payload),G)}if(Qs(B)||Os(B))return j!==null?null:S($,L,B,G,null);Cu($,B)}return null}function M($,L,B,G,j){if(typeof G=="string"&&G!==""||typeof G=="number")return $=$.get(B)||null,l(L,$,""+G,j);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case xu:return $=$.get(G.key===null?B:G.key)||null,h(L,$,G,j);case Mo:return $=$.get(G.key===null?B:G.key)||null,d(L,$,G,j);case jn:var z=G._init;return M($,L,B,z(G._payload),j)}if(Qs(G)||Os(G))return $=$.get(B)||null,S(L,$,G,j,null);Cu(L,G)}return null}function O($,L,B,G){for(var j=null,z=null,J=L,Q=L=0,tt=null;J!==null&&Q<B.length;Q++){J.index>Q?(tt=J,J=null):tt=J.sibling;var Z=E($,J,B[Q],G);if(Z===null){J===null&&(J=tt);break}e&&J&&Z.alternate===null&&t($,J),L=o(Z,L,Q),z===null?j=Z:z.sibling=Z,z=Z,J=tt}if(Q===B.length)return r($,J),Oe&&Ra($,Q),j;if(J===null){for(;Q<B.length;Q++)J=y($,B[Q],G),J!==null&&(L=o(J,L,Q),z===null?j=J:z.sibling=J,z=J);return Oe&&Ra($,Q),j}for(J=i($,J);Q<B.length;Q++)tt=M(J,$,Q,B[Q],G),tt!==null&&(e&&tt.alternate!==null&&J.delete(tt.key===null?Q:tt.key),L=o(tt,L,Q),z===null?j=tt:z.sibling=tt,z=tt);return e&&J.forEach(function(lt){return t($,lt)}),Oe&&Ra($,Q),j}function C($,L,B,G){var j=Os(B);if(typeof j!="function")throw Error(st(150));if(B=j.call(B),B==null)throw Error(st(151));for(var z=j=null,J=L,Q=L=0,tt=null,Z=B.next();J!==null&&!Z.done;Q++,Z=B.next()){J.index>Q?(tt=J,J=null):tt=J.sibling;var lt=E($,J,Z.value,G);if(lt===null){J===null&&(J=tt);break}e&&J&&lt.alternate===null&&t($,J),L=o(lt,L,Q),z===null?j=lt:z.sibling=lt,z=lt,J=tt}if(Z.done)return r($,J),Oe&&Ra($,Q),j;if(J===null){for(;!Z.done;Q++,Z=B.next())Z=y($,Z.value,G),Z!==null&&(L=o(Z,L,Q),z===null?j=Z:z.sibling=Z,z=Z);return Oe&&Ra($,Q),j}for(J=i($,J);!Z.done;Q++,Z=B.next())Z=M(J,$,Q,Z.value,G),Z!==null&&(e&&Z.alternate!==null&&J.delete(Z.key===null?Q:Z.key),L=o(Z,L,Q),z===null?j=Z:z.sibling=Z,z=Z);return e&&J.forEach(function(bt){return t($,bt)}),Oe&&Ra($,Q),j}function N($,L,B,G){if(typeof B=="object"&&B!==null&&B.type===Oo&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case xu:e:{for(var j=B.key,z=L;z!==null;){if(z.key===j){if(j=B.type,j===Oo){if(z.tag===7){r($,z.sibling),L=a(z,B.props.children),L.return=$,$=L;break e}}else if(z.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===jn&&Y1(j)===z.type){r($,z.sibling),L=a(z,B.props),L.ref=Ds($,z,B),L.return=$,$=L;break e}r($,z);break}else t($,z);z=z.sibling}B.type===Oo?(L=za(B.props.children,$.mode,G,B.key),L.return=$,$=L):(G=Sh(B.type,B.key,B.props,null,$.mode,G),G.ref=Ds($,L,B),G.return=$,$=G)}return s($);case Mo:e:{for(z=B.key;L!==null;){if(L.key===z)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){r($,L.sibling),L=a(L,B.children||[]),L.return=$,$=L;break e}else{r($,L);break}else t($,L);L=L.sibling}L=L0(B,$.mode,G),L.return=$,$=L}return s($);case jn:return z=B._init,N($,L,z(B._payload),G)}if(Qs(B))return O($,L,B,G);if(Os(B))return C($,L,B,G);Cu($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(r($,L.sibling),L=a(L,B),L.return=$,$=L):(r($,L),L=$0(B,$.mode,G),L.return=$,$=L),s($)):r($,L)}return N}var rs=By(!0),Hy=By(!1),zh=ya(null),Jh=null,ko=null,i2=null;function n2(){i2=ko=Jh=null}function a2(e){var t=zh.current;Ae(zh),e._currentValue=t}function nd(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function zo(e,t){Jh=e,i2=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function vi(e){var t=e._currentValue;if(i2!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(Jh===null)throw Error(st(308));ko=e,Jh.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Ga=null;function o2(e){Ga===null?Ga=[e]:Ga.push(e)}function Uy(e,t,r,i){var a=t.interleaved;return a===null?(r.next=r,o2(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rn(e,i)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function s2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Rn(e,r)}return a=i.interleaved,a===null?(t.next=t,o2(i)):(t.next=a.next,a.next=t),i.interleaved=t,Rn(e,r)}function mh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,zp(e,r)}}function K1(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wh(e,t,r,i){var a=e.updateQueue;Xn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var h=l,d=h.next;h.next=null,s===null?o=d:s.next=d,s=h;var S=e.alternate;S!==null&&(S=S.updateQueue,l=S.lastBaseUpdate,l!==s&&(l===null?S.firstBaseUpdate=d:l.next=d,S.lastBaseUpdate=h))}if(o!==null){var y=a.baseState;s=0,S=d=h=null,l=o;do{var E=l.lane,M=l.eventTime;if((i&E)===E){S!==null&&(S=S.next={eventTime:M,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var O=e,C=l;switch(E=t,M=r,C.tag){case 1:if(O=C.payload,typeof O=="function"){y=O.call(M,y,E);break e}y=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=C.payload,E=typeof O=="function"?O.call(M,y,E):O,E==null)break e;y=Be({},y,E);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,E=a.effects,E===null?a.effects=[l]:E.push(l))}else M={eventTime:M,lane:E,tag:l.tag,payload:l.payload,callback:l.callback,next:null},S===null?(d=S=M,h=y):S=S.next=M,s|=E;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;E=l,l=E.next,E.next=null,a.lastBaseUpdate=E,a.shared.pending=null}}while(!0);if(S===null&&(h=y),a.baseState=h,a.firstBaseUpdate=d,a.lastBaseUpdate=S,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=y}}function Q1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=r,typeof a!="function")throw Error(st(191,a));a.call(i)}}}var uu={},sn=ya(uu),Cl=ya(uu),$l=ya(uu);function ja(e){if(e===uu)throw Error(st(174));return e}function l2(e,t){switch(Se($l,t),Se(Cl,e),Se(sn,uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kf(t,e)}Ae(sn),Se(sn,t)}function is(){Ae(sn),Ae(Cl),Ae($l)}function jy(e){ja($l.current);var t=ja(sn.current),r=kf(t,e.type);t!==r&&(Se(Cl,e),Se(sn,r))}function u2(e){Cl.current===e&&(Ae(sn),Ae(Cl))}var $e=ya(0);function Yh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var P0=[];function h2(){for(var e=0;e<P0.length;e++)P0[e]._workInProgressVersionPrimary=null;P0.length=0}var gh=Dn.ReactCurrentDispatcher,w0=Dn.ReactCurrentBatchConfig,qa=0,Fe=null,lr=null,dr=null,Kh=!1,hl=!1,Ll=0,RE=0;function Ar(){throw Error(st(321))}function c2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ui(e[r],t[r]))return!1;return!0}function f2(e,t,r,i,a,o){if(qa=o,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gh.current=e===null||e.memoizedState===null?DE:NE,e=r(i,a),hl){o=0;do{if(hl=!1,Ll=0,25<=o)throw Error(st(301));o+=1,dr=lr=null,t.updateQueue=null,gh.current=FE,e=r(i,a)}while(hl)}if(gh.current=Qh,t=lr!==null&&lr.next!==null,qa=0,dr=lr=Fe=null,Kh=!1,t)throw Error(st(300));return e}function d2(){var e=Ll!==0;return Ll=0,e}function Qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Fe.memoizedState=dr=e:dr=dr.next=e,dr}function yi(){if(lr===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=lr.next;var t=dr===null?Fe.memoizedState:dr.next;if(t!==null)dr=t,lr=e;else{if(e===null)throw Error(st(310));lr=e,e={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},dr===null?Fe.memoizedState=dr=e:dr=dr.next=e}return dr}function Dl(e,t){return typeof t=="function"?t(e):t}function M0(e){var t=yi(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var i=lr,a=i.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,i=i.baseState;var l=s=null,h=null,d=o;do{var S=d.lane;if((qa&S)===S)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var y={lane:S,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(l=h=y,s=i):h=h.next=y,Fe.lanes|=S,to|=S}d=d.next}while(d!==null&&d!==o);h===null?s=i:h.next=l,Ui(i,t.memoizedState)||(zr=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=h,r.lastRenderedState=i}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Fe.lanes|=o,to|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function O0(e){var t=yi(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Ui(o,t.memoizedState)||(zr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,i]}function Xy(){}function Vy(e,t){var r=Fe,i=yi(),a=t(),o=!Ui(i.memoizedState,a);if(o&&(i.memoizedState=a,zr=!0),i=i.queue,p2(Wy.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Nl(9,Jy.bind(null,r,i,a,t),void 0,null),mr===null)throw Error(st(349));qa&30||zy(r,t,a)}return a}function zy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jy(e,t,r,i){t.value=r,t.getSnapshot=i,Yy(t)&&Ky(e)}function Wy(e,t,r){return r(function(){Yy(t)&&Ky(e)})}function Yy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ui(e,r)}catch{return!0}}function Ky(e){var t=Rn(e,1);t!==null&&Fi(t,e,1,-1)}function Z1(e){var t=Qi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=LE.bind(null,Fe,e),[t.memoizedState,e]}function Nl(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Qy(){return yi().memoizedState}function vh(e,t,r,i){var a=Qi();Fe.flags|=e,a.memoizedState=Nl(1|t,r,void 0,i===void 0?null:i)}function Ac(e,t,r,i){var a=yi();i=i===void 0?null:i;var o=void 0;if(lr!==null){var s=lr.memoizedState;if(o=s.destroy,i!==null&&c2(i,s.deps)){a.memoizedState=Nl(t,r,o,i);return}}Fe.flags|=e,a.memoizedState=Nl(1|t,r,o,i)}function q1(e,t){return vh(8390656,8,e,t)}function p2(e,t){return Ac(2048,8,e,t)}function Zy(e,t){return Ac(4,2,e,t)}function qy(e,t){return Ac(4,4,e,t)}function tb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eb(e,t,r){return r=r!=null?r.concat([e]):null,Ac(4,4,tb.bind(null,t,e),r)}function _2(){}function rb(e,t){var r=yi();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&c2(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ib(e,t){var r=yi();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&c2(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function nb(e,t,r){return qa&21?(Ui(r,t)||(r=uy(),Fe.lanes|=r,to|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=r)}function CE(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var i=w0.transition;w0.transition={};try{e(!1),t()}finally{me=r,w0.transition=i}}function ab(){return yi().memoizedState}function $E(e,t,r){var i=oa(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},ob(e))sb(t,r);else if(r=Uy(e,t,r,i),r!==null){var a=Dr();Fi(r,e,i,a),lb(r,t,i)}}function LE(e,t,r){var i=oa(e),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(ob(e))sb(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,r);if(a.hasEagerState=!0,a.eagerState=l,Ui(l,s)){var h=t.interleaved;h===null?(a.next=a,o2(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}r=Uy(e,t,a,i),r!==null&&(a=Dr(),Fi(r,e,i,a),lb(r,t,i))}}function ob(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function sb(e,t){hl=Kh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lb(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,zp(e,r)}}var Qh={readContext:vi,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},DE={readContext:vi,useCallback:function(e,t){return Qi().memoizedState=[e,t===void 0?null:t],e},useContext:vi,useEffect:q1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vh(4194308,4,tb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vh(4194308,4,e,t)},useInsertionEffect:function(e,t){return vh(4,2,e,t)},useMemo:function(e,t){var r=Qi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Qi();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$E.bind(null,Fe,e),[i.memoizedState,e]},useRef:function(e){var t=Qi();return e={current:e},t.memoizedState=e},useState:Z1,useDebugValue:_2,useDeferredValue:function(e){return Qi().memoizedState=e},useTransition:function(){var e=Z1(!1),t=e[0];return e=CE.bind(null,e[1]),Qi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Fe,a=Qi();if(Oe){if(r===void 0)throw Error(st(407));r=r()}else{if(r=t(),mr===null)throw Error(st(349));qa&30||zy(i,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,q1(Wy.bind(null,i,o,e),[e]),i.flags|=2048,Nl(9,Jy.bind(null,i,o,r,t),void 0,null),r},useId:function(){var e=Qi(),t=mr.identifierPrefix;if(Oe){var r=In,i=En;r=(i&~(1<<32-Ni(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ll++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NE={readContext:vi,useCallback:rb,useContext:vi,useEffect:p2,useImperativeHandle:eb,useInsertionEffect:Zy,useLayoutEffect:qy,useMemo:ib,useReducer:M0,useRef:Qy,useState:function(){return M0(Dl)},useDebugValue:_2,useDeferredValue:function(e){var t=yi();return nb(t,lr.memoizedState,e)},useTransition:function(){var e=M0(Dl)[0],t=yi().memoizedState;return[e,t]},useMutableSource:Xy,useSyncExternalStore:Vy,useId:ab,unstable_isNewReconciler:!1},FE={readContext:vi,useCallback:rb,useContext:vi,useEffect:p2,useImperativeHandle:eb,useInsertionEffect:Zy,useLayoutEffect:qy,useMemo:ib,useReducer:O0,useRef:Qy,useState:function(){return O0(Dl)},useDebugValue:_2,useDeferredValue:function(e){var t=yi();return lr===null?t.memoizedState=e:nb(t,lr.memoizedState,e)},useTransition:function(){var e=O0(Dl)[0],t=yi().memoizedState;return[e,t]},useMutableSource:Xy,useSyncExternalStore:Vy,useId:ab,unstable_isNewReconciler:!1};function Ci(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ad(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pc={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Dr(),a=oa(e),o=Pn(i,a);o.payload=t,r!=null&&(o.callback=r),t=na(e,o,a),t!==null&&(Fi(t,e,a,i),mh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Dr(),a=oa(e),o=Pn(i,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=na(e,o,a),t!==null&&(Fi(t,e,a,i),mh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dr(),i=oa(e),a=Pn(r,i);a.tag=2,t!=null&&(a.callback=t),t=na(e,a,i),t!==null&&(Fi(t,e,i,r),mh(t,e,i))}};function tm(e,t,r,i,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,s):t.prototype&&t.prototype.isPureReactComponent?!wl(r,i)||!wl(a,o):!0}function ub(e,t,r){var i=!1,a=da,o=t.contextType;return typeof o=="object"&&o!==null?o=vi(o):(a=Yr(t)?Qa:Or.current,i=t.contextTypes,o=(i=i!=null)?ts(e,a):da),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function em(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Pc.enqueueReplaceState(t,t.state,null)}function od(e,t,r,i){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},s2(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=vi(o):(o=Yr(t)?Qa:Or.current,a.context=ts(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ad(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pc.enqueueReplaceState(a,a.state,null),Wh(e,r,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var r="",i=t;do r+=cT(i),i=i.return;while(i);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function R0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function hb(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){qh||(qh=!0,gd=i),sd(e,t)},r}function cb(e,t,r){r=Pn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){sd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){sd(e,t),typeof i!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function rm(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new kE;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(r)||(a.add(r),e=ZE.bind(null,e,t,r),t.then(e,e))}function im(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nm(e,t,r,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,na(r,t,1))),r.lanes|=1),e)}var BE=Dn.ReactCurrentOwner,zr=!1;function Lr(e,t,r,i){t.child=e===null?Hy(t,null,r,i):rs(t,e.child,r,i)}function am(e,t,r,i,a){r=r.render;var o=t.ref;return zo(t,a),i=f2(e,t,r,i,o,a),r=d2(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cn(e,t,a)):(Oe&&r&&t2(t),t.flags|=1,Lr(e,t,i,a),t.child)}function om(e,t,r,i,a){if(e===null){var o=r.type;return typeof o=="function"&&!T2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,fb(e,t,o,i,a)):(e=Sh(r.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(s,i)&&e.ref===t.ref)return Cn(e,t,a)}return t.flags|=1,e=sa(o,i),e.ref=t.ref,e.return=t,t.child=e}function fb(e,t,r,i,a){if(e!==null){var o=e.memoizedProps;if(wl(o,i)&&e.ref===t.ref)if(zr=!1,t.pendingProps=i=o,(e.lanes&a)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Cn(e,t,a)}return ld(e,t,r,i,a)}function db(e,t,r){var i=t.pendingProps,a=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ho,Qr),Qr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ho,Qr),Qr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Se(Ho,Qr),Qr|=i}else o!==null?(i=o.baseLanes|r,t.memoizedState=null):i=r,Se(Ho,Qr),Qr|=i;return Lr(e,t,a,r),t.child}function pb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ld(e,t,r,i,a){var o=Yr(r)?Qa:Or.current;return o=ts(t,o),zo(t,a),r=f2(e,t,r,i,o,a),i=d2(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cn(e,t,a)):(Oe&&i&&t2(t),t.flags|=1,Lr(e,t,r,a),t.child)}function sm(e,t,r,i,a){if(Yr(r)){var o=!0;jh(t)}else o=!1;if(zo(t,a),t.stateNode===null)yh(e,t),ub(t,r,i),od(t,r,i,a),i=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var h=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=vi(d):(d=Yr(r)?Qa:Or.current,d=ts(t,d));var S=r.getDerivedStateFromProps,y=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||h!==d)&&em(t,s,i,d),Xn=!1;var E=t.memoizedState;s.state=E,Wh(t,i,s,a),h=t.memoizedState,l!==i||E!==h||Wr.current||Xn?(typeof S=="function"&&(ad(t,r,S,i),h=t.memoizedState),(l=Xn||tm(t,r,l,i,E,h,d))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=d,i=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Gy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ci(t.type,l),s.props=d,y=t.pendingProps,E=s.context,h=r.contextType,typeof h=="object"&&h!==null?h=vi(h):(h=Yr(r)?Qa:Or.current,h=ts(t,h));var M=r.getDerivedStateFromProps;(S=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==y||E!==h)&&em(t,s,i,h),Xn=!1,E=t.memoizedState,s.state=E,Wh(t,i,s,a);var O=t.memoizedState;l!==y||E!==O||Wr.current||Xn?(typeof M=="function"&&(ad(t,r,M,i),O=t.memoizedState),(d=Xn||tm(t,r,d,i,E,O,h)||!1)?(S||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,O,h),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,O,h)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=O),s.props=i,s.state=O,s.context=h,i=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return ud(e,t,r,i,o,a)}function ud(e,t,r,i,a,o){pb(e,t);var s=(t.flags&128)!==0;if(!i&&!s)return a&&z1(t,r,!1),Cn(e,t,o);i=t.stateNode,BE.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&s?(t.child=rs(t,e.child,null,o),t.child=rs(t,null,l,o)):Lr(e,t,l,o),t.memoizedState=i.state,a&&z1(t,r,!0),t.child}function _b(e){var t=e.stateNode;t.pendingContext?V1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&V1(e,t.context,!1),l2(e,t.containerInfo)}function lm(e,t,r,i,a){return es(),r2(a),t.flags|=256,Lr(e,t,r,i),t.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function cd(e){return{baseLanes:e,cachePool:null,transitions:null}}function mb(e,t,r){var i=t.pendingProps,a=$e.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Se($e,a&1),e===null)return id(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Oc(s,i,0,null),e=za(e,i,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cd(r),t.memoizedState=hd,e):m2(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return HE(e,t,s,i,l,a,r);if(o){o=i.fallback,s=t.mode,a=e.child,l=a.sibling;var h={mode:"hidden",children:i.children};return!(s&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=sa(a,h),i.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=sa(l,o):(o=za(o,s,r,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=e.child.memoizedState,s=s===null?cd(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=hd,i}return o=e.child,e=o.sibling,i=sa(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function m2(e,t){return t=Oc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $u(e,t,r,i){return i!==null&&r2(i),rs(t,e.child,null,r),e=m2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HE(e,t,r,i,a,o,s){if(r)return t.flags&256?(t.flags&=-257,i=R0(Error(st(422))),$u(e,t,s,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Oc({mode:"visible",children:i.children},a,0,null),o=za(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&rs(t,e.child,null,s),t.child.memoizedState=cd(s),t.memoizedState=hd,o);if(!(t.mode&1))return $u(e,t,s,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(st(419)),i=R0(o,i,void 0),$u(e,t,s,i)}if(l=(s&e.childLanes)!==0,zr||l){if(i=mr,i!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Rn(e,a),Fi(i,e,a,-1))}return S2(),i=R0(Error(st(421))),$u(e,t,s,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qE.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Zr=ia(a.nextSibling),qr=t,Oe=!0,Li=null,e!==null&&(ui[hi++]=En,ui[hi++]=In,ui[hi++]=Za,En=e.id,In=e.overflow,Za=t),t=m2(t,i.children),t.flags|=4096,t)}function um(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),nd(e.return,t,r)}function C0(e,t,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=a)}function gb(e,t,r){var i=t.pendingProps,a=i.revealOrder,o=i.tail;if(Lr(e,t,i.children,r),i=$e.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,r,t);else if(e.tag===19)um(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se($e,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),C0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}C0(t,!0,r,null,o);break;case"together":C0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),to|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(st(153));if(t.child!==null){for(e=t.child,r=sa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function UE(e,t,r){switch(t.tag){case 3:_b(t),es();break;case 5:jy(t);break;case 1:Yr(t.type)&&jh(t);break;case 4:l2(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Se(zh,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se($e,$e.current&1),t.flags|=128,null):r&t.child.childLanes?mb(e,t,r):(Se($e,$e.current&1),e=Cn(e,t,r),e!==null?e.sibling:null);Se($e,$e.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return gb(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Se($e,$e.current),i)break;return null;case 22:case 23:return t.lanes=0,db(e,t,r)}return Cn(e,t,r)}var vb,fd,yb,bb;vb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fd=function(){};yb=function(e,t,r,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,ja(sn.current);var o=null;switch(r){case"input":a=Lf(e,a),i=Lf(e,i),o=[];break;case"select":a=Be({},a,{value:void 0}),i=Be({},i,{value:void 0}),o=[];break;case"textarea":a=Ff(e,a),i=Ff(e,i),o=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Uh)}Bf(r,i);var s;r=null;for(d in a)if(!i.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var h=i[d];if(l=a!=null?a[d]:void 0,i.hasOwnProperty(d)&&h!==l&&(h!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in h)h.hasOwnProperty(s)&&l[s]!==h[s]&&(r||(r={}),r[s]=h[s])}else r||(o||(o=[]),o.push(d,r)),r=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,l=l?l.__html:void 0,h!=null&&l!==h&&(o=o||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xl.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Ee("scroll",e),o||l===h||(o=[])):(o=o||[]).push(d,h))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};bb=function(e,t,r,i){r!==i&&(t.flags|=4)};function Ns(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function GE(e,t,r){var i=t.pendingProps;switch(e2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return Yr(t.type)&&Gh(),Pr(t),null;case 3:return i=t.stateNode,is(),Ae(Wr),Ae(Or),h2(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li!==null&&(bd(Li),Li=null))),fd(e,t),Pr(t),null;case 5:u2(t);var a=ja($l.current);if(r=t.type,e!==null&&t.stateNode!=null)yb(e,t,r,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(st(166));return Pr(t),null}if(e=ja(sn.current),Ru(t)){i=t.stateNode,r=t.type;var o=t.memoizedProps;switch(i[en]=t,i[Rl]=o,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(a=0;a<qs.length;a++)Ee(qs[a],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":v1(i,o),Ee("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",i);break;case"textarea":b1(i,o),Ee("invalid",i)}Bf(r,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ou(i.textContent,l,e),a=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ou(i.textContent,l,e),a=["children",""+l]):xl.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ee("scroll",i)}switch(r){case"input":Su(i),y1(i,o,!0);break;case"textarea":Su(i),x1(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Uh)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=s.createElement(r,{is:i.is}):(e=s.createElement(r),r==="select"&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,r),e[en]=t,e[Rl]=i,vb(e,t,!1,!1),t.stateNode=e;e:{switch(s=Hf(r,i),r){case"dialog":Ee("cancel",e),Ee("close",e),a=i;break;case"iframe":case"object":case"embed":Ee("load",e),a=i;break;case"video":case"audio":for(a=0;a<qs.length;a++)Ee(qs[a],e);a=i;break;case"source":Ee("error",e),a=i;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),a=i;break;case"details":Ee("toggle",e),a=i;break;case"input":v1(e,i),a=Lf(e,i),Ee("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=Be({},i,{value:void 0}),Ee("invalid",e);break;case"textarea":b1(e,i),a=Ff(e,i),Ee("invalid",e);break;default:a=i}Bf(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var h=l[o];o==="style"?Qv(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Yv(e,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&Sl(e,h):typeof h=="number"&&Sl(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xl.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ee("scroll",e):h!=null&&Hp(e,o,h,s))}switch(r){case"input":Su(e),y1(e,i,!1);break;case"textarea":Su(e),x1(e);break;case"option":i.value!=null&&e.setAttribute("value",""+fa(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?Go(e,!!i.multiple,o,!1):i.defaultValue!=null&&Go(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Uh)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)bb(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(st(166));if(r=ja($l.current),ja(sn.current),Ru(t)){if(i=t.stateNode,r=t.memoizedProps,i[en]=t,(o=i.nodeValue!==r)&&(e=qr,e!==null))switch(e.tag){case 3:Ou(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ou(i.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[en]=t,t.stateNode=i}return Pr(t),null;case 13:if(Ae($e),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Zr!==null&&t.mode&1&&!(t.flags&128))ky(),es(),t.flags|=98560,o=!1;else if(o=Ru(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(st(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(st(317));o[en]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),o=!1}else Li!==null&&(bd(Li),Li=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?hr===0&&(hr=3):S2())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return is(),fd(e,t),e===null&&Ml(t.stateNode.containerInfo),Pr(t),null;case 10:return a2(t.type._context),Pr(t),null;case 17:return Yr(t.type)&&Gh(),Pr(t),null;case 19:if(Ae($e),o=t.memoizedState,o===null)return Pr(t),null;if(i=(t.flags&128)!==0,s=o.rendering,s===null)if(i)Ns(o,!1);else{if(hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yh(e),s!==null){for(t.flags|=128,Ns(o,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)o=r,e=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se($e,$e.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>as&&(t.flags|=128,i=!0,Ns(o,!1),t.lanes=4194304)}else{if(!i)if(e=Yh(s),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ns(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Oe)return Pr(t),null}else 2*Ve()-o.renderingStartTime>as&&r!==1073741824&&(t.flags|=128,i=!0,Ns(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,r=$e.current,Se($e,i?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return x2(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Qr&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(st(156,t.tag))}function jE(e,t){switch(e2(t),t.tag){case 1:return Yr(t.type)&&Gh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),Ae(Wr),Ae(Or),h2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u2(t),null;case 13:if(Ae($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(st(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae($e),null;case 4:return is(),null;case 10:return a2(t.type._context),null;case 22:case 23:return x2(),null;case 24:return null;default:return null}}var Lu=!1,Mr=!1,XE=typeof WeakSet=="function"?WeakSet:Set,At=null;function Bo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ue(e,t,i)}else r.current=null}function dd(e,t,r){try{r()}catch(i){Ue(e,t,i)}}var hm=!1;function VE(e,t){if(Kf=kh,e=Iy(),qp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,h=-1,d=0,S=0,y=e,E=null;t:for(;;){for(var M;y!==r||a!==0&&y.nodeType!==3||(l=s+a),y!==o||i!==0&&y.nodeType!==3||(h=s+i),y.nodeType===3&&(s+=y.nodeValue.length),(M=y.firstChild)!==null;)E=y,y=M;for(;;){if(y===e)break t;if(E===r&&++d===a&&(l=s),E===o&&++S===i&&(h=s),(M=y.nextSibling)!==null)break;y=E,E=y.parentNode}y=M}r=l===-1||h===-1?null:{start:l,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qf={focusedElem:e,selectionRange:r},kh=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var C=O.memoizedProps,N=O.memoizedState,$=t.stateNode,L=$.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ci(t.type,C),N);$.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(G){Ue(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return O=hm,hm=!1,O}function cl(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&dd(t,r,o)}a=a.next}while(a!==i)}}function wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function pd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xb(e){var t=e.alternate;t!==null&&(e.alternate=null,xb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Rl],delete t[td],delete t[PE],delete t[wE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sb(e){return e.tag===5||e.tag===3||e.tag===4}function cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uh));else if(i!==4&&(e=e.child,e!==null))for(_d(e,t,r),e=e.sibling;e!==null;)_d(e,t,r),e=e.sibling}function md(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(md(e,t,r),e=e.sibling;e!==null;)md(e,t,r),e=e.sibling}var br=null,$i=!1;function Bn(e,t,r){for(r=r.child;r!==null;)Tb(e,t,r),r=r.sibling}function Tb(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(bc,r)}catch{}switch(r.tag){case 5:Mr||Bo(r,t);case 6:var i=br,a=$i;br=null,Bn(e,t,r),br=i,$i=a,br!==null&&($i?(e=br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&($i?(e=br,r=r.stateNode,e.nodeType===8?I0(e.parentNode,r):e.nodeType===1&&I0(e,r),Al(e)):I0(br,r.stateNode));break;case 4:i=br,a=$i,br=r.stateNode.containerInfo,$i=!0,Bn(e,t,r),br=i,$i=a;break;case 0:case 11:case 14:case 15:if(!Mr&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&dd(r,t,s),a=a.next}while(a!==i)}Bn(e,t,r);break;case 1:if(!Mr&&(Bo(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){Ue(r,t,l)}Bn(e,t,r);break;case 21:Bn(e,t,r);break;case 22:r.mode&1?(Mr=(i=Mr)||r.memoizedState!==null,Bn(e,t,r),Mr=i):Bn(e,t,r);break;default:Bn(e,t,r)}}function fm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XE),t.forEach(function(i){var a=tI.bind(null,e,i);r.has(i)||(r.add(i),i.then(a,a))})}}function Pi(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:br=l.stateNode,$i=!1;break e;case 3:br=l.stateNode.containerInfo,$i=!0;break e;case 4:br=l.stateNode.containerInfo,$i=!0;break e}l=l.return}if(br===null)throw Error(st(160));Tb(o,s,a),br=null,$i=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(d){Ue(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eb(t,e),t=t.sibling}function Eb(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pi(t,e),Wi(e),i&4){try{cl(3,e,e.return),wc(3,e)}catch(C){Ue(e,e.return,C)}try{cl(5,e,e.return)}catch(C){Ue(e,e.return,C)}}break;case 1:Pi(t,e),Wi(e),i&512&&r!==null&&Bo(r,r.return);break;case 5:if(Pi(t,e),Wi(e),i&512&&r!==null&&Bo(r,r.return),e.flags&32){var a=e.stateNode;try{Sl(a,"")}catch(C){Ue(e,e.return,C)}}if(i&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,l=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zv(a,o),Hf(l,s);var d=Hf(l,o);for(s=0;s<h.length;s+=2){var S=h[s],y=h[s+1];S==="style"?Qv(a,y):S==="dangerouslySetInnerHTML"?Yv(a,y):S==="children"?Sl(a,y):Hp(a,S,y,d)}switch(l){case"input":Df(a,o);break;case"textarea":Jv(a,o);break;case"select":var E=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?Go(a,!!o.multiple,M,!1):E!==!!o.multiple&&(o.defaultValue!=null?Go(a,!!o.multiple,o.defaultValue,!0):Go(a,!!o.multiple,o.multiple?[]:"",!1))}a[Rl]=o}catch(C){Ue(e,e.return,C)}}break;case 6:if(Pi(t,e),Wi(e),i&4){if(e.stateNode===null)throw Error(st(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(C){Ue(e,e.return,C)}}break;case 3:if(Pi(t,e),Wi(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(C){Ue(e,e.return,C)}break;case 4:Pi(t,e),Wi(e);break;case 13:Pi(t,e),Wi(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(y2=Ve())),i&4&&fm(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(Mr=(d=Mr)||S,Pi(t,e),Mr=d):Pi(t,e),Wi(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!S&&e.mode&1)for(At=e,S=e.child;S!==null;){for(y=At=S;At!==null;){switch(E=At,M=E.child,E.tag){case 0:case 11:case 14:case 15:cl(4,E,E.return);break;case 1:Bo(E,E.return);var O=E.stateNode;if(typeof O.componentWillUnmount=="function"){i=E,r=E.return;try{t=i,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(C){Ue(i,r,C)}}break;case 5:Bo(E,E.return);break;case 22:if(E.memoizedState!==null){pm(y);continue}}M!==null?(M.return=E,At=M):pm(y)}S=S.sibling}e:for(S=null,y=e;;){if(y.tag===5){if(S===null){S=y;try{a=y.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=y.stateNode,h=y.memoizedProps.style,s=h!=null&&h.hasOwnProperty("display")?h.display:null,l.style.display=Kv("display",s))}catch(C){Ue(e,e.return,C)}}}else if(y.tag===6){if(S===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(C){Ue(e,e.return,C)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Pi(t,e),Wi(e),i&4&&fm(e);break;case 21:break;default:Pi(t,e),Wi(e)}}function Wi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sb(r)){var i=r;break e}r=r.return}throw Error(st(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Sl(a,""),i.flags&=-33);var o=cm(e);md(e,o,a);break;case 3:case 4:var s=i.stateNode.containerInfo,l=cm(e);_d(e,l,s);break;default:throw Error(st(161))}}catch(h){Ue(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zE(e,t,r){At=e,Ib(e)}function Ib(e,t,r){for(var i=(e.mode&1)!==0;At!==null;){var a=At,o=a.child;if(a.tag===22&&i){var s=a.memoizedState!==null||Lu;if(!s){var l=a.alternate,h=l!==null&&l.memoizedState!==null||Mr;l=Lu;var d=Mr;if(Lu=s,(Mr=h)&&!d)for(At=a;At!==null;)s=At,h=s.child,s.tag===22&&s.memoizedState!==null?_m(a):h!==null?(h.return=s,At=h):_m(a);for(;o!==null;)At=o,Ib(o),o=o.sibling;At=a,Lu=l,Mr=d}dm(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,At=o):dm(e)}}function dm(e){for(;At!==null;){var t=At;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||wc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Mr)if(r===null)i.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ci(t.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Q1(t,o,i);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Q1(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var S=d.memoizedState;if(S!==null){var y=S.dehydrated;y!==null&&Al(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Mr||t.flags&512&&pd(t)}catch(E){Ue(t,t.return,E)}}if(t===e){At=null;break}if(r=t.sibling,r!==null){r.return=t.return,At=r;break}At=t.return}}function pm(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var r=t.sibling;if(r!==null){r.return=t.return,At=r;break}At=t.return}}function _m(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wc(4,t)}catch(h){Ue(t,r,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(h){Ue(t,a,h)}}var o=t.return;try{pd(t)}catch(h){Ue(t,o,h)}break;case 5:var s=t.return;try{pd(t)}catch(h){Ue(t,s,h)}}}catch(h){Ue(t,t.return,h)}if(t===e){At=null;break}var l=t.sibling;if(l!==null){l.return=t.return,At=l;break}At=t.return}}var JE=Math.ceil,Zh=Dn.ReactCurrentDispatcher,g2=Dn.ReactCurrentOwner,gi=Dn.ReactCurrentBatchConfig,le=0,mr=null,tr=null,Sr=0,Qr=0,Ho=ya(0),hr=0,Fl=null,to=0,Mc=0,v2=0,fl=null,Vr=null,y2=0,as=1/0,yn=null,qh=!1,gd=null,aa=null,Du=!1,Kn=null,tc=0,dl=0,vd=null,bh=-1,xh=0;function Dr(){return le&6?Ve():bh!==-1?bh:bh=Ve()}function oa(e){return e.mode&1?le&2&&Sr!==0?Sr&-Sr:OE.transition!==null?(xh===0&&(xh=uy()),xh):(e=me,e!==0||(e=window.event,e=e===void 0?16:my(e.type)),e):1}function Fi(e,t,r,i){if(50<dl)throw dl=0,vd=null,Error(st(185));ou(e,r,i),(!(le&2)||e!==mr)&&(e===mr&&(!(le&2)&&(Mc|=r),hr===4&&Jn(e,Sr)),Kr(e,i),r===1&&le===0&&!(t.mode&1)&&(as=Ve()+500,Ic&&ba()))}function Kr(e,t){var r=e.callbackNode;OT(e,t);var i=Fh(e,e===mr?Sr:0);if(i===0)r!==null&&E1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&E1(r),t===1)e.tag===0?ME(mm.bind(null,e)):Dy(mm.bind(null,e)),IE(function(){!(le&6)&&ba()}),r=null;else{switch(hy(i)){case 1:r=Vp;break;case 4:r=sy;break;case 16:r=Nh;break;case 536870912:r=ly;break;default:r=Nh}r=$b(r,Ab.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ab(e,t){if(bh=-1,xh=0,le&6)throw Error(st(327));var r=e.callbackNode;if(Jo()&&e.callbackNode!==r)return null;var i=Fh(e,e===mr?Sr:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=ec(e,i);else{t=i;var a=le;le|=2;var o=wb();(mr!==e||Sr!==t)&&(yn=null,as=Ve()+500,Va(e,t));do try{KE();break}catch(l){Pb(e,l)}while(!0);n2(),Zh.current=o,le=a,tr!==null?t=0:(mr=null,Sr=0,t=hr)}if(t!==0){if(t===2&&(a=Vf(e),a!==0&&(i=a,t=yd(e,a))),t===1)throw r=Fl,Va(e,0),Jn(e,i),Kr(e,Ve()),r;if(t===6)Jn(e,i);else{if(a=e.current.alternate,!(i&30)&&!WE(a)&&(t=ec(e,i),t===2&&(o=Vf(e),o!==0&&(i=o,t=yd(e,o))),t===1))throw r=Fl,Va(e,0),Jn(e,i),Kr(e,Ve()),r;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(st(345));case 2:Ca(e,Vr,yn);break;case 3:if(Jn(e,i),(i&130023424)===i&&(t=y2+500-Ve(),10<t)){if(Fh(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){Dr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qf(Ca.bind(null,e,Vr,yn),t);break}Ca(e,Vr,yn);break;case 4:if(Jn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-Ni(i);o=1<<s,s=t[s],s>a&&(a=s),i&=~o}if(i=a,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*JE(i/1960))-i,10<i){e.timeoutHandle=qf(Ca.bind(null,e,Vr,yn),i);break}Ca(e,Vr,yn);break;case 5:Ca(e,Vr,yn);break;default:throw Error(st(329))}}}return Kr(e,Ve()),e.callbackNode===r?Ab.bind(null,e):null}function yd(e,t){var r=fl;return e.current.memoizedState.isDehydrated&&(Va(e,t).flags|=256),e=ec(e,t),e!==2&&(t=Vr,Vr=r,t!==null&&bd(t)),e}function bd(e){Vr===null?Vr=e:Vr.push.apply(Vr,e)}function WE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot;a=a.value;try{if(!Ui(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t){for(t&=~v2,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ni(t),i=1<<r;e[r]=-1,t&=~i}}function mm(e){if(le&6)throw Error(st(327));Jo();var t=Fh(e,0);if(!(t&1))return Kr(e,Ve()),null;var r=ec(e,t);if(e.tag!==0&&r===2){var i=Vf(e);i!==0&&(t=i,r=yd(e,i))}if(r===1)throw r=Fl,Va(e,0),Jn(e,t),Kr(e,Ve()),r;if(r===6)throw Error(st(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ca(e,Vr,yn),Kr(e,Ve()),null}function b2(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(as=Ve()+500,Ic&&ba())}}function eo(e){Kn!==null&&Kn.tag===0&&!(le&6)&&Jo();var t=le;le|=1;var r=gi.transition,i=me;try{if(gi.transition=null,me=1,e)return e()}finally{me=i,gi.transition=r,le=t,!(le&6)&&ba()}}function x2(){Qr=Ho.current,Ae(Ho)}function Va(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,EE(r)),tr!==null)for(r=tr.return;r!==null;){var i=r;switch(e2(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Gh();break;case 3:is(),Ae(Wr),Ae(Or),h2();break;case 5:u2(i);break;case 4:is();break;case 13:Ae($e);break;case 19:Ae($e);break;case 10:a2(i.type._context);break;case 22:case 23:x2()}r=r.return}if(mr=e,tr=e=sa(e.current,null),Sr=Qr=t,hr=0,Fl=null,v2=Mc=to=0,Vr=fl=null,Ga!==null){for(t=0;t<Ga.length;t++)if(r=Ga[t],i=r.interleaved,i!==null){r.interleaved=null;var a=i.next,o=r.pending;if(o!==null){var s=o.next;o.next=a,i.next=s}r.pending=i}Ga=null}return e}function Pb(e,t){do{var r=tr;try{if(n2(),gh.current=Qh,Kh){for(var i=Fe.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Kh=!1}if(qa=0,dr=lr=Fe=null,hl=!1,Ll=0,g2.current=null,r===null||r.return===null){hr=1,Fl=t,tr=null;break}e:{var o=e,s=r.return,l=r,h=t;if(t=Sr,l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,S=l,y=S.tag;if(!(S.mode&1)&&(y===0||y===11||y===15)){var E=S.alternate;E?(S.updateQueue=E.updateQueue,S.memoizedState=E.memoizedState,S.lanes=E.lanes):(S.updateQueue=null,S.memoizedState=null)}var M=im(s);if(M!==null){M.flags&=-257,nm(M,s,l,o,t),M.mode&1&&rm(o,d,t),t=M,h=d;var O=t.updateQueue;if(O===null){var C=new Set;C.add(h),t.updateQueue=C}else O.add(h);break e}else{if(!(t&1)){rm(o,d,t),S2();break e}h=Error(st(426))}}else if(Oe&&l.mode&1){var N=im(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),nm(N,s,l,o,t),r2(ns(h,l));break e}}o=h=ns(h,l),hr!==4&&(hr=2),fl===null?fl=[o]:fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var $=hb(o,h,t);K1(o,$);break e;case 1:l=h;var L=o.type,B=o.stateNode;if(!(o.flags&128)&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(aa===null||!aa.has(B)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=cb(o,l,t);K1(o,G);break e}}o=o.return}while(o!==null)}Ob(r)}catch(j){t=j,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function wb(){var e=Zh.current;return Zh.current=Qh,e===null?Qh:e}function S2(){(hr===0||hr===3||hr===2)&&(hr=4),mr===null||!(to&268435455)&&!(Mc&268435455)||Jn(mr,Sr)}function ec(e,t){var r=le;le|=2;var i=wb();(mr!==e||Sr!==t)&&(yn=null,Va(e,t));do try{YE();break}catch(a){Pb(e,a)}while(!0);if(n2(),le=r,Zh.current=i,tr!==null)throw Error(st(261));return mr=null,Sr=0,hr}function YE(){for(;tr!==null;)Mb(tr)}function KE(){for(;tr!==null&&!xT();)Mb(tr)}function Mb(e){var t=Cb(e.alternate,e,Qr);e.memoizedProps=e.pendingProps,t===null?Ob(e):tr=t,g2.current=null}function Ob(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jE(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{hr=6,tr=null;return}}else if(r=GE(r,t,Qr),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);hr===0&&(hr=5)}function Ca(e,t,r){var i=me,a=gi.transition;try{gi.transition=null,me=1,QE(e,t,r,i)}finally{gi.transition=a,me=i}return null}function QE(e,t,r,i){do Jo();while(Kn!==null);if(le&6)throw Error(st(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(st(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(RT(e,o),e===mr&&(tr=mr=null,Sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Du||(Du=!0,$b(Nh,function(){return Jo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gi.transition,gi.transition=null;var s=me;me=1;var l=le;le|=4,g2.current=null,VE(e,r),Eb(r,e),gE(Qf),kh=!!Kf,Qf=Kf=null,e.current=r,zE(r),ST(),le=l,me=s,gi.transition=o}else e.current=r;if(Du&&(Du=!1,Kn=e,tc=a),o=e.pendingLanes,o===0&&(aa=null),IT(r.stateNode),Kr(e,Ve()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],i(a.value,{componentStack:a.stack,digest:a.digest});if(qh)throw qh=!1,e=gd,gd=null,e;return tc&1&&e.tag!==0&&Jo(),o=e.pendingLanes,o&1?e===vd?dl++:(dl=0,vd=e):dl=0,ba(),null}function Jo(){if(Kn!==null){var e=hy(tc),t=gi.transition,r=me;try{if(gi.transition=null,me=16>e?16:e,Kn===null)var i=!1;else{if(e=Kn,Kn=null,tc=0,le&6)throw Error(st(331));var a=le;for(le|=4,At=e.current;At!==null;){var o=At,s=o.child;if(At.flags&16){var l=o.deletions;if(l!==null){for(var h=0;h<l.length;h++){var d=l[h];for(At=d;At!==null;){var S=At;switch(S.tag){case 0:case 11:case 15:cl(8,S,o)}var y=S.child;if(y!==null)y.return=S,At=y;else for(;At!==null;){S=At;var E=S.sibling,M=S.return;if(xb(S),S===d){At=null;break}if(E!==null){E.return=M,At=E;break}At=M}}}var O=o.alternate;if(O!==null){var C=O.child;if(C!==null){O.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}At=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,At=s;else e:for(;At!==null;){if(o=At,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cl(9,o,o.return)}var $=o.sibling;if($!==null){$.return=o.return,At=$;break e}At=o.return}}var L=e.current;for(At=L;At!==null;){s=At;var B=s.child;if(s.subtreeFlags&2064&&B!==null)B.return=s,At=B;else e:for(s=L;At!==null;){if(l=At,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wc(9,l)}}catch(j){Ue(l,l.return,j)}if(l===s){At=null;break e}var G=l.sibling;if(G!==null){G.return=l.return,At=G;break e}At=l.return}}if(le=a,ba(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(bc,e)}catch{}i=!0}return i}finally{me=r,gi.transition=t}}return!1}function gm(e,t,r){t=ns(r,t),t=hb(e,t,1),e=na(e,t,1),t=Dr(),e!==null&&(ou(e,1,t),Kr(e,t))}function Ue(e,t,r){if(e.tag===3)gm(e,e,r);else for(;t!==null;){if(t.tag===3){gm(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(aa===null||!aa.has(i))){e=ns(r,e),e=cb(t,e,1),t=na(t,e,1),e=Dr(),t!==null&&(ou(t,1,e),Kr(t,e));break}}t=t.return}}function ZE(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Dr(),e.pingedLanes|=e.suspendedLanes&r,mr===e&&(Sr&r)===r&&(hr===4||hr===3&&(Sr&130023424)===Sr&&500>Ve()-y2?Va(e,0):v2|=r),Kr(e,t)}function Rb(e,t){t===0&&(e.mode&1?(t=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):t=1);var r=Dr();e=Rn(e,t),e!==null&&(ou(e,t,r),Kr(e,r))}function qE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Rb(e,r)}function tI(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(st(314))}i!==null&&i.delete(t),Rb(e,r)}var Cb;Cb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wr.current)zr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zr=!1,UE(e,t,r);zr=!!(e.flags&131072)}else zr=!1,Oe&&t.flags&1048576&&Ny(t,Vh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;yh(e,t),e=t.pendingProps;var a=ts(t,Or.current);zo(t,r),a=f2(null,t,i,e,a,r);var o=d2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yr(i)?(o=!0,jh(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,s2(t),a.updater=Pc,t.stateNode=a,a._reactInternals=t,od(t,i,e,r),t=ud(null,t,i,!0,o,r)):(t.tag=0,Oe&&o&&t2(t),Lr(null,t,a,r),t=t.child),t;case 16:i=t.elementType;e:{switch(yh(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=rI(i),e=Ci(i,e),a){case 0:t=ld(null,t,i,e,r);break e;case 1:t=sm(null,t,i,e,r);break e;case 11:t=am(null,t,i,e,r);break e;case 14:t=om(null,t,i,Ci(i.type,e),r);break e}throw Error(st(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ci(i,a),ld(e,t,i,a,r);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ci(i,a),sm(e,t,i,a,r);case 3:e:{if(_b(t),e===null)throw Error(st(387));i=t.pendingProps,o=t.memoizedState,a=o.element,Gy(e,t),Wh(t,i,null,r);var s=t.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ns(Error(st(423)),t),t=lm(e,t,i,r,a);break e}else if(i!==a){a=ns(Error(st(424)),t),t=lm(e,t,i,r,a);break e}else for(Zr=ia(t.stateNode.containerInfo.firstChild),qr=t,Oe=!0,Li=null,r=Hy(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(es(),i===a){t=Cn(e,t,r);break e}Lr(e,t,i,r)}t=t.child}return t;case 5:return jy(t),e===null&&id(t),i=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,Zf(i,a)?s=null:o!==null&&Zf(i,o)&&(t.flags|=32),pb(e,t),Lr(e,t,s,r),t.child;case 6:return e===null&&id(t),null;case 13:return mb(e,t,r);case 4:return l2(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=rs(t,null,i,r):Lr(e,t,i,r),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ci(i,a),am(e,t,i,a,r);case 7:return Lr(e,t,t.pendingProps,r),t.child;case 8:return Lr(e,t,t.pendingProps.children,r),t.child;case 12:return Lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Se(zh,i._currentValue),i._currentValue=s,o!==null)if(Ui(o.value,s)){if(o.children===a.children&&!Wr.current){t=Cn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var h=l.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Pn(-1,r&-r),h.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var S=d.pending;S===null?h.next=h:(h.next=S.next,S.next=h),d.pending=h}}o.lanes|=r,h=o.alternate,h!==null&&(h.lanes|=r),nd(o.return,r,t),l.lanes|=r;break}h=h.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(st(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),nd(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,zo(t,r),a=vi(a),i=i(a),t.flags|=1,Lr(e,t,i,r),t.child;case 14:return i=t.type,a=Ci(i,t.pendingProps),a=Ci(i.type,a),om(e,t,i,a,r);case 15:return fb(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ci(i,a),yh(e,t),t.tag=1,Yr(i)?(e=!0,jh(t)):e=!1,zo(t,r),ub(t,i,a),od(t,i,a,r),ud(null,t,i,!0,e,r);case 19:return gb(e,t,r);case 22:return db(e,t,r)}throw Error(st(156,t.tag))};function $b(e,t){return oy(e,t)}function eI(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,r,i){return new eI(e,t,r,i)}function T2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rI(e){if(typeof e=="function")return T2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gp)return 11;if(e===jp)return 14}return 2}function sa(e,t){var r=e.alternate;return r===null?(r=di(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sh(e,t,r,i,a,o){var s=2;if(i=e,typeof e=="function")T2(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Oo:return za(r.children,a,o,t);case Up:s=8,a|=8;break;case Of:return e=di(12,r,t,a|2),e.elementType=Of,e.lanes=o,e;case Rf:return e=di(13,r,t,a),e.elementType=Rf,e.lanes=o,e;case Cf:return e=di(19,r,t,a),e.elementType=Cf,e.lanes=o,e;case jv:return Oc(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uv:s=10;break e;case Gv:s=9;break e;case Gp:s=11;break e;case jp:s=14;break e;case jn:s=16,i=null;break e}throw Error(st(130,e==null?e:typeof e,""))}return t=di(s,r,t,a),t.elementType=e,t.type=i,t.lanes=o,t}function za(e,t,r,i){return e=di(7,e,i,t),e.lanes=r,e}function Oc(e,t,r,i){return e=di(22,e,i,t),e.elementType=jv,e.lanes=r,e.stateNode={isHidden:!1},e}function $0(e,t,r){return e=di(6,e,null,t),e.lanes=r,e}function L0(e,t,r){return t=di(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iI(e,t,r,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p0(0),this.expirationTimes=p0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p0(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function E2(e,t,r,i,a,o,s,l,h){return e=new iI(e,t,r,l,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=di(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},s2(o),e}function nI(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Lb(e){if(!e)return da;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(st(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(st(171))}if(e.tag===1){var r=e.type;if(Yr(r))return Ly(e,r,t)}return t}function Db(e,t,r,i,a,o,s,l,h){return e=E2(r,i,!0,e,a,o,s,l,h),e.context=Lb(null),r=e.current,i=Dr(),a=oa(r),o=Pn(i,a),o.callback=t??null,na(r,o,a),e.current.lanes=a,ou(e,a,i),Kr(e,i),e}function Rc(e,t,r,i){var a=t.current,o=Dr(),s=oa(a);return r=Lb(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(o,s),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=na(a,t,s),e!==null&&(Fi(e,a,s,o),mh(e,a,s)),s}function rc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I2(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function aI(){return null}var Nb=typeof reportError=="function"?reportError:function(e){console.error(e)};function A2(e){this._internalRoot=e}Cc.prototype.render=A2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(st(409));Rc(e,t,null,null)};Cc.prototype.unmount=A2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eo(function(){Rc(null,e,null,null)}),t[On]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zn.length&&t!==0&&t<zn[r].priority;r++);zn.splice(r,0,e),r===0&&_y(e)}};function P2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ym(){}function oI(e,t,r,i,a){if(a){if(typeof i=="function"){var o=i;i=function(){var d=rc(s);o.call(d)}}var s=Db(t,i,e,0,null,!1,!1,"",ym);return e._reactRootContainer=s,e[On]=s.current,Ml(e.nodeType===8?e.parentNode:e),eo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var l=i;i=function(){var d=rc(h);l.call(d)}}var h=E2(e,0,!1,null,null,!1,!1,"",ym);return e._reactRootContainer=h,e[On]=h.current,Ml(e.nodeType===8?e.parentNode:e),eo(function(){Rc(t,h,r,i)}),h}function Lc(e,t,r,i,a){var o=r._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var h=rc(s);l.call(h)}}Rc(t,s,e,a)}else s=oI(r,t,e,a,i);return rc(s)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zs(t.pendingLanes);r!==0&&(zp(t,r|1),Kr(t,Ve()),!(le&6)&&(as=Ve()+500,ba()))}break;case 13:eo(function(){var i=Rn(e,1);if(i!==null){var a=Dr();Fi(i,e,1,a)}}),I2(e,1)}};Jp=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=Dr();Fi(t,e,134217728,r)}I2(e,134217728)}};fy=function(e){if(e.tag===13){var t=oa(e),r=Rn(e,t);if(r!==null){var i=Dr();Fi(r,e,t,i)}I2(e,t)}};dy=function(){return me};py=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Gf=function(e,t,r){switch(t){case"input":if(Df(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var a=Ec(i);if(!a)throw Error(st(90));Vv(i),Df(i,a)}}}break;case"textarea":Jv(e,r);break;case"select":t=r.value,t!=null&&Go(e,!!r.multiple,t,!1)}};ty=b2;ey=eo;var sI={usingClientEntryPoint:!1,Events:[lu,Lo,Ec,Zv,qv,b2]},Fs={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lI={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ny(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||aI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{bc=Nu.inject(lI),on=Nu}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI;ei.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P2(t))throw Error(st(200));return nI(e,t,null,r)};ei.createRoot=function(e,t){if(!P2(e))throw Error(st(299));var r=!1,i="",a=Nb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=E2(e,1,!1,null,null,r,!1,i,a),e[On]=t.current,Ml(e.nodeType===8?e.parentNode:e),new A2(t)};ei.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(st(188)):(e=Object.keys(e).join(","),Error(st(268,e)));return e=ny(t),e=e===null?null:e.stateNode,e};ei.flushSync=function(e){return eo(e)};ei.hydrate=function(e,t,r){if(!$c(t))throw Error(st(200));return Lc(null,e,t,!0,r)};ei.hydrateRoot=function(e,t,r){if(!P2(e))throw Error(st(405));var i=r!=null&&r.hydratedSources||null,a=!1,o="",s=Nb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Db(t,null,e,1,r??null,a,!1,o,s),e[On]=t.current,Ml(e),i)for(e=0;e<i.length;e++)r=i[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cc(t)};ei.render=function(e,t,r){if(!$c(t))throw Error(st(200));return Lc(null,e,t,!1,r)};ei.unmountComponentAtNode=function(e){if(!$c(e))throw Error(st(40));return e._reactRootContainer?(eo(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};ei.unstable_batchedUpdates=b2;ei.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!$c(r))throw Error(st(200));if(e==null||e._reactInternals===void 0)throw Error(st(38));return Lc(e,t,r,!1,i)};ei.version="18.3.1-next-f1338f8080-20240426";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(e){console.error(e)}}Fb(),Fv.exports=ei;var uI=Fv.exports,bm=uI;wf.createRoot=bm.createRoot,wf.hydrateRoot=bm.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},kl.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const xm="popstate";function hI(e){e===void 0&&(e={});function t(i,a){let{pathname:o,search:s,hash:l}=i.location;return xd("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:ic(a)}return fI(t,r,null,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cI(){return Math.random().toString(36).substr(2,8)}function Sm(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,r,i){return r===void 0&&(r=null),kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vs(t):t,{state:r,key:t&&t.key||i||cI()})}function ic(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function vs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function fI(e,t,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,l=Qn.Pop,h=null,d=S();d==null&&(d=0,s.replaceState(kl({},s.state,{idx:d}),""));function S(){return(s.state||{idx:null}).idx}function y(){l=Qn.Pop;let N=S(),$=N==null?null:N-d;d=N,h&&h({action:l,location:C.location,delta:$})}function E(N,$){l=Qn.Push;let L=xd(C.location,N,$);d=S()+1;let B=Sm(L,d),G=C.createHref(L);try{s.pushState(B,"",G)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(G)}o&&h&&h({action:l,location:C.location,delta:1})}function M(N,$){l=Qn.Replace;let L=xd(C.location,N,$);d=S();let B=Sm(L,d),G=C.createHref(L);s.replaceState(B,"",G),o&&h&&h({action:l,location:C.location,delta:0})}function O(N){let $=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof N=="string"?N:ic(N);return L=L.replace(/ $/,"%20"),er($,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,$)}let C={get action(){return l},get location(){return e(a,s)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(xm,y),h=N,()=>{a.removeEventListener(xm,y),h=null}},createHref(N){return t(a,N)},createURL:O,encodeLocation(N){let $=O(N);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:E,replace:M,go(N){return s.go(N)}};return C}var Tm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tm||(Tm={}));function dI(e,t,r){r===void 0&&(r="/");let i=typeof t=="string"?vs(t):t,a=w2(i.pathname||"/",r);if(a==null)return null;let o=Bb(e);pI(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let h=AI(a);s=TI(o[l],h)}return s}function Bb(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(o,s,l)=>{let h={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};h.relativePath.startsWith("/")&&(er(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let d=la([i,h.relativePath]),S=r.concat(h);o.children&&o.children.length>0&&(er(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Bb(o.children,t,S,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:xI(d,o.index),routesMeta:S})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let h of Hb(o.path))a(o,s,h)}),t}function Hb(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let s=Hb(i.join("/")),l=[];return l.push(...s.map(h=>h===""?o:[o,h].join("/"))),a&&l.push(...s),l.map(h=>e.startsWith("/")&&h===""?"/":h)}function pI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SI(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const _I=/^:[\w-]+$/,mI=3,gI=2,vI=1,yI=10,bI=-2,Em=e=>e==="*";function xI(e,t){let r=e.split("/"),i=r.length;return r.some(Em)&&(i+=bI),t&&(i+=gI),r.filter(a=>!Em(a)).reduce((a,o)=>a+(_I.test(o)?mI:o===""?vI:yI),i)}function SI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function TI(e,t){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],h=s===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",S=EI({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},d);if(!S)return null;Object.assign(i,S.params);let y=l.route;o.push({params:i,pathname:la([a,S.pathname]),pathnameBase:OI(la([a,S.pathnameBase])),route:y}),S.pathnameBase!=="/"&&(a=la([a,S.pathnameBase]))}return o}function EI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=II(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:i.reduce((d,S,y)=>{let{paramName:E,isOptional:M}=S;if(E==="*"){let C=l[y]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const O=l[y];return M&&!O?d[E]=void 0:d[E]=(O||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:s,pattern:e}}function II(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),kb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,h)=>(i.push({paramName:l,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function AI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function w2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function PI(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?vs(e):e;return{pathname:r?r.startsWith("/")?r:wI(r,t):t,search:RI(i),hash:CI(a)}}function wI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function D0(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ub(e,t){let r=MI(e);return t?r.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Gb(e,t,r,i){i===void 0&&(i=!1);let a;typeof e=="string"?a=vs(e):(a=kl({},e),er(!a.pathname||!a.pathname.includes("?"),D0("?","pathname","search",a)),er(!a.pathname||!a.pathname.includes("#"),D0("#","pathname","hash",a)),er(!a.search||!a.search.includes("#"),D0("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,l;if(s==null)l=r;else{let y=t.length-1;if(!i&&s.startsWith("..")){let E=s.split("/");for(;E[0]==="..";)E.shift(),y-=1;a.pathname=E.join("/")}l=y>=0?t[y]:"/"}let h=PI(a,l),d=s&&s!=="/"&&s.endsWith("/"),S=(o||s===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||S)&&(h.pathname+="/"),h}const la=e=>e.join("/").replace(/\/\/+/g,"/"),OI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $I(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jb=["post","put","patch","delete"];new Set(jb);const LI=["get",...jb];new Set(LI);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Bl.apply(this,arguments)}const M2=xt.createContext(null),DI=xt.createContext(null),lo=xt.createContext(null),Dc=xt.createContext(null),uo=xt.createContext({outlet:null,matches:[],isDataRoute:!1}),Xb=xt.createContext(null);function NI(e,t){let{relative:r}=t===void 0?{}:t;hu()||er(!1);let{basename:i,navigator:a}=xt.useContext(lo),{hash:o,pathname:s,search:l}=zb(e,{relative:r}),h=s;return i!=="/"&&(h=s==="/"?i:la([i,s])),a.createHref({pathname:h,search:l,hash:o})}function hu(){return xt.useContext(Dc)!=null}function cu(){return hu()||er(!1),xt.useContext(Dc).location}function Vb(e){xt.useContext(lo).static||xt.useLayoutEffect(e)}function FI(){let{isDataRoute:e}=xt.useContext(uo);return e?KI():kI()}function kI(){hu()||er(!1);let e=xt.useContext(M2),{basename:t,future:r,navigator:i}=xt.useContext(lo),{matches:a}=xt.useContext(uo),{pathname:o}=cu(),s=JSON.stringify(Ub(a,r.v7_relativeSplatPath)),l=xt.useRef(!1);return Vb(()=>{l.current=!0}),xt.useCallback(function(d,S){if(S===void 0&&(S={}),!l.current)return;if(typeof d=="number"){i.go(d);return}let y=Gb(d,JSON.parse(s),o,S.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:la([t,y.pathname])),(S.replace?i.replace:i.push)(y,S.state,S)},[t,i,s,o,e])}function zb(e,t){let{relative:r}=t===void 0?{}:t,{future:i}=xt.useContext(lo),{matches:a}=xt.useContext(uo),{pathname:o}=cu(),s=JSON.stringify(Ub(a,i.v7_relativeSplatPath));return xt.useMemo(()=>Gb(e,JSON.parse(s),o,r==="path"),[e,s,o,r])}function BI(e,t){return HI(e,t)}function HI(e,t,r,i){hu()||er(!1);let{navigator:a}=xt.useContext(lo),{matches:o}=xt.useContext(uo),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let h=s?s.pathnameBase:"/";s&&s.route;let d=cu(),S;if(t){var y;let N=typeof t=="string"?vs(t):t;h==="/"||(y=N.pathname)!=null&&y.startsWith(h)||er(!1),S=N}else S=d;let E=S.pathname||"/",M=E;if(h!=="/"){let N=h.replace(/^\//,"").split("/");M="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let O=dI(e,{pathname:M}),C=VI(O&&O.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:la([h,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:la([h,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,r,i);return t&&C?xt.createElement(Dc.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Qn.Pop}},C):C}function UI(){let e=YI(),t=$I(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return xt.createElement(xt.Fragment,null,xt.createElement("h2",null,"Unexpected Application Error!"),xt.createElement("h3",{style:{fontStyle:"italic"}},t),r?xt.createElement("pre",{style:a},r):null,null)}const GI=xt.createElement(UI,null);class jI extends xt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?xt.createElement(uo.Provider,{value:this.props.routeContext},xt.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XI(e){let{routeContext:t,match:r,children:i}=e,a=xt.useContext(M2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),xt.createElement(uo.Provider,{value:t},i)}function VI(e,t,r,i){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var o;if((o=r)!=null&&o.errors)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let S=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);S>=0||er(!1),s=s.slice(0,Math.min(s.length,S+1))}let h=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let S=0;S<s.length;S++){let y=s[S];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=S),y.route.id){let{loaderData:E,errors:M}=r,O=y.route.loader&&E[y.route.id]===void 0&&(!M||M[y.route.id]===void 0);if(y.route.lazy||O){h=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((S,y,E)=>{let M,O=!1,C=null,N=null;r&&(M=l&&y.route.id?l[y.route.id]:void 0,C=y.route.errorElement||GI,h&&(d<0&&E===0?(O=!0,N=null):d===E&&(O=!0,N=y.route.hydrateFallbackElement||null)));let $=t.concat(s.slice(0,E+1)),L=()=>{let B;return M?B=C:O?B=N:y.route.Component?B=xt.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=S,xt.createElement(XI,{match:y,routeContext:{outlet:S,matches:$,isDataRoute:r!=null},children:B})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?xt.createElement(jI,{location:r.location,revalidation:r.revalidation,component:C,error:M,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}var Jb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jb||{}),nc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nc||{});function zI(e){let t=xt.useContext(M2);return t||er(!1),t}function JI(e){let t=xt.useContext(DI);return t||er(!1),t}function WI(e){let t=xt.useContext(uo);return t||er(!1),t}function Wb(e){let t=WI(),r=t.matches[t.matches.length-1];return r.route.id||er(!1),r.route.id}function YI(){var e;let t=xt.useContext(Xb),r=JI(nc.UseRouteError),i=Wb(nc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}function KI(){let{router:e}=zI(Jb.UseNavigateStable),t=Wb(nc.UseNavigateStable),r=xt.useRef(!1);return Vb(()=>{r.current=!0}),xt.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bl({fromRouteId:t},o)))},[e,t])}function Th(e){er(!1)}function QI(e){let{basename:t="/",children:r=null,location:i,navigationType:a=Qn.Pop,navigator:o,static:s=!1,future:l}=e;hu()&&er(!1);let h=t.replace(/^\/*/,"/"),d=xt.useMemo(()=>({basename:h,navigator:o,static:s,future:Bl({v7_relativeSplatPath:!1},l)}),[h,l,o,s]);typeof i=="string"&&(i=vs(i));let{pathname:S="/",search:y="",hash:E="",state:M=null,key:O="default"}=i,C=xt.useMemo(()=>{let N=w2(S,h);return N==null?null:{location:{pathname:N,search:y,hash:E,state:M,key:O},navigationType:a}},[h,S,y,E,M,O,a]);return C==null?null:xt.createElement(lo.Provider,{value:d},xt.createElement(Dc.Provider,{children:r,value:C}))}function ZI(e){let{children:t,location:r}=e;return BI(Sd(t),r)}new Promise(()=>{});function Sd(e,t){t===void 0&&(t=[]);let r=[];return xt.Children.forEach(e,(i,a)=>{if(!xt.isValidElement(i))return;let o=[...t,a];if(i.type===xt.Fragment){r.push.apply(r,Sd(i.props.children,o));return}i.type!==Th&&er(!1),!i.props.index||!i.props.children||er(!1);let s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Sd(i.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Td.apply(this,arguments)}function qI(e,t){if(e==null)return{};var r={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function tA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eA(e,t){return e.button===0&&(!t||t==="_self")&&!tA(e)}const rA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iA="6";try{window.__reactRouterVersion=iA}catch{}const nA="startTransition",Im=ZS[nA];function aA(e){let{basename:t,children:r,future:i,window:a}=e,o=xt.useRef();o.current==null&&(o.current=hI({window:a,v5Compat:!0}));let s=o.current,[l,h]=xt.useState({action:s.action,location:s.location}),{v7_startTransition:d}=i||{},S=xt.useCallback(y=>{d&&Im?Im(()=>h(y)):h(y)},[h,d]);return xt.useLayoutEffect(()=>s.listen(S),[s,S]),xt.createElement(QI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:i})}const oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Am=xt.forwardRef(function(t,r){let{onClick:i,relative:a,reloadDocument:o,replace:s,state:l,target:h,to:d,preventScrollReset:S,unstable_viewTransition:y}=t,E=qI(t,rA),{basename:M}=xt.useContext(lo),O,C=!1;if(typeof d=="string"&&sA.test(d)&&(O=d,oA))try{let B=new URL(window.location.href),G=d.startsWith("//")?new URL(B.protocol+d):new URL(d),j=w2(G.pathname,M);G.origin===B.origin&&j!=null?d=j+G.search+G.hash:C=!0}catch{}let N=NI(d,{relative:a}),$=lA(d,{replace:s,state:l,target:h,preventScrollReset:S,relative:a,unstable_viewTransition:y});function L(B){i&&i(B),B.defaultPrevented||$(B)}return xt.createElement("a",Td({},E,{href:O||N,onClick:C||o?i:L,ref:r,target:h}))});var Pm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pm||(Pm={}));var wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wm||(wm={}));function lA(e,t){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=t===void 0?{}:t,h=FI(),d=cu(),S=zb(e,{relative:s});return xt.useCallback(y=>{if(eA(y,r)){y.preventDefault();let E=i!==void 0?i:ic(d)===ic(S);h(e,{replace:E,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[d,h,S,i,a,r,e,o,s,l])}const uA="/myblog/assets/icon-CZ4wQd-R.png",Mm=xt.memo(()=>{const[e,t]=xt.useState(0);return ie.jsxs(ie.Fragment,{children:[ie.jsx("div",{children:ie.jsx("img",{src:uA,className:"logo",alt:"icon logo"})}),ie.jsx("h1",{children:"Vite + React"}),ie.jsx("div",{className:"card",children:ie.jsxs("button",{onClick:()=>t(r=>r+1),children:["count is ",e]})}),ie.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}),hA=xt.memo(()=>ie.jsx("div",{children:"Page2"})),cA=xt.memo(()=>{const[e,t]=xt.useState("loading");return xt.useEffect(()=>(console.log("loading mount"),t("loading"),setTimeout(()=>{console.log("2s- loading mount"),t("loading_out")},2e3),()=>{}),[]),ie.jsx(ie.Fragment,{children:ie.jsxs("div",{id:"loading",className:e,children:[ie.jsx("svg",{viewBox:"0 0 50 50",children:ie.jsx("circle",{r:"25",cx:"25",cy:"25"})}),ie.jsx("p",{children:"LOADING"})]})})});function fA(){const e=cu(),[t,r]=xt.useState(!1);return xt.useEffect(()=>{console.log(e.pathname),r(!0),setTimeout(()=>{console.log("app-mount, 5S timeout "),r(!1)},5e3)},[e]),ie.jsxs(ie.Fragment,{children:[t&&ie.jsx(cA,{}),ie.jsx(Am,{to:"/home",children:"首页"}),ie.jsx("br",{}),ie.jsx(Am,{to:"/page2",children:"页面2"}),ie.jsx("br",{}),ie.jsxs(ZI,{children:[ie.jsx(Th,{path:"/",element:ie.jsx(Mm,{})}),ie.jsx(Th,{path:"/home",element:ie.jsx(Mm,{})}),ie.jsx(Th,{path:"/page2",element:ie.jsx(hA,{})})]})]})}var dA=Object.defineProperty,Om=Object.getOwnPropertySymbols,pA=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable,Ed=(e,t,r)=>t in e?dA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mA=(e,t)=>{for(var r in t||(t={}))pA.call(t,r)&&Ed(e,r,t[r]);if(Om)for(var r of Om(t))_A.call(t,r)&&Ed(e,r,t[r]);return e},Xt=(e,t,r)=>(Ed(e,typeof t!="symbol"?t+"":t,r),r),Gr=(e,t,r)=>new Promise((i,a)=>{var o=h=>{try{l(r.next(h))}catch(d){a(d)}},s=h=>{try{l(r.throw(h))}catch(d){a(d)}},l=h=>h.done?i(h.value):Promise.resolve(h.value).then(o,s);l((r=r.apply(e,t)).next())});window._iconfont_svg_string_3847283='<svg><symbol id="icon-rest" viewBox="0 0 1280 1024"><path d="M352 512c88.22 0 160-71.78 160-160s-71.78-160-160-160-160 71.78-160 160 71.78 160 160 160z m704-256H608c-17.68 0-32 14.32-32 32v288H128V160c0-17.68-14.32-32-32-32H32C14.32 128 0 142.32 0 160v704c0 17.68 14.32 32 32 32h64c17.68 0 32-14.32 32-32v-96h1024v96c0 17.68 14.32 32 32 32h64c17.68 0 32-14.32 32-32V480c0-123.72-100.28-224-224-224z"  ></path></symbol><symbol id="icon-about" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"  ></path></symbol><symbol id="icon-like" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"  ></path></symbol><symbol id="icon-skin" viewBox="0 0 1024 1024"><path d="M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7c-4.1-17.4-19.5-29.3-37-29.3H154c-24.3 0-44 19.7-44 44v252c0 24.3 19.7 44 44 44h75v388c0 24.3 19.7 44 44 44h478c24.3 0 44-19.7 44-44V466h75c24.3 0 44-19.7 44-44V170c0-24.3-19.7-44-44-44z"  ></path></symbol><symbol id="icon-setting" viewBox="0 0 1024 1024"><path d="M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1-21.2-21.2-49.2-32.8-79.1-32.8z"  ></path><path d="M924.8 626.1l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9c10.1-8.6 13.8-22.6 9.3-35.2l-0.9-2.6c-18.1-50.4-44.8-96.8-79.6-137.7l-1.8-2.1c-8.6-10.1-22.5-13.9-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9c-2.4-13.1-12.7-23.3-25.8-25.7l-2.7-0.5c-52-9.4-106.8-9.4-158.8 0l-2.7 0.5c-13.1 2.4-23.4 12.6-25.8 25.7l-15.8 85.3c-35.9 13.6-69.1 32.9-98.9 57.3l-81.8-29.1c-12.5-4.4-26.5-0.7-35.1 9.5l-1.8 2.1c-34.8 41.1-61.5 87.4-79.6 137.7l-0.9 2.6c-4.5 12.5-0.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5c-10.1 8.6-13.8 22.6-9.3 35.2l0.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1c8.6 10.1 22.5 13.9 35.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3c2.4 13.1 12.7 23.3 25.8 25.7l2.7 0.5c26.1 4.7 52.7 7.1 79.4 7.1 26.7 0 53.4-2.4 79.4-7.1l2.7-0.5c13.1-2.4 23.4-12.6 25.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9c12.5 4.4 26.5 0.7 35.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l0.9-2.6c4.3-12.4 0.6-26.3-9.5-35z m-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"  ></path></symbol><symbol id="icon-switch" viewBox="0 0 1024 1024"><path d="M512 565c133.7 0 242-108.3 242-242S645.7 81 512 81 270 189.3 270 323s108.3 242 242 242z m4.8 299.3a264.4 264.4 0 0 1 0-205.6c2.3-5.4 4.8-10.8 7.4-16a4 4 0 0 0-3.7-5.8H512a311.4 311.4 0 0 1-122.2-24.7 319.8 319.8 0 0 1-57.9-32 4 4 0 0 0-4.2-0.3C208.7 645.3 128 771.7 128 917v25a4 4 0 0 0 4 4h429.9a4 4 0 0 0 3-6.7 261.9 261.9 0 0 1-48.1-75zM760 568c-106 0-192 86-192 192s86 192 192 192 192-86 192-192-86-192-192-192z m-98.4 136a4 4 0 0 1 4-4h124v-33.4c0-16 20.8-22.1 29.4-8.7l36.9 57.5a16 16 0 0 1-13.5 24.6H665.6a4 4 0 0 1-4-4z m196.8 112a4 4 0 0 1-4 4h-124v33.4c0 16-20.8 22.1-29.4 8.7l-36.9-57.5a16 16 0 0 1 13.5-24.6h176.8a4 4 0 0 1 4 4z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M563.2 819.2a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8z m-320.4608-153.6a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m592.7936 25.6a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8zM947.2 477.1328a76.8 76.8 0 1 1 0 153.6 76.8 76.8 0 0 1 0-153.6zM128 307.2a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m782.6432-40.6016a51.2 51.2 0 1 1 0 102.4 51.2 51.2 0 0 1 0-102.4zM409.6 0a153.6 153.6 0 1 1 0 307.2 153.6 153.6 0 0 1 0-307.2z m384 153.6a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z"  ></path></symbol></svg>',function(e){var r=(r=document.getElementsByTagName("script"))[r.length-1],t=r.getAttribute("data-injectcss"),r=r.getAttribute("data-disable-injectsvg");if(!r){var i,a,o,s,l,h=function(y,E){E.parentNode.insertBefore(y,E)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(y){console&&console.log(y)}}i=function(){var y,E=document.createElement("div");E.innerHTML=e._iconfont_svg_string_3847283,(E=E.getElementsByTagName("svg")[0])&&(E.setAttribute("aria-hidden","true"),E.style.position="absolute",E.style.width=0,E.style.height=0,E.style.overflow="hidden",E=E,(y=document.body).firstChild?h(E,y.firstChild):y.appendChild(E))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),i()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(o=i,s=e.document,l=!1,S(),s.onreadystatechange=function(){s.readyState=="complete"&&(s.onreadystatechange=null,d())})}function d(){l||(l=!0,o())}function S(){try{s.documentElement.doScroll("left")}catch{return void setTimeout(S,50)}d()}}(window);const Yb=document.createElement("script");document.head.append(Yb);const gA=`
var __NONECONSOLE = {log(){}};(function(){var j=true;function aa(){if(j){return;}this._$MT=null;this._$5S=null;this._$NP=0;aa._$42++;this._$5S=new y(this);}aa._$0s=1;aa._$4s=2;aa._$42=0;aa._$62=function(aQ,aU){try{if(aU instanceof ArrayBuffer){aU=new DataView(aU);}if(!(aU instanceof DataView)){throw new J("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");}var aS=new K(aU);var aM=aS._$ST();var aK=aS._$ST();var aJ=aS._$ST();var aN;if(aM==109&&aK==111&&aJ==99){aN=aS._$ST();}else{throw new J("_$gi _$C _$li , _$Q0 _$P0.");}aS._$gr(aN);if(aN>ay._$T7){aQ._$NP|=aa._$4s;var aR=ay._$T7;var aI="_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+aR+" < _$f0 : "+aN+" )@_$SS#loadModel()\\
";throw new J(aI);}var aL=aS._$nP();if(aN>=ay._$s7){var aH=aS._$9T();var aT=aS._$9T();if(aH!=-30584||aT!=-30584){aQ._$NP|=aa._$0s;throw new J("_$gi _$C _$li , _$0 _$6 _$Ui.");}}aQ._$KS(aL);var aP=aQ.getModelContext();aP.setDrawParam(aQ.getDrawParam());aP.init();}catch(aO){q._$Rb(aO);}};aa.prototype._$KS=function(aH){this._$MT=aH;};aa.prototype.getModelImpl=function(){if(this._$MT==null){this._$MT=new w();this._$MT._$zP();}return this._$MT;};aa.prototype.getCanvasWidth=function(){if(this._$MT==null){return 0;}return this._$MT.getCanvasWidth();};aa.prototype.getCanvasHeight=function(){if(this._$MT==null){return 0;}return this._$MT.getCanvasHeight();};aa.prototype.getParamFloat=function(aH){if(typeof aH!="number"){aH=this._$5S.getParamIndex(z.getID(aH));}return this._$5S.getParamFloat(aH);};aa.prototype.setParamFloat=function(aH,aJ,aI){if(typeof aH!="number"){aH=this._$5S.getParamIndex(z.getID(aH));}if(arguments.length<3){aI=1;}this._$5S.setParamFloat(aH,this._$5S.getParamFloat(aH)*(1-aI)+aJ*aI);};aa.prototype.addToParamFloat=function(aH,aJ,aI){if(typeof aH!="number"){aH=this._$5S.getParamIndex(z.getID(aH));}if(arguments.length<3){aI=1;}this._$5S.setParamFloat(aH,this._$5S.getParamFloat(aH)+aJ*aI);};aa.prototype.multParamFloat=function(aH,aJ,aI){if(typeof aH!="number"){aH=this._$5S.getParamIndex(z.getID(aH));}if(arguments.length<3){aI=1;}this._$5S.setParamFloat(aH,this._$5S.getParamFloat(aH)*(1+(aJ-1)*aI));};aa.prototype.getParamIndex=function(aH){return this._$5S.getParamIndex(z.getID(aH));};aa.prototype.loadParam=function(){this._$5S.loadParam();};aa.prototype.saveParam=function(){this._$5S.saveParam();};aa.prototype.init=function(){this._$5S.init();};aa.prototype.update=function(){this._$5S.update();};aa.prototype._$Rs=function(){q._$li("_$60 _$PT _$Rs()");return -1;};aa.prototype._$Ds=function(aH){q._$li("_$60 _$PT _$SS#_$Ds() \\n");};aa.prototype._$K2=function(){};aa.prototype.draw=function(){};aa.prototype.getModelContext=function(){return this._$5S;};aa.prototype._$s2=function(){return this._$NP;};aa.prototype._$P7=function(aK,aR,aH,a0){var aU=-1;var aY=0;var aM=this;var aJ=0.5;var aI=0.15;var aX=true;if(aH==0){for(var aV=0;aV<aK.length;aV++){var aP=aK[aV];var aO=aR[aV];var aS=(aM.getParamFloat(aP)!=0);aM.setPartsOpacity(aO,(aS?1:0));}return;}else{if(aK.length==1){var aP=aK[0];var aT=(aM.getParamFloat(aP)!=0);var aO=aR[0];var aQ=aM.getPartsOpacity(aO);var aW=aH/a0;if(aT){aQ+=aW;if(aQ>1){aQ=1;}}else{aQ-=aW;if(aQ<0){aQ=0;}}aM.setPartsOpacity(aO,aQ);}else{for(var aV=0;aV<aK.length;aV++){var aP=aK[aV];var aS=(aM.getParamFloat(aP)!=0);if(aS){if(aU>=0){break;}aU=aV;var aO=aR[aV];aY=aM.getPartsOpacity(aO);aY+=aH/a0;if(aY>1){aY=1;}}}if(aU<0){__NONECONSOLE.log("No _$wi _$q0/ _$U default[%s]",aK[0]);aU=0;aY=1;aM.loadParam();aM.setParamFloat(aK[aU],aY);aM.saveParam();}for(var aV=0;aV<aK.length;aV++){var aO=aR[aV];if(aU==aV){aM.setPartsOpacity(aO,aY);}else{var aL=aM.getPartsOpacity(aO);var aZ;if(aY<aJ){aZ=aY*(aJ-1)/aJ+1;}else{aZ=(1-aY)*aJ/(1-aJ);}if(aX){var aN=(1-aZ)*(1-aY);if(aN>aI){aZ=1-aI/(1-aY);}}if(aL>aZ){aL=aZ;}aM.setPartsOpacity(aO,aL);}}}}};aa.prototype.setPartsOpacity=function(aI,aH){if(typeof aI!="number"){aI=this._$5S.getPartsDataIndex(i.getID(aI));}this._$5S.setPartsOpacity(aI,aH);};aa.prototype.getPartsDataIndex=function(aH){if(!(aH instanceof i)){aH=i.getID(aH);}return this._$5S.getPartsDataIndex(aH);};aa.prototype.getPartsOpacity=function(aH){if(typeof aH!="number"){aH=this._$5S.getPartsDataIndex(i.getID(aH));}if(aH<0){return 0;}return this._$5S.getPartsOpacity(aH);};aa.prototype.getDrawParam=function(){};aa.prototype.getDrawDataIndex=function(aH){return this._$5S.getDrawDataIndex(Z.getID(aH));};aa.prototype.getDrawData=function(aH){return this._$5S.getDrawData(aH);};aa.prototype.getTransformedPoints=function(aH){var aI=this._$5S._$C2(aH);if(aI instanceof ag){return(aI).getTransformedPoints();}return null;};aa.prototype.getIndexArray=function(aI){if(aI<0||aI>=this._$5S._$aS.length){return null;}var aH=this._$5S._$aS[aI];if(aH!=null&&aH.getType()==a._$wb){if(aH instanceof b){return aH.getIndexArray();}}return null;};function W(aJ){if(j){return;}this.clipContextList=new Array();this.glcontext=aJ.gl;this.dp_webgl=aJ;this.curFrameNo=0;this.firstError_clipInNotUpdate=true;this.colorBuffer=0;this.isInitGLFBFunc=false;this.tmpBoundsOnModel=new av();if(Q.glContext.length>Q.frameBuffers.length){this.curFrameNo=this.getMaskRenderTexture();}else{}this.tmpModelToViewMatrix=new ac();this.tmpMatrix2=new ac();this.tmpMatrixForMask=new ac();this.tmpMatrixForDraw=new ac();this.CHANNEL_COLORS=new Array();var aI=new o();aI=new o();aI.r=0;aI.g=0;aI.b=0;aI.a=1;this.CHANNEL_COLORS.push(aI);aI=new o();aI.r=1;aI.g=0;aI.b=0;aI.a=0;this.CHANNEL_COLORS.push(aI);aI=new o();aI.r=0;aI.g=1;aI.b=0;aI.a=0;this.CHANNEL_COLORS.push(aI);aI=new o();aI.r=0;aI.g=0;aI.b=1;aI.a=0;this.CHANNEL_COLORS.push(aI);for(var aH=0;aH<this.CHANNEL_COLORS.length;aH++){this.dp_webgl.setChannelFlagAsColor(aH,this.CHANNEL_COLORS[aH]);}}W.CHANNEL_COUNT=4;W.RENDER_TEXTURE_USE_MIPMAP=false;W.NOT_USED_FRAME=-100;W.prototype._$L7=function(){if(this.tmpModelToViewMatrix){this.tmpModelToViewMatrix=null;}if(this.tmpMatrix2){this.tmpMatrix2=null;}if(this.tmpMatrixForMask){this.tmpMatrixForMask=null;}if(this.tmpMatrixForDraw){this.tmpMatrixForDraw=null;}if(this.tmpBoundsOnModel){this.tmpBoundsOnModel=null;}if(this.CHANNEL_COLORS){for(var aH=this.CHANNEL_COLORS.length-1;aH>=0;--aH){this.CHANNEL_COLORS.splice(aH,1);}this.CHANNEL_COLORS=[];}this.releaseShader();};W.prototype.releaseShader=function(){var aI=Q.frameBuffers.length;for(var aH=0;aH<aI;aH++){this.gl.deleteFramebuffer(Q.frameBuffers[aH].framebuffer);}Q.frameBuffers=[];Q.glContext=[];};W.prototype.init=function(aO,aN,aL){for(var aM=0;aM<aN.length;aM++){var aH=aN[aM].getClipIDList();if(aH==null){continue;}var aJ=this.findSameClip(aH);if(aJ==null){aJ=new U(this,aO,aH);this.clipContextList.push(aJ);}var aI=aN[aM].getDrawDataID();var aK=aO.getDrawDataIndex(aI);aJ.addClippedDrawData(aI,aK);var aP=aL[aM];aP.clipBufPre_clipContext=aJ;}};W.prototype.getMaskRenderTexture=function(){var aH=null;aH=this.dp_webgl.createFramebuffer();Q.frameBuffers[this.dp_webgl.glno]=aH;return this.dp_webgl.glno;};W.prototype.setupClip=function(a1,aQ){var aK=0;for(var aO=0;aO<this.clipContextList.length;aO++){var aP=this.clipContextList[aO];this.calcClippedDrawTotalBounds(a1,aP);if(aP.isUsing){aK++;}}if(aK>0){var aM=aQ.gl.getParameter(aQ.gl.FRAMEBUFFER_BINDING);var aW=new Array(4);aW[0]=0;aW[1]=0;aW[2]=aQ.gl.canvas.width;aW[3]=aQ.gl.canvas.height;aQ.gl.viewport(0,0,Q.clippingMaskBufferSize,Q.clippingMaskBufferSize);this.setupLayoutBounds(aK);aQ.gl.bindFramebuffer(aQ.gl.FRAMEBUFFER,Q.frameBuffers[this.curFrameNo].framebuffer);aQ.gl.clearColor(0,0,0,0);aQ.gl.clear(aQ.gl.COLOR_BUFFER_BIT);for(var aO=0;aO<this.clipContextList.length;aO++){var aP=this.clipContextList[aO];var aT=aP.allClippedDrawRect;var aN=aP.layoutChannelNo;var aV=aP.layoutBounds;var aJ=0.05;this.tmpBoundsOnModel._$jL(aT);this.tmpBoundsOnModel.expand(aT.width*aJ,aT.height*aJ);var aZ=aV.width/this.tmpBoundsOnModel.width;var aY=aV.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity();this.tmpMatrix2.translate(-1,-1,0);this.tmpMatrix2.scale(2,2,1);this.tmpMatrix2.translate(aV.x,aV.y,0);this.tmpMatrix2.scale(aZ,aY,1);this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0);this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m);this.tmpMatrix2.identity();this.tmpMatrix2.translate(aV.x,aV.y,0);this.tmpMatrix2.scale(aZ,aY,1);this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0);this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);var aH=this.tmpMatrixForMask.getArray();for(var aX=0;aX<16;aX++){aP.matrixForMask[aX]=aH[aX];}var a0=this.tmpMatrixForDraw.getArray();for(var aX=0;aX<16;aX++){aP.matrixForDraw[aX]=a0[aX];}var aS=aP.clippingMaskDrawIndexList.length;for(var aU=0;aU<aS;aU++){var aR=aP.clippingMaskDrawIndexList[aU];var aI=a1.getDrawData(aR);var aL=a1._$C2(aR);aQ.setClipBufPre_clipContextForMask(aP);aI.draw(aQ,a1,aL);}}aQ.gl.bindFramebuffer(aQ.gl.FRAMEBUFFER,aM);aQ.setClipBufPre_clipContextForMask(null);aQ.gl.viewport(aW[0],aW[1],aW[2],aW[3]);}};W.prototype.getColorBuffer=function(){return this.colorBuffer;};W.prototype.findSameClip=function(aK){for(var aN=0;aN<this.clipContextList.length;aN++){var aO=this.clipContextList[aN];var aH=aO.clipIDList.length;if(aH!=aK.length){continue;}var aI=0;for(var aM=0;aM<aH;aM++){var aL=aO.clipIDList[aM];for(var aJ=0;aJ<aH;aJ++){if(aK[aJ]==aL){aI++;break;}}}if(aI==aH){return aO;}}return null;};W.prototype.calcClippedDrawTotalBounds=function(a6,aV){var aU=a6._$Ri.getModelImpl().getCanvasWidth();var a5=a6._$Ri.getModelImpl().getCanvasHeight();var aJ=aU>a5?aU:a5;var aT=aJ;var aR=aJ;var aS=0;var aP=0;var aL=aV.clippedDrawContextList.length;for(var aM=0;aM<aL;aM++){var aW=aV.clippedDrawContextList[aM];var aN=aW.drawDataIndex;var aK=a6._$C2(aN);if(aK._$yo()){var aX=aK.getTransformedPoints();var a4=aX.length;var aI=[];var aH=[];var aO=0;for(var a3=aw._$i2;a3<a4;a3+=aw._$No){aI[aO]=aX[a3];aH[aO]=aX[a3+1];aO++;}var a2=Math.min.apply(null,aI);var a1=Math.min.apply(null,aH);var a0=Math.max.apply(null,aI);var aZ=Math.max.apply(null,aH);if(a2<aT){aT=a2;}if(a1<aR){aR=a1;}if(a0>aS){aS=a0;}if(aZ>aP){aP=aZ;}}}if(aT==aJ){aV.allClippedDrawRect.x=0;aV.allClippedDrawRect.y=0;aV.allClippedDrawRect.width=0;aV.allClippedDrawRect.height=0;aV.isUsing=false;}else{var aQ=aS-aT;var aY=aP-aR;aV.allClippedDrawRect.x=aT;aV.allClippedDrawRect.y=aR;aV.allClippedDrawRect.width=aQ;aV.allClippedDrawRect.height=aY;aV.isUsing=true;}};W.prototype.setupLayoutBounds=function(aQ){var aI=aQ/W.CHANNEL_COUNT;var aP=aQ%W.CHANNEL_COUNT;aI=~~aI;aP=~~aP;var aH=0;for(var aJ=0;aJ<W.CHANNEL_COUNT;aJ++){var aM=aI+(aJ<aP?1:0);if(aM==0){}else{if(aM==1){var aL=this.clipContextList[aH++];aL.layoutChannelNo=aJ;aL.layoutBounds.x=0;aL.layoutBounds.y=0;aL.layoutBounds.width=1;aL.layoutBounds.height=1;}else{if(aM==2){for(var aO=0;aO<aM;aO++){var aN=aO%2;var aK=0;aN=~~aN;var aL=this.clipContextList[aH++];aL.layoutChannelNo=aJ;aL.layoutBounds.x=aN*0.5;aL.layoutBounds.y=0;aL.layoutBounds.width=0.5;aL.layoutBounds.height=1;}}else{if(aM<=4){for(var aO=0;aO<aM;aO++){var aN=aO%2;var aK=aO/2;aN=~~aN;aK=~~aK;var aL=this.clipContextList[aH++];aL.layoutChannelNo=aJ;aL.layoutBounds.x=aN*0.5;aL.layoutBounds.y=aK*0.5;aL.layoutBounds.width=0.5;aL.layoutBounds.height=0.5;}}else{if(aM<=9){for(var aO=0;aO<aM;aO++){var aN=aO%3;var aK=aO/3;aN=~~aN;aK=~~aK;var aL=this.clipContextList[aH++];aL.layoutChannelNo=aJ;aL.layoutBounds.x=aN/3;aL.layoutBounds.y=aK/3;aL.layoutBounds.width=1/3;aL.layoutBounds.height=1/3;}}else{q._$li("_$6 _$0P mask count : %d",aM);}}}}}}};function U(aH,aK,aI){this.clipIDList=new Array();this.clipIDList=aI;this.clippingMaskDrawIndexList=new Array();for(var aJ=0;aJ<aI.length;aJ++){this.clippingMaskDrawIndexList.push(aK.getDrawDataIndex(aI[aJ]));}this.clippedDrawContextList=new Array();this.isUsing=true;this.layoutChannelNo=0;this.layoutBounds=new av();this.allClippedDrawRect=new av();this.matrixForMask=new Float32Array(16);this.matrixForDraw=new Float32Array(16);this.owner=aH;}U.prototype.addClippedDrawData=function(aJ,aI){var aH=new R(aJ,aI);this.clippedDrawContextList.push(aH);};function R(aI,aH){this._$gP=aI;this.drawDataIndex=aH;}function I(){if(j){return;}this.color=null;}function ah(){if(j){return;}this._$dP=null;this._$eo=null;this._$V0=null;this._$dP=1000;this._$eo=1000;this._$V0=1;this._$a0();}ah._$JT=function(aP,aN,aO){var aQ=aP/aN;var a1=aO/aN;var aU=a1;var aZ=1/3;var aR=2/3;var a0=1-(1-a1)*(1-a1);var a2=1-(1-aU)*(1-aU);var aM=0;var aL=((1-a1)*aZ)*a0+(aU*aR+(1-aU)*aZ)*(1-a0);var aK=(aU+(1-aU)*aR)*a2+(a1*aZ+(1-a1)*aR)*(1-a2);var aJ=1;var aY=aJ-3*aK+3*aL-aM;var aX=3*aK-6*aL+3*aM;var aW=3*aL-3*aM;var aV=aM;if(aQ<=0){return 0;}else{if(aQ>=1){return 1;}}var aS=aQ;var aI=aS*aS;var aH=aS*aI;var aT=aY*aH+aX*aI+aW*aS+aV;return aT;};ah.prototype._$a0=function(){};ah.prototype.setFadeIn=function(aH){this._$dP=aH;};ah.prototype.setFadeOut=function(aH){this._$eo=aH;};ah.prototype._$pT=function(aH){this._$V0=aH;};ah.prototype.getFadeOut=function(){return this._$eo;};ah.prototype._$4T=function(){return this._$eo;};ah.prototype._$mT=function(){return this._$V0;};ah.prototype.getDurationMSec=function(){return -1;};ah.prototype.getLoopDurationMSec=function(){return -1;};ah.prototype.updateParam=function(aJ,aN){if(!aN._$AT||aN._$9L){return;}var aL=P.getUserTimeMSec();if(aN._$z2<0){aN._$z2=aL;aN._$bs=aL;var aM=this.getDurationMSec();if(aN._$Do<0){aN._$Do=(aM<=0)?-1:aN._$z2+aM;}}var aI=this._$V0;var aH=(this._$dP==0)?1:A._$r2(((aL-aN._$bs)/(this._$dP)));var aK=(this._$eo==0||aN._$Do<0)?1:A._$r2(((aN._$Do-aL)/(this._$eo)));aI=aI*aH*aK;if(!((0<=aI&&aI<=1))){__NONECONSOLE.log("### assert!! ### ");}this.updateParamExe(aJ,aL,aI,aN);if(aN._$Do>0&&aN._$Do<aL){aN._$9L=true;}};ah.prototype.updateParamExe=function(aH,aI,aJ,aK){};function q(){}q._$8s=0;q._$fT=new Object();q.start=function(aI){var aH=q._$fT[aI];if(aH==null){aH=new af();aH._$r=aI;q._$fT[aI]=aH;}aH._$0S=P.getSystemTimeMSec();};q.dump=function(aJ){var aH=q._$fT[aJ];if(aH!=null){var aI=P.getSystemTimeMSec();var aK=aI-aH._$0S;__NONECONSOLE.log(aJ+" : "+aK+"ms");return aK;}else{return -1;}};q.end=function(aJ){var aH=q._$fT[aJ];if(aH!=null){var aI=P.getSystemTimeMSec();return aI-aH._$0S;}else{return -1;}};q._$li=function(aI,aH){__NONECONSOLE.log("_$li : "+aI+"\\n",aH);};q._$Ji=function(aI,aH){__NONECONSOLE.log(aI,aH);};q._$dL=function(aI,aH){__NONECONSOLE.log(aI,aH);__NONECONSOLE.log("\\n");};q._$KL=function(aJ,aI){for(var aH=0;aH<aI;aH++){if(aH%16==0&&aH>0){__NONECONSOLE.log("\\n");}else{if(aH%8==0&&aH>0){__NONECONSOLE.log("  ");}}__NONECONSOLE.log("%02X ",(aJ[aH]&255));}__NONECONSOLE.log("\\n");};q._$nr=function(aL,aI,aK){__NONECONSOLE.log("%s\\n",aL);var aH=aI.length;for(var aJ=0;aJ<aH;++aJ){__NONECONSOLE.log("%5d",aI[aJ]);__NONECONSOLE.log("%s\\n",aK);__NONECONSOLE.log(",");}__NONECONSOLE.log("\\n");};q._$Rb=function(aH){__NONECONSOLE.log("dump exception : "+aH);__NONECONSOLE.log("stack :: "+aH.stack);};function af(){this._$r=null;this._$0S=null;}function F(){if(j){return;}this.x=null;this.y=null;this.width=null;this.height=null;}F.prototype._$8P=function(){return 0.5*(this.x+this.x+this.width);};F.prototype._$6P=function(){return 0.5*(this.y+this.y+this.height);};F.prototype._$EL=function(){return this.x+this.width;};F.prototype._$5T=function(){return this.y+this.height;};F.prototype._$jL=function(aI,aK,aJ,aH){this.x=aI;this.y=aK;this.width=aJ;this.height=aH;};F.prototype._$jL=function(aH){this.x=aH.x;this.y=aH.y;this.width=aH.width;this.height=aH.height;};function i(aH){if(j){return;}ak.prototype.constructor.call(this,aH);}i.prototype=new ak();i._$tP=new Object();i._$27=function(){i._$tP.clear();};i.getID=function(aH){var aI=i._$tP[aH];if(aI==null){aI=new i(aH);i._$tP[aH]=aI;}return aI;};i.prototype._$3s=function(){return new i();};function S(){}function z(aH){if(j){return;}ak.prototype.constructor.call(this,aH);}z.prototype=new ak();z._$tP=new Object();z._$27=function(){z._$tP.clear();};z.getID=function(aH){var aI=z._$tP[aH];if(aI==null){aI=new z(aH);z._$tP[aH]=aI;}return aI;};z.prototype._$3s=function(){return new z();};function w(){if(j){return;}this._$vo=null;this._$F2=null;this._$ao=400;this._$1S=400;w._$42++;}w._$42=0;w.prototype._$zP=function(){if(this._$vo==null){this._$vo=new an();}if(this._$F2==null){this._$F2=new Array();}};w.prototype.getCanvasWidth=function(){return this._$ao;};w.prototype.getCanvasHeight=function(){return this._$1S;};w.prototype._$F0=function(aH){this._$vo=aH._$nP();this._$F2=aH._$nP();this._$ao=aH._$6L();this._$1S=aH._$6L();};w.prototype._$6S=function(aH){this._$F2.push(aH);};w.prototype._$Xr=function(){return this._$F2;};w.prototype._$E2=function(){return this._$vo;};function u(){if(j){return;}this.p1=new N();this.p2=new N();this._$Fo=0;this._$Db=0;this._$L2=0;this._$M2=0;this._$ks=0;this._$9b=0;this._$iP=0;this._$iT=0;this._$lL=new Array();this._$qP=new Array();this.setup(0.3,0.5,0.1);}u.prototype.setup=function(aJ,aI,aH){this._$ks=this._$Yb();this.p2._$xT();if(arguments.length==3){this._$Fo=aJ;this._$L2=aI;this.p1._$p=aH;this.p2._$p=aH;this.p2.y=aJ;this.setup();}};u.prototype.getPhysicsPoint1=function(){return this.p1;};u.prototype.getPhysicsPoint2=function(){return this.p2;};u.prototype._$qr=function(){return this._$Db;};u.prototype._$pr=function(aH){this._$Db=aH;};u.prototype._$5r=function(){return this._$M2;};u.prototype._$Cs=function(){return this._$9b;};u.prototype._$Yb=function(){return(-180*(Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y)))/Math.PI);};u.prototype.addSrcParam=function(aJ,aH,aL,aI){var aK=new h(aJ,aH,aL,aI);this._$lL.push(aK);};u.prototype.addTargetParam=function(aJ,aH,aK,aI){var aL=new aF(aJ,aH,aK,aI);this._$qP.push(aL);};u.prototype.update=function(aI,aL){if(this._$iP==0){this._$iP=this._$iT=aL;this._$Fo=(Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));return;}var aK=(aL-this._$iT)/1000;if(aK!=0){for(var aJ=this._$lL.length-1;aJ>=0;--aJ){var aM=this._$lL[aJ];aM._$oP(aI,this);}this._$oo(aI,aK);this._$M2=this._$Yb();this._$9b=(this._$M2-this._$ks)/aK;this._$ks=this._$M2;}for(var aJ=this._$qP.length-1;aJ>=0;--aJ){var aH=this._$qP[aJ];aH._$YS(aI,this);}this._$iT=aL;};u.prototype._$oo=function(aN,aI){if(aI<0.033){aI=0.033;}var aU=1/aI;this.p1.vx=(this.p1.x-this.p1._$s0)*aU;this.p1.vy=(this.p1.y-this.p1._$70)*aU;this.p1.ax=(this.p1.vx-this.p1._$7L)*aU;this.p1.ay=(this.p1.vy-this.p1._$HL)*aU;this.p1.fx=this.p1.ax*this.p1._$p;this.p1.fy=this.p1.ay*this.p1._$p;this.p1._$xT();var aM=-(Math.atan2((this.p1.y-this.p2.y),this.p1.x-this.p2.x));var aL;var aV;var aR=Math.cos(aM);var aH=Math.sin(aM);var aW=9.8*this.p2._$p;var aQ=(this._$Db*aC._$bS);var aP=(aW*Math.cos(aM-aQ));aL=(aP*aH);aV=(aP*aR);var aK=(-this.p1.fx*aH*aH);var aT=(-this.p1.fy*aH*aR);var aJ=((-this.p2.vx*this._$L2));var aS=((-this.p2.vy*this._$L2));this.p2.fx=((aL+aK+aJ));this.p2.fy=((aV+aT+aS));this.p2.ax=this.p2.fx/this.p2._$p;this.p2.ay=this.p2.fy/this.p2._$p;this.p2.vx+=this.p2.ax*aI;this.p2.vy+=this.p2.ay*aI;this.p2.x+=this.p2.vx*aI;this.p2.y+=this.p2.vy*aI;var aO=(Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/aO;this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/aO;this.p2.vx=(this.p2.x-this.p2._$s0)*aU;this.p2.vy=(this.p2.y-this.p2._$70)*aU;this.p2._$xT();};function N(){this._$p=1;this.x=0;this.y=0;this.vx=0;this.vy=0;this.ax=0;this.ay=0;this.fx=0;this.fy=0;this._$s0=0;this._$70=0;this._$7L=0;this._$HL=0;}N.prototype._$xT=function(){this._$s0=this.x;this._$70=this.y;this._$7L=this.vx;this._$HL=this.vy;};function at(aJ,aI,aH){this._$wL=null;this.scale=null;this._$V0=null;this._$wL=aJ;this.scale=aI;this._$V0=aH;}at.prototype._$oP=function(aI,aH){};function h(aJ,aK,aI,aH){at.prototype.constructor.call(this,aK,aI,aH);this._$tL=null;this._$tL=aJ;}h.prototype=new at();h.prototype._$oP=function(aJ,aH){var aK=this.scale*aJ.getParamFloat(this._$wL);var aL=aH.getPhysicsPoint1();switch(this._$tL){default:case u.Src.SRC_TO_X:aL.x=aL.x+(aK-aL.x)*this._$V0;break;case u.Src.SRC_TO_Y:aL.y=aL.y+(aK-aL.y)*this._$V0;break;case u.Src.SRC_TO_G_ANGLE:var aI=aH._$qr();aI=aI+(aK-aI)*this._$V0;aH._$pr(aI);break;}};function d(aJ,aI,aH){this._$wL=null;this.scale=null;this._$V0=null;this._$wL=aJ;this.scale=aI;this._$V0=aH;}d.prototype._$YS=function(aI,aH){};function aF(aI,aK,aJ,aH){d.prototype.constructor.call(this,aK,aJ,aH);this._$YP=null;this._$YP=aI;}aF.prototype=new d();aF.prototype._$YS=function(aI,aH){switch(this._$YP){default:case u.Target.TARGET_FROM_ANGLE:aI.setParamFloat(this._$wL,this.scale*aH._$5r(),this._$V0);break;case u.Target.TARGET_FROM_ANGLE_V:aI.setParamFloat(this._$wL,this.scale*aH._$Cs(),this._$V0);break;}};u.Src=function(){};u.Src.SRC_TO_X="SRC_TO_X";u.Src.SRC_TO_Y="SRC_TO_Y";u.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE";u.Target=function(){};u.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE";u.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V";function X(){if(j){return;}this._$fL=0;this._$gL=0;this._$B0=1;this._$z0=1;this._$qT=0;this.reflectX=false;this.reflectY=false;}X.prototype.init=function(aH){this._$fL=aH._$fL;this._$gL=aH._$gL;this._$B0=aH._$B0;this._$z0=aH._$z0;this._$qT=aH._$qT;this.reflectX=aH.reflectX;this.reflectY=aH.reflectY;};X.prototype._$F0=function(aH){this._$fL=aH._$_T();this._$gL=aH._$_T();this._$B0=aH._$_T();this._$z0=aH._$_T();this._$qT=aH._$_T();if(aH.getFormatVersion()>=ay.LIVE2D_FORMAT_VERSION_V2_10_SDK2){this.reflectX=aH._$po();this.reflectY=aH._$po();}};X.prototype._$e=function(){};var ad=function(){};ad._$ni=function(aL,aJ,aR,aQ,aK,aI,aH,aS,aN){var aM=(aH*aI-aS*aK);if(aM==0){return null;}else{var aO=((aL-aR)*aI-(aJ-aQ)*aK)/aM;var aP;if(aK!=0){aP=(aL-aR-aO*aH)/aK;}else{aP=(aJ-aQ-aO*aS)/aI;}if(isNaN(aP)){aP=(aL-aR-aO*aH)/aK;if(isNaN(aP)){aP=(aJ-aQ-aO*aS)/aI;}if(isNaN(aP)){__NONECONSOLE.log("a is NaN @UtVector#_$ni() ");__NONECONSOLE.log("v1x : "+aK);__NONECONSOLE.log("v1x != 0 ? "+(aK!=0));}}if(aN==null){return new Array(aP,aO);}else{aN[0]=aP;aN[1]=aO;return aN;}}};function av(){if(j){return;}this.x=null;this.y=null;this.width=null;this.height=null;}av.prototype._$8P=function(){return this.x+0.5*this.width;};av.prototype._$6P=function(){return this.y+0.5*this.height;};av.prototype._$EL=function(){return this.x+this.width;};av.prototype._$5T=function(){return this.y+this.height;};av.prototype._$jL=function(aI,aK,aJ,aH){this.x=aI;this.y=aK;this.width=aJ;this.height=aH;};av.prototype._$jL=function(aH){this.x=aH.x;this.y=aH.y;this.width=aH.width;this.height=aH.height;};av.prototype.contains=function(aH,aI){return this.x<=this.x&&this.y<=this.y&&(this.x<=this.x+this.width)&&(this.y<=this.y+this.height);};av.prototype.expand=function(aH,aI){this.x-=aH;this.y-=aI;this.width+=aH*2;this.height+=aI*2;};function aG(){}aG._$Z2=function(bb,bo,bp,a2){var a1=bo._$Q2(bb,bp);var a3=bb._$vs();var ba=bb._$Tr();bo._$zr(a3,ba,a1);if(a1<=0){return a2[a3[0]];}else{if(a1==1){var bj=a2[a3[0]];var bi=a2[a3[1]];var a9=ba[0];return(bj+(bi-bj)*a9)|0;}else{if(a1==2){var bj=a2[a3[0]];var bi=a2[a3[1]];var a0=a2[a3[2]];var aZ=a2[a3[3]];var a9=ba[0];var a8=ba[1];var br=(bj+(bi-bj)*a9)|0;var bq=(a0+(aZ-a0)*a9)|0;return(br+(bq-br)*a8)|0;}else{if(a1==3){var aP=a2[a3[0]];var aO=a2[a3[1]];var bn=a2[a3[2]];var bm=a2[a3[3]];var aK=a2[a3[4]];var aJ=a2[a3[5]];var bg=a2[a3[6]];var bf=a2[a3[7]];var a9=ba[0];var a8=ba[1];var a6=ba[2];var bj=(aP+(aO-aP)*a9)|0;var bi=(bn+(bm-bn)*a9)|0;var a0=(aK+(aJ-aK)*a9)|0;var aZ=(bg+(bf-bg)*a9)|0;var br=(bj+(bi-bj)*a8)|0;var bq=(a0+(aZ-a0)*a8)|0;return(br+(bq-br)*a6)|0;}else{if(a1==4){var aT=a2[a3[0]];var aS=a2[a3[1]];var bu=a2[a3[2]];var bt=a2[a3[3]];var aN=a2[a3[4]];var aM=a2[a3[5]];var bl=a2[a3[6]];var bk=a2[a3[7]];var be=a2[a3[8]];var bc=a2[a3[9]];var aX=a2[a3[10]];var aW=a2[a3[11]];var a7=a2[a3[12]];var a5=a2[a3[13]];var aR=a2[a3[14]];var aQ=a2[a3[15]];var a9=ba[0];var a8=ba[1];var a6=ba[2];var a4=ba[3];var aP=(aT+(aS-aT)*a9)|0;var aO=(bu+(bt-bu)*a9)|0;var bn=(aN+(aM-aN)*a9)|0;var bm=(bl+(bk-bl)*a9)|0;var aK=(be+(bc-be)*a9)|0;var aJ=(aX+(aW-aX)*a9)|0;var bg=(a7+(a5-a7)*a9)|0;var bf=(aR+(aQ-aR)*a9)|0;var bj=(aP+(aO-aP)*a8)|0;var bi=(bn+(bm-bn)*a8)|0;var a0=(aK+(aJ-aK)*a8)|0;var aZ=(bg+(bf-bg)*a8)|0;var br=(bj+(bi-bj)*a6)|0;var bq=(a0+(aZ-a0)*a6)|0;return(br+(bq-br)*a4)|0;}else{var aV=1<<a1;var aY=new Float32Array(aV);for(var bh=0;bh<aV;bh++){var aI=bh;var aH=1;for(var aL=0;aL<a1;aL++){aH*=(aI%2==0)?(1-ba[aL]):ba[aL];aI/=2;}aY[bh]=aH;}var bs=new Float32Array(aV);for(var aU=0;aU<aV;aU++){bs[aU]=a2[a3[aU]];}var bd=0;for(var aU=0;aU<aV;aU++){bd+=aY[aU]*bs[aU];}return(bd+0.5)|0;}}}}}};aG._$br=function(ba,bo,bp,bg){var a1=bo._$Q2(ba,bp);var a2=ba._$vs();var a9=ba._$Tr();bo._$zr(a2,a9,a1);if(a1<=0){return bg[a2[0]];}else{if(a1==1){var bj=bg[a2[0]];var bi=bg[a2[1]];var a8=a9[0];return bj+(bi-bj)*a8;}else{if(a1==2){var bj=bg[a2[0]];var bi=bg[a2[1]];var a0=bg[a2[2]];var aZ=bg[a2[3]];var a8=a9[0];var a7=a9[1];return(1-a7)*(bj+(bi-bj)*a8)+a7*(a0+(aZ-a0)*a8);}else{if(a1==3){var aP=bg[a2[0]];var aO=bg[a2[1]];var bn=bg[a2[2]];var bm=bg[a2[3]];var aK=bg[a2[4]];var aJ=bg[a2[5]];var bf=bg[a2[6]];var be=bg[a2[7]];var a8=a9[0];var a7=a9[1];var a5=a9[2];return(1-a5)*((1-a7)*(aP+(aO-aP)*a8)+a7*(bn+(bm-bn)*a8))+a5*((1-a7)*(aK+(aJ-aK)*a8)+a7*(bf+(be-bf)*a8));}else{if(a1==4){var aT=bg[a2[0]];var aS=bg[a2[1]];var bs=bg[a2[2]];var br=bg[a2[3]];var aN=bg[a2[4]];var aM=bg[a2[5]];var bl=bg[a2[6]];var bk=bg[a2[7]];var bd=bg[a2[8]];var bb=bg[a2[9]];var aX=bg[a2[10]];var aW=bg[a2[11]];var a6=bg[a2[12]];var a4=bg[a2[13]];var aR=bg[a2[14]];var aQ=bg[a2[15]];var a8=a9[0];var a7=a9[1];var a5=a9[2];var a3=a9[3];return(1-a3)*((1-a5)*((1-a7)*(aT+(aS-aT)*a8)+a7*(bs+(br-bs)*a8))+a5*((1-a7)*(aN+(aM-aN)*a8)+a7*(bl+(bk-bl)*a8)))+a3*((1-a5)*((1-a7)*(bd+(bb-bd)*a8)+a7*(aX+(aW-aX)*a8))+a5*((1-a7)*(a6+(a4-a6)*a8)+a7*(aR+(aQ-aR)*a8)));}else{var aV=1<<a1;var aY=new Float32Array(aV);for(var bh=0;bh<aV;bh++){var aI=bh;var aH=1;for(var aL=0;aL<a1;aL++){aH*=(aI%2==0)?(1-a9[aL]):a9[aL];aI/=2;}aY[bh]=aH;}var bq=new Float32Array(aV);for(var aU=0;aU<aV;aU++){bq[aU]=bg[a2[aU]];}var bc=0;for(var aU=0;aU<aV;aU++){bc+=aY[aU]*bq[aU];}return bc;}}}}}};aG._$Vr=function(bV,bW,a5,aI,bC,a3,bX,bH){var aN=bW._$Q2(bV,a5);var bw=bV._$vs();var a2=bV._$Tr();bW._$zr(bw,a2,aN);var aJ=aI*2;var aQ=bX;if(aN<=0){var bI=bw[0];var bq=bC[bI];if(bH==2&&bX==0){P._$jT(bq,0,a3,0,aJ);}else{for(var bt=0;bt<aJ;){a3[aQ]=bq[bt++];a3[aQ+1]=bq[bt++];aQ+=bH;}}}else{if(aN==1){var bq=bC[bw[0]];var bp=bC[bw[1]];var b3=a2[0];var bT=1-b3;for(var bt=0;bt<aJ;){a3[aQ]=bq[bt]*bT+bp[bt]*b3;++bt;a3[aQ+1]=bq[bt]*bT+bp[bt]*b3;++bt;aQ+=bH;}}else{if(aN==2){var bq=bC[bw[0]];var bp=bC[bw[1]];var aZ=bC[bw[2]];var aY=bC[bw[3]];var b3=a2[0];var b1=a2[1];var bT=1-b3;var bP=1-b1;var b2=bP*bT;var b0=bP*b3;var bM=b1*bT;var bL=b1*b3;for(var bt=0;bt<aJ;){a3[aQ]=b2*bq[bt]+b0*bp[bt]+bM*aZ[bt]+bL*aY[bt];++bt;a3[aQ+1]=b2*bq[bt]+b0*bp[bt]+bM*aZ[bt]+bL*aY[bt];++bt;aQ+=bH;}}else{if(aN==3){var ba=bC[bw[0]];var a9=bC[bw[1]];var aP=bC[bw[2]];var aO=bC[bw[3]];var a6=bC[bw[4]];var a4=bC[bw[5]];var aL=bC[bw[6]];var aK=bC[bw[7]];var b3=a2[0];var b1=a2[1];var bZ=a2[2];var bT=1-b3;var bP=1-b1;var bN=1-bZ;var b8=bN*bP*bT;var b7=bN*bP*b3;var bU=bN*b1*bT;var bS=bN*b1*b3;var b6=bZ*bP*bT;var b5=bZ*bP*b3;var bQ=bZ*b1*bT;var bO=bZ*b1*b3;for(var bt=0;bt<aJ;){a3[aQ]=b8*ba[bt]+b7*a9[bt]+bU*aP[bt]+bS*aO[bt]+b6*a6[bt]+b5*a4[bt]+bQ*aL[bt]+bO*aK[bt];++bt;a3[aQ+1]=b8*ba[bt]+b7*a9[bt]+bU*aP[bt]+bS*aO[bt]+b6*a6[bt]+b5*a4[bt]+bQ*aL[bt]+bO*aK[bt];++bt;aQ+=bH;}}else{if(aN==4){var bD=bC[bw[0]];var bB=bC[bw[1]];var bo=bC[bw[2]];var bm=bC[bw[3]];var by=bC[bw[4]];var bx=bC[bw[5]];var be=bC[bw[6]];var bd=bC[bw[7]];var bG=bC[bw[8]];var bE=bC[bw[9]];var bv=bC[bw[10]];var bu=bC[bw[11]];var bA=bC[bw[12]];var bz=bC[bw[13]];var bn=bC[bw[14]];var bl=bC[bw[15]];var b3=a2[0];var b1=a2[1];var bZ=a2[2];var bY=a2[3];var bT=1-b3;var bP=1-b1;var bN=1-bZ;var bK=1-bY;var bk=bK*bN*bP*bT;var bi=bK*bN*bP*b3;var aW=bK*bN*b1*bT;var aV=bK*bN*b1*b3;var bc=bK*bZ*bP*bT;var bb=bK*bZ*bP*b3;var aS=bK*bZ*b1*bT;var aR=bK*bZ*b1*b3;var bs=bY*bN*bP*bT;var br=bY*bN*bP*b3;var a1=bY*bN*b1*bT;var a0=bY*bN*b1*b3;var bh=bY*bZ*bP*bT;var bf=bY*bZ*bP*b3;var aU=bY*bZ*b1*bT;var aT=bY*bZ*b1*b3;for(var bt=0;bt<aJ;){a3[aQ]=bk*bD[bt]+bi*bB[bt]+aW*bo[bt]+aV*bm[bt]+bc*by[bt]+bb*bx[bt]+aS*be[bt]+aR*bd[bt]+bs*bG[bt]+br*bE[bt]+a1*bv[bt]+a0*bu[bt]+bh*bA[bt]+bf*bz[bt]+aU*bn[bt]+aT*bl[bt];++bt;a3[aQ+1]=bk*bD[bt]+bi*bB[bt]+aW*bo[bt]+aV*bm[bt]+bc*by[bt]+bb*bx[bt]+aS*be[bt]+aR*bd[bt]+bs*bG[bt]+br*bE[bt]+a1*bv[bt]+a0*bu[bt]+bh*bA[bt]+bf*bz[bt]+aU*bn[bt]+aT*bl[bt];++bt;aQ+=bH;}}else{var b4=1<<aN;var bJ=new Float32Array(b4);for(var bj=0;bj<b4;bj++){var aH=bj;var aM=1;for(var bF=0;bF<aN;bF++){aM*=(aH%2==0)?(1-a2[bF]):a2[bF];aH/=2;}bJ[bj]=aM;}var bg=new Float32Array(b4);for(var aX=0;aX<b4;aX++){bg[aX]=bC[bw[aX]];}for(var bt=0;bt<aJ;){var a8=0,a7=0;var bR=bt+1;for(var aX=0;aX<b4;aX++){a8+=bJ[aX]*bg[aX][bt];a7+=bJ[aX]*bg[aX][bR];}bt+=2;a3[aQ]=a8;a3[aQ+1]=a7;aQ+=bH;}}}}}}};function e(){if(j){return;}this.x=null;this.y=null;}e.prototype._$HT=function(aH,aI){this.x=aH;this.y=aI;};e.prototype._$HT=function(aH){this.x=aH.x;this.y=aH.y;};function ae(){if(j){return;}this._$gP=null;this._$dr=null;this._$GS=null;this._$qb=null;this._$Lb=null;this._$mS=null;this.clipID=null;this.clipIDList=new Array();}ae._$ur=-2;ae._$ES=500;ae._$wb=2;ae._$8S=3;ae._$52=ae._$ES;ae._$R2=ae._$ES;ae._$or=function(){return ae._$52;};ae._$Pr=function(){return ae._$R2;};ae.prototype.convertClipIDForV2_11=function(aI){var aH=[];if(aI==null){return null;}if(aI.length==0){return null;}if(!/,/.test(aI)){aH.push(aI.id);return aH;}aH=aI.id.split(",");return aH;};ae.prototype._$F0=function(aH){this._$gP=aH._$nP();this._$dr=aH._$nP();this._$GS=aH._$nP();this._$qb=aH._$6L();this._$Lb=aH._$cS();this._$mS=aH._$Tb();if(aH.getFormatVersion()>=ay._$T7){this.clipID=aH._$nP();this.clipIDList=this.convertClipIDForV2_11(this.clipID);}else{this.clipIDList=[];}this._$MS(this._$Lb);};ae.prototype.getClipIDList=function(){return this.clipIDList;};ae.prototype.init=function(aH){};ae.prototype._$Nr=function(aH,aI){aI._$IS[0]=false;aI._$Us=aG._$Z2(aH,this._$GS,aI._$IS,this._$Lb);if(Q._$Zs){}else{if(aI._$IS[0]){return;}}aI._$7s=aG._$br(aH,this._$GS,aI._$IS,this._$mS);};ae.prototype._$2b=function(aH,aI){};ae.prototype.getDrawDataID=function(){return this._$gP;};ae.prototype._$j2=function(aH){this._$gP=aH;};ae.prototype.getOpacity=function(aH,aI){return aI._$7s;};ae.prototype._$zS=function(aH,aI){return aI._$Us;};ae.prototype._$MS=function(aJ){for(var aI=aJ.length-1;aI>=0;--aI){var aH=aJ[aI];if(aH<ae._$52){ae._$52=aH;}else{if(aH>ae._$R2){ae._$R2=aH;}}}};ae.prototype.getTargetBaseDataID=function(){return this._$dr;};ae.prototype._$gs=function(aH){this._$dr=aH;};ae.prototype._$32=function(){return(this._$dr!=null&&(this._$dr!=n._$2o()));};ae.prototype.preDraw=function(aJ,aH,aI){};ae.prototype.draw=function(aJ,aH,aI){};ae.prototype.getType=function(){};ae.prototype._$B2=function(aI,aH,aJ){};function ax(){if(j){return;}this._$Eb=ax._$ps;this._$lT=1;this._$C0=1;this._$tT=1;this._$WL=1;this.culling=false;this.matrix4x4=new Float32Array(16);this.premultipliedAlpha=false;this.anisotropy=0;this.clippingProcess=ax.CLIPPING_PROCESS_NONE;this.clipBufPre_clipContextMask=null;this.clipBufPre_clipContextDraw=null;this.CHANNEL_COLORS=new Array();}ax._$ps=32;ax.CLIPPING_PROCESS_NONE=0;ax.CLIPPING_PROCESS_OVERWRITE_ALPHA=1;ax.CLIPPING_PROCESS_MULTIPLY_ALPHA=2;ax.CLIPPING_PROCESS_DRAW=3;ax.CLIPPING_PROCESS_CLEAR_ALPHA=4;ax.prototype.setChannelFlagAsColor=function(aH,aI){this.CHANNEL_COLORS[aH]=aI;};ax.prototype.getChannelFlagAsColor=function(aH){return this.CHANNEL_COLORS[aH];};ax.prototype._$ZT=function(){};ax.prototype._$Uo=function(aM,aK,aJ,aL,aN,aI,aH){};ax.prototype._$Rs=function(){return -1;};ax.prototype._$Ds=function(aH){};ax.prototype.setBaseColor=function(aK,aJ,aI,aH){if(aK<0){aK=0;}else{if(aK>1){aK=1;}}if(aJ<0){aJ=0;}else{if(aJ>1){aJ=1;}}if(aI<0){aI=0;}else{if(aI>1){aI=1;}}if(aH<0){aH=0;}else{if(aH>1){aH=1;}}this._$lT=aK;this._$C0=aJ;this._$tT=aI;this._$WL=aH;};ax.prototype._$WP=function(aH){this.culling=aH;};ax.prototype.setMatrix=function(aH){for(var aI=0;aI<16;aI++){this.matrix4x4[aI]=aH[aI];}};ax.prototype._$IT=function(){return this.matrix4x4;};ax.prototype.setPremultipliedAlpha=function(aH){this.premultipliedAlpha=aH;};ax.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha;};ax.prototype.setAnisotropy=function(aH){this.anisotropy=aH;};ax.prototype.getAnisotropy=function(){return this.anisotropy;};ax.prototype.getClippingProcess=function(){return this.clippingProcess;};ax.prototype.setClippingProcess=function(aH){this.clippingProcess=aH;};ax.prototype.setClipBufPre_clipContextForMask=function(aH){this.clipBufPre_clipContextMask=aH;};ax.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask;};ax.prototype.setClipBufPre_clipContextForDraw=function(aH){this.clipBufPre_clipContextDraw=aH;};ax.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw;};function o(){if(j){return;}this.a=1;this.r=1;this.g=1;this.b=1;this.scale=1;this._$ho=1;this.blendMode=Q.L2D_COLOR_BLEND_MODE_MULT;}function c(){if(j){return;}this._$kP=null;this._$dr=null;this._$Ai=true;this._$mS=null;}c._$ur=-2;c._$c2=1;c._$_b=2;c.prototype._$F0=function(aH){this._$kP=aH._$nP();this._$dr=aH._$nP();};c.prototype.readV2_opacity=function(aH){if(aH.getFormatVersion()>=ay.LIVE2D_FORMAT_VERSION_V2_10_SDK2){this._$mS=aH._$Tb();}};c.prototype.init=function(aH){};c.prototype._$Nr=function(aI,aH){};c.prototype.interpolateOpacity=function(aJ,aK,aI,aH){if(this._$mS==null){aI.setInterpolatedOpacity(1);}else{aI.setInterpolatedOpacity(aG._$br(aJ,aK,aH,this._$mS));}};c.prototype._$2b=function(aI,aH){};c.prototype._$nb=function(aL,aK,aM,aH,aI,aJ,aN){};c.prototype.getType=function(){};c.prototype._$gs=function(aH){this._$dr=aH;};c.prototype._$a2=function(aH){this._$kP=aH;};c.prototype.getTargetBaseDataID=function(){return this._$dr;};c.prototype.getBaseDataID=function(){return this._$kP;};c.prototype._$32=function(){return(this._$dr!=null&&(this._$dr!=n._$2o()));};function P(){}P._$W2=0;P._$CS=P._$W2;P._$Mo=function(){return true;};P._$XP=function(aI){try{var aJ=getTimeMSec();while(getTimeMSec()-aJ<aI){}}catch(aH){aH._$Rb();}};P.getUserTimeMSec=function(){return(P._$CS==P._$W2)?P.getSystemTimeMSec():P._$CS;};P.setUserTimeMSec=function(aH){P._$CS=aH;};P.updateUserTimeMSec=function(){return(P._$CS=P.getSystemTimeMSec());};P.getTimeMSec=function(){return new Date().getTime();};P.getSystemTimeMSec=function(){return new Date().getTime();};P._$Q=function(aH){};P._$jT=function(aM,aJ,aI,aL,aH){for(var aK=0;aK<aH;aK++){aI[aL+aK]=aM[aJ+aK];}};function aA(){if(j){return;}this._$VP=0;this._$wL=null;this._$GP=null;this._$8o=aA._$ds;this._$2r=-1;this._$O2=0;this._$ri=0;}aA._$ds=-2;aA.prototype._$F0=function(aH){this._$wL=aH._$nP();this._$VP=aH._$6L();this._$GP=aH._$nP();};aA.prototype.getParamIndex=function(aH){if(this._$2r!=aH){this._$8o=aA._$ds;}return this._$8o;};aA.prototype._$Pb=function(aI,aH){this._$8o=aI;this._$2r=aH;};aA.prototype.getParamID=function(){return this._$wL;};aA.prototype._$yP=function(aH){this._$wL=aH;};aA.prototype._$N2=function(){return this._$VP;};aA.prototype._$d2=function(){return this._$GP;};aA.prototype._$t2=function(aI,aH){this._$VP=aI;this._$GP=aH;};aA.prototype._$Lr=function(){return this._$O2;};aA.prototype._$wr=function(aH){this._$O2=aH;};aA.prototype._$SL=function(){return this._$ri;};aA.prototype._$AL=function(aH){this._$ri=aH;};function G(){}G.startsWith=function(aJ,aL,aK){var aH=aL+aK.length;if(aH>=aJ.length){return false;}for(var aI=aL;aI<aH;aI++){if(G.getChar(aJ,aI)!=aK.charAt(aI-aL)){return false;}}return true;};G.getChar=function(aI,aH){return String.fromCharCode(aI.getUint8(aH));};G.createString=function(aM,aL,aJ){var aH=new ArrayBuffer(aJ*2);var aK=new Uint16Array(aH);for(var aI=0;aI<aJ;aI++){aK[aI]=aM.getUint8(aL+aI);}return String.fromCharCode.apply(null,aK);};G._$LS=function(aP,aM,aR,aK){if(aP instanceof ArrayBuffer){aP=new DataView(aP);}var aL=aR;var aJ=false;var aQ=false;var aS=0;var aO=G.getChar(aP,aL);if(aO=="-"){aJ=true;aL++;}var aN=false;for(;aL<aM;aL++){aO=G.getChar(aP,aL);switch(aO){case"0":aS=aS*10;break;case"1":aS=aS*10+1;break;case"2":aS=aS*10+2;break;case"3":aS=aS*10+3;break;case"4":aS=aS*10+4;break;case"5":aS=aS*10+5;break;case"6":aS=aS*10+6;break;case"7":aS=aS*10+7;break;case"8":aS=aS*10+8;break;case"9":aS=aS*10+9;break;case".":aQ=true;aL++;aN=true;break;default:aN=true;break;}if(aN){break;}}if(aQ){var aI=0.1;var aH=false;for(;aL<aM;aL++){aO=G.getChar(aP,aL);switch(aO){case"0":break;case"1":aS+=aI*1;break;case"2":aS+=aI*2;break;case"3":aS+=aI*3;break;case"4":aS+=aI*4;break;case"5":aS+=aI*5;break;case"6":aS+=aI*6;break;case"7":aS+=aI*7;break;case"8":aS+=aI*8;break;case"9":aS+=aI*9;break;default:aH=true;break;}aI*=0.1;if(aH){break;}}}if(aJ){aS=-aS;}aK[0]=aL;return aS;};function g(){if(j){return;}this._$Ob=null;}g.prototype._$zP=function(){this._$Ob=new Array();};g.prototype._$F0=function(aH){this._$Ob=aH._$nP();};g.prototype._$Ur=function(aK){if(aK._$WS()){return true;}var aH=aK._$v2();for(var aJ=this._$Ob.length-1;aJ>=0;--aJ){var aI=this._$Ob[aJ].getParamIndex(aH);if(aI==aA._$ds){aI=aK.getParamIndex(this._$Ob[aJ].getParamID());}if(aK._$Xb(aI)){return true;}}return false;};g.prototype._$Q2=function(aL,aV){var aX=this._$Ob.length;var aJ=aL._$v2();var aN=0;var aI;var aQ;for(var aK=0;aK<aX;aK++){var aH=this._$Ob[aK];aI=aH.getParamIndex(aJ);if(aI==aA._$ds){aI=aL.getParamIndex(aH.getParamID());aH._$Pb(aI,aJ);}if(aI<0){throw new Exception("err 23242 : "+aH.getParamID());}var aU=aI<0?0:aL.getParamFloat(aI);aQ=aH._$N2();var aM=aH._$d2();var aP=-1;var aT=0;var aS;var aR;if(aQ<1){}else{if(aQ==1){aS=aM[0];if(aS-aw._$J<aU&&aU<aS+aw._$J){aP=0;aT=0;}else{aP=0;aV[0]=true;}}else{aS=aM[0];if(aU<aS-aw._$J){aP=0;aV[0]=true;}else{if(aU<aS+aw._$J){aP=0;}else{var aW=false;for(var aO=1;aO<aQ;++aO){aR=aM[aO];if(aU<aR+aw._$J){if(aR-aw._$J<aU){aP=aO;}else{aP=aO-1;aT=(aU-aS)/(aR-aS);aN++;}aW=true;break;}aS=aR;}if(!aW){aP=aQ-1;aT=0;aV[0]=true;}}}}}aH._$wr(aP);aH._$AL(aT);}return aN;};g.prototype._$zr=function(aN,aT,aP){var aR=1<<aP;if(aR+1>aw._$Qb){__NONECONSOLE.log("err 23245\\n");}var aS=this._$Ob.length;var aK=1;var aH=1;var aJ=0;for(var aQ=0;aQ<aR;++aQ){aN[aQ]=0;}for(var aL=0;aL<aS;++aL){var aI=this._$Ob[aL];if(aI._$SL()==0){var aO=aI._$Lr()*aK;if(aO<0&&Q._$3T){throw new Exception("err 23246");}for(var aQ=0;aQ<aR;++aQ){aN[aQ]+=aO;}}else{var aO=aK*aI._$Lr();var aM=aK*(aI._$Lr()+1);for(var aQ=0;aQ<aR;++aQ){aN[aQ]+=((aQ/aH|0)%2==0)?aO:aM;}aT[aJ++]=aI._$SL();aH*=2;}aK*=aI._$N2();}aN[aR]=65535;aT[aJ]=-1;};g.prototype._$h2=function(aJ,aH,aK){var aM=new Float32Array(aH);for(var aL=0;aL<aH;++aL){aM[aL]=aK[aL];}var aI=new aA();aI._$yP(aJ);aI._$t2(aH,aM);this._$Ob.push(aI);};g.prototype._$J2=function(aO){var aN=aO;var aM=this._$Ob.length;for(var aK=0;aK<aM;++aK){var aI=this._$Ob[aK];var aH=aI._$N2();var aJ=aN%aI._$N2();var aL=aI._$d2()[aJ];__NONECONSOLE.log("%s[%d]=%7.2f / ",aI.getParamID(),aJ,aL);aN/=aH;}__NONECONSOLE.log("\\n");};g.prototype.getParamCount=function(){return this._$Ob.length;};g.prototype._$zs=function(){return this._$Ob;};function ac(){this.m=new Float32Array(16);this.identity();}ac.prototype.identity=function(){for(var aH=0;aH<16;aH++){this.m[aH]=((aH%5)==0)?1:0;}};ac.prototype.getArray=function(){return this.m;};ac.prototype.getCopyMatrix=function(){return new Float32Array(this.m);};ac.prototype.setMatrix=function(aI){if(aI==null||aI.length!=16){return;}for(var aH=0;aH<16;aH++){this.m[aH]=aI[aH];}};ac.prototype.mult=function(aH,aJ,aI){if(aJ==null){return null;}if(this==aJ){this.mult_safe(this.m,aH.m,aJ.m,aI);}else{this.mult_fast(this.m,aH.m,aJ.m,aI);}return aJ;};ac.prototype.mult_safe=function(aI,aH,aM,aJ){if(aI==aM){var aL=new Array(16);this.mult_fast(aI,aH,aL,aJ);for(var aK=15;aK>=0;--aK){aM[aK]=aL[aK];}}else{this.mult_fast(aI,aH,aM,aJ);}};ac.prototype.mult_fast=function(aI,aH,aK,aJ){if(aJ){aK[0]=aI[0]*aH[0]+aI[4]*aH[1]+aI[8]*aH[2];aK[4]=aI[0]*aH[4]+aI[4]*aH[5]+aI[8]*aH[6];aK[8]=aI[0]*aH[8]+aI[4]*aH[9]+aI[8]*aH[10];aK[12]=aI[0]*aH[12]+aI[4]*aH[13]+aI[8]*aH[14]+aI[12];aK[1]=aI[1]*aH[0]+aI[5]*aH[1]+aI[9]*aH[2];aK[5]=aI[1]*aH[4]+aI[5]*aH[5]+aI[9]*aH[6];aK[9]=aI[1]*aH[8]+aI[5]*aH[9]+aI[9]*aH[10];aK[13]=aI[1]*aH[12]+aI[5]*aH[13]+aI[9]*aH[14]+aI[13];aK[2]=aI[2]*aH[0]+aI[6]*aH[1]+aI[10]*aH[2];aK[6]=aI[2]*aH[4]+aI[6]*aH[5]+aI[10]*aH[6];aK[10]=aI[2]*aH[8]+aI[6]*aH[9]+aI[10]*aH[10];aK[14]=aI[2]*aH[12]+aI[6]*aH[13]+aI[10]*aH[14]+aI[14];aK[3]=aK[7]=aK[11]=0;aK[15]=1;}else{aK[0]=aI[0]*aH[0]+aI[4]*aH[1]+aI[8]*aH[2]+aI[12]*aH[3];aK[4]=aI[0]*aH[4]+aI[4]*aH[5]+aI[8]*aH[6]+aI[12]*aH[7];aK[8]=aI[0]*aH[8]+aI[4]*aH[9]+aI[8]*aH[10]+aI[12]*aH[11];aK[12]=aI[0]*aH[12]+aI[4]*aH[13]+aI[8]*aH[14]+aI[12]*aH[15];aK[1]=aI[1]*aH[0]+aI[5]*aH[1]+aI[9]*aH[2]+aI[13]*aH[3];aK[5]=aI[1]*aH[4]+aI[5]*aH[5]+aI[9]*aH[6]+aI[13]*aH[7];aK[9]=aI[1]*aH[8]+aI[5]*aH[9]+aI[9]*aH[10]+aI[13]*aH[11];aK[13]=aI[1]*aH[12]+aI[5]*aH[13]+aI[9]*aH[14]+aI[13]*aH[15];aK[2]=aI[2]*aH[0]+aI[6]*aH[1]+aI[10]*aH[2]+aI[14]*aH[3];aK[6]=aI[2]*aH[4]+aI[6]*aH[5]+aI[10]*aH[6]+aI[14]*aH[7];aK[10]=aI[2]*aH[8]+aI[6]*aH[9]+aI[10]*aH[10]+aI[14]*aH[11];aK[14]=aI[2]*aH[12]+aI[6]*aH[13]+aI[10]*aH[14]+aI[14]*aH[15];aK[3]=aI[3]*aH[0]+aI[7]*aH[1]+aI[11]*aH[2]+aI[15]*aH[3];aK[7]=aI[3]*aH[4]+aI[7]*aH[5]+aI[11]*aH[6]+aI[15]*aH[7];aK[11]=aI[3]*aH[8]+aI[7]*aH[9]+aI[11]*aH[10]+aI[15]*aH[11];aK[15]=aI[3]*aH[12]+aI[7]*aH[13]+aI[11]*aH[14]+aI[15]*aH[15];}};ac.prototype.translate=function(aH,aJ,aI){this.m[12]=this.m[0]*aH+this.m[4]*aJ+this.m[8]*aI+this.m[12];this.m[13]=this.m[1]*aH+this.m[5]*aJ+this.m[9]*aI+this.m[13];this.m[14]=this.m[2]*aH+this.m[6]*aJ+this.m[10]*aI+this.m[14];this.m[15]=this.m[3]*aH+this.m[7]*aJ+this.m[11]*aI+this.m[15];};ac.prototype.scale=function(aJ,aI,aH){this.m[0]*=aJ;this.m[4]*=aI;this.m[8]*=aH;this.m[1]*=aJ;this.m[5]*=aI;this.m[9]*=aH;this.m[2]*=aJ;this.m[6]*=aI;this.m[10]*=aH;this.m[3]*=aJ;this.m[7]*=aI;this.m[11]*=aH;};ac.prototype.rotateX=function(aH){var aK=aC.fcos(aH);var aJ=aC._$9(aH);var aI=this.m[4];this.m[4]=aI*aK+this.m[8]*aJ;this.m[8]=aI*-aJ+this.m[8]*aK;aI=this.m[5];this.m[5]=aI*aK+this.m[9]*aJ;this.m[9]=aI*-aJ+this.m[9]*aK;aI=this.m[6];this.m[6]=aI*aK+this.m[10]*aJ;this.m[10]=aI*-aJ+this.m[10]*aK;aI=this.m[7];this.m[7]=aI*aK+this.m[11]*aJ;this.m[11]=aI*-aJ+this.m[11]*aK;};ac.prototype.rotateY=function(aH){var aK=aC.fcos(aH);var aJ=aC._$9(aH);var aI=this.m[0];this.m[0]=aI*aK+this.m[8]*-aJ;this.m[8]=aI*aJ+this.m[8]*aK;aI=this.m[1];this.m[1]=aI*aK+this.m[9]*-aJ;this.m[9]=aI*aJ+this.m[9]*aK;aI=m[2];this.m[2]=aI*aK+this.m[10]*-aJ;this.m[10]=aI*aJ+this.m[10]*aK;aI=m[3];this.m[3]=aI*aK+this.m[11]*-aJ;this.m[11]=aI*aJ+this.m[11]*aK;};ac.prototype.rotateZ=function(aH){var aK=aC.fcos(aH);var aJ=aC._$9(aH);var aI=this.m[0];this.m[0]=aI*aK+this.m[4]*aJ;this.m[4]=aI*-aJ+this.m[4]*aK;aI=this.m[1];this.m[1]=aI*aK+this.m[5]*aJ;this.m[5]=aI*-aJ+this.m[5]*aK;aI=this.m[2];this.m[2]=aI*aK+this.m[6]*aJ;this.m[6]=aI*-aJ+this.m[6]*aK;aI=this.m[3];this.m[3]=aI*aK+this.m[7]*aJ;this.m[7]=aI*-aJ+this.m[7]*aK;};function Z(aH){if(j){return;}ak.prototype.constructor.call(this,aH);}Z.prototype=new ak();Z._$tP=new Object();Z._$27=function(){Z._$tP.clear();};Z.getID=function(aH){var aI=Z._$tP[aH];if(aI==null){aI=new Z(aH);Z._$tP[aH]=aI;}return aI;};Z.prototype._$3s=function(){return new Z();};function aD(){if(j){return;}this._$7=1;this._$f=0;this._$H=0;this._$g=1;this._$k=0;this._$w=0;this._$hi=STATE_IDENTITY;this._$Z=_$pS;}aD._$kS=-1;aD._$pS=0;aD._$hb=1;aD.STATE_IDENTITY=0;aD._$gb=1;aD._$fo=2;aD._$go=4;aD.prototype.transform=function(aK,aI,aH){var aT,aS,aR,aM,aL,aJ;var aQ=0;var aN=0;switch(this._$hi){default:return;case (aD._$go|aD._$fo|aD._$gb):aT=this._$7;aS=this._$H;aR=this._$k;aM=this._$f;aL=this._$g;aJ=this._$w;while(--aH>=0){var aP=aK[aQ++];var aO=aK[aQ++];aI[aN++]=(aT*aP+aS*aO+aR);aI[aN++]=(aM*aP+aL*aO+aJ);}return;case (aD._$go|aD._$fo):aT=this._$7;aS=this._$H;aM=this._$f;aL=this._$g;while(--aH>=0){var aP=aK[aQ++];var aO=aK[aQ++];aI[aN++]=(aT*aP+aS*aO);aI[aN++]=(aM*aP+aL*aO);}return;case (aD._$go|aD._$gb):aS=this._$H;aR=this._$k;aM=this._$f;aJ=this._$w;while(--aH>=0){var aP=aK[aQ++];aI[aN++]=(aS*aK[aQ++]+aR);aI[aN++]=(aM*aP+aJ);}return;case (aD._$go):aS=this._$H;aM=this._$f;while(--aH>=0){var aP=aK[aQ++];aI[aN++]=(aS*aK[aQ++]);aI[aN++]=(aM*aP);}return;case (aD._$fo|aD._$gb):aT=this._$7;aR=this._$k;aL=this._$g;aJ=this._$w;while(--aH>=0){aI[aN++]=(aT*aK[aQ++]+aR);aI[aN++]=(aL*aK[aQ++]+aJ);}return;case (aD._$fo):aT=this._$7;aL=this._$g;while(--aH>=0){aI[aN++]=(aT*aK[aQ++]);aI[aN++]=(aL*aK[aQ++]);}return;case (aD._$gb):aR=this._$k;aJ=this._$w;while(--aH>=0){aI[aN++]=(aK[aQ++]+aR);aI[aN++]=(aK[aQ++]+aJ);}return;case (aD.STATE_IDENTITY):if(aK!=aI||aQ!=aN){P._$jT(aK,aQ,aI,aN,aH*2);}return;}};aD.prototype.update=function(){if(this._$H==0&&this._$f==0){if(this._$7==1&&this._$g==1){if(this._$k==0&&this._$w==0){this._$hi=aD.STATE_IDENTITY;this._$Z=aD._$pS;}else{this._$hi=aD._$gb;this._$Z=aD._$hb;}}else{if(this._$k==0&&this._$w==0){this._$hi=aD._$fo;this._$Z=aD._$kS;}else{this._$hi=(aD._$fo|aD._$gb);this._$Z=aD._$kS;}}}else{if(this._$7==0&&this._$g==0){if(this._$k==0&&this._$w==0){this._$hi=aD._$go;this._$Z=aD._$kS;}else{this._$hi=(aD._$go|aD._$gb);this._$Z=aD._$kS;}}else{if(this._$k==0&&this._$w==0){this._$hi=(aD._$go|aD._$fo);this._$Z=aD._$kS;}else{this._$hi=(aD._$go|aD._$fo|aD._$gb);this._$Z=aD._$kS;}}}};aD.prototype._$RT=function(aK){this._$IT(aK);var aJ=aK[0];var aH=aK[2];var aN=aK[1];var aM=aK[3];var aI=Math.sqrt(aJ*aJ+aN*aN);var aL=aJ*aM-aH*aN;if(aI==0){if(Q._$so){__NONECONSOLE.log("affine._$RT() / rt==0");}}else{aK[0]=aI;aK[1]=aL/aI;aK[2]=(aN*aM+aJ*aH)/aL;aK[3]=Math.atan2(aN,aJ);}};aD.prototype._$ho=function(aN,aM,aI,aH){var aL=new Float32Array(6);var aK=new Float32Array(6);aN._$RT(aL);aM._$RT(aK);var aJ=new Float32Array(6);aJ[0]=aL[0]+(aK[0]-aL[0])*aI;aJ[1]=aL[1]+(aK[1]-aL[1])*aI;aJ[2]=aL[2]+(aK[2]-aL[2])*aI;aJ[3]=aL[3]+(aK[3]-aL[3])*aI;aJ[4]=aL[4]+(aK[4]-aL[4])*aI;aJ[5]=aL[5]+(aK[5]-aL[5])*aI;aH._$CT(aJ);};aD.prototype._$CT=function(aJ){var aI=Math.cos(aJ[3]);var aH=Math.sin(aJ[3]);this._$7=aJ[0]*aI;this._$f=aJ[0]*aH;this._$H=aJ[1]*(aJ[2]*aI-aH);this._$g=aJ[1]*(aJ[2]*aH+aI);this._$k=aJ[4];this._$w=aJ[5];this.update();};aD.prototype._$IT=function(aH){aH[0]=this._$7;aH[1]=this._$f;aH[2]=this._$H;aH[3]=this._$g;aH[4]=this._$k;aH[5]=this._$w;};function Y(){if(j){return;}ah.prototype.constructor.call(this);this.motions=new Array();this._$7r=null;this._$7r=Y._$Co++;this._$D0=30;this._$yT=0;this._$E=true;this.loopFadeIn=true;this._$AS=-1;_$a0();}Y.prototype=new ah();Y._$cs="VISIBLE:";Y._$ar="LAYOUT:";Y._$Co=0;Y._$D2=[];Y._$1T=1;Y.loadMotion=function(aR){var aM=new Y();var aI=[0];var aP=aR.length;aM._$yT=0;for(var aJ=0;aJ<aP;++aJ){var aQ=(aR[aJ]&255);if(aQ=="\\n"||aQ=="\\r"){continue;}if(aQ=="#"){for(;aJ<aP;++aJ){if(aR[aJ]=="\\n"||aR[aJ]=="\\r"){break;}}continue;}if(aQ=="$"){var aT=aJ;var aK=-1;for(;aJ<aP;++aJ){aQ=(aR[aJ]&255);if(aQ=="\\r"||aQ=="\\n"){break;}if(aQ=="="){aK=aJ;break;}}var aO=false;if(aK>=0){if(aK==aT+4&&aR[aT+1]=="f"&&aR[aT+2]=="p"&&aR[aT+3]=="s"){aO=true;}for(aJ=aK+1;aJ<aP;++aJ){aQ=(aR[aJ]&255);if(aQ=="\\r"||aQ=="\\n"){break;}if(aQ==","||aQ==" "||aQ=="	"){continue;}var aL=G._$LS(aR,aP,aJ,aI);if(aI[0]>0){if(aO&&5<aL&&aL<121){aM._$D0=aL;}}aJ=aI[0];}}for(;aJ<aP;++aJ){if(aR[aJ]=="\\n"||aR[aJ]=="\\r"){break;}}continue;}if(("a"<=aQ&&aQ<="z")||("A"<=aQ&&aQ<="Z")||aQ=="_"){var aT=aJ;var aK=-1;for(;aJ<aP;++aJ){aQ=(aR[aJ]&255);if(aQ=="\\r"||aQ=="\\n"){break;}if(aQ=="="){aK=aJ;break;}}if(aK>=0){var aN=new t();if(G.startsWith(aR,aT,Y._$cs)){aN._$RP=t._$hs;aN._$4P=new String(aR,aT,aK-aT);}else{if(G.startsWith(aR,aT,Y._$ar)){aN._$4P=new String(aR,aT+7,aK-aT-7);if(G.startsWith(aR,aT+7,"ANCHOR_X")){aN._$RP=t._$xs;}else{if(G.startsWith(aR,aT+7,"ANCHOR_Y")){aN._$RP=t._$us;}else{if(G.startsWith(aR,aT+7,"SCALE_X")){aN._$RP=t._$qs;}else{if(G.startsWith(aR,aT+7,"SCALE_Y")){aN._$RP=t._$Ys;}else{if(G.startsWith(aR,aT+7,"X")){aN._$RP=t._$ws;}else{if(G.startsWith(aR,aT+7,"Y")){aN._$RP=t._$Ns;}}}}}}}else{aN._$RP=t._$Fr;aN._$4P=new String(aR,aT,aK-aT);}}aM.motions.push(aN);var aS=0;Y._$D2.clear();for(aJ=aK+1;aJ<aP;++aJ){aQ=(aR[aJ]&255);if(aQ=="\\r"||aQ=="\\n"){break;}if(aQ==","||aQ==" "||aQ=="	"){continue;}var aL=G._$LS(aR,aP,aJ,aI);if(aI[0]>0){Y._$D2.push(aL);aS++;var aH=aI[0];if(aH<aJ){__NONECONSOLE.log("_$n0 _$hi . @Live2DMotion loadMotion()\\n");break;}aJ=aH;}}aN._$I0=Y._$D2._$BL();if(aS>aM._$yT){aM._$yT=aS;}}}}aM._$AS=((1000*aM._$yT)/aM._$D0)|0;return aM;};Y.prototype.getDurationMSec=function(){return this._$AS;};Y.prototype.dump=function(){for(var aJ=0;aJ<this.motions.length;aJ++){var aH=this.motions[aJ];__NONECONSOLE.log("_$wL[%s] [%d]. ",aH._$4P,aH._$I0.length);for(var aI=0;aI<aH._$I0.length&&aI<10;aI++){__NONECONSOLE.log("%5.2f ,",aH._$I0[aI]);}__NONECONSOLE.log("\\n");}};Y.prototype.updateParamExe=function(aH,aL,aO,aX){var aM=aL-aX._$z2;var aV=aM*this._$D0/1000;var aJ=aV|0;var aP=aV-aJ;for(var aU=0;aU<this.motions.length;aU++){var aS=this.motions[aU];var aK=aS._$I0.length;var aQ=aS._$4P;if(aS._$RP==t._$hs){var aT=aS._$I0[(aJ>=aK?aK-1:aJ)];aH.setParamFloat(aQ,aT);}else{if(t._$ws<=aS._$RP&&aS._$RP<=t._$Ys){}else{var aR=aH.getParamFloat(aQ);var aY=aS._$I0[(aJ>=aK?aK-1:aJ)];var aW=aS._$I0[(aJ+1>=aK?aK-1:aJ+1)];var aI=aY+(aW-aY)*aP;var aN=aR+(aI-aR)*aO;aH.setParamFloat(aQ,aN);}}}if(aJ>=this._$yT){if(this._$E){aX._$z2=aL;if(this.loopFadeIn){aX._$bs=aL;}}else{aX._$9L=true;}}};Y.prototype._$r0=function(){return this._$E;};Y.prototype._$aL=function(aH){this._$E=aH;};Y.prototype.isLoopFadeIn=function(){return this.loopFadeIn;};Y.prototype.setLoopFadeIn=function(aH){this.loopFadeIn=aH;};function aE(){this._$P=new Float32Array(100);this.size=0;}aE.prototype.clear=function(){this.size=0;};aE.prototype.add=function(aI){if(this._$P.length<=this.size){var aH=new Float32Array(this.size*2);P._$jT(this._$P,0,aH,0,this.size);this._$P=aH;}this._$P[this.size++]=aI;};aE.prototype._$BL=function(){var aH=new Float32Array(this.size);P._$jT(this._$P,0,aH,0,this.size);return aH;};function t(){this._$4P=null;this._$I0=null;this._$RP=null;}t._$Fr=0;t._$hs=1;t._$ws=100;t._$Ns=101;t._$xs=102;t._$us=103;t._$qs=104;t._$Ys=105;function aw(){}aw._$Ms=1;aw._$Qs=2;aw._$i2=0;aw._$No=2;aw._$do=aw._$Ms;aw._$Ls=true;aw._$1r=5;aw._$Qb=65;aw._$J=0.0001;aw._$FT=0.001;aw._$Ss=3;function ay(){}ay._$o7=6;ay._$S7=7;ay._$s7=8;ay._$77=9;ay.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10;ay.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11;ay._$T7=ay.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1;ay._$Is=-2004318072;ay._$h0=0;ay._$4L=23;ay._$7P=33;ay._$uT=function(aH){__NONECONSOLE.log("_$bo :: _$6 _$mo _$E0 : %d\\n",aH);};ay._$9o=function(aH){if(aH<40){ay._$uT(aH);return null;}else{if(aH<50){ay._$uT(aH);return null;}else{if(aH<60){ay._$uT(aH);return null;}else{if(aH<100){switch(aH){case 65:return new E();case 66:return new g();case 67:return new aA();case 68:return new ab();case 69:return new X();case 70:return new b();default:ay._$uT(aH);return null;}}else{if(aH<150){switch(aH){case 131:return new f();case 133:return new s();case 136:return new w();case 137:return new an();case 142:return new aq();}}}}}}ay._$uT(aH);return null;};function y(aH){if(j){return;}this._$QT=true;this._$co=-1;this._$qo=0;this._$pb=new Array(y._$is);this._$_2=new Float32Array(y._$is);this._$vr=new Float32Array(y._$is);this._$Rr=new Float32Array(y._$is);this._$Or=new Float32Array(y._$is);this._$fs=new Float32Array(y._$is);this._$Js=new Array(y._$is);this._$3S=new Array();this._$aS=new Array();this._$Bo=null;this._$F2=new Array();this._$db=new Array();this._$8b=new Array();this._$Hr=new Array();this._$Ws=null;this._$Vs=null;this._$Er=null;this._$Es=new Int16Array(aw._$Qb);this._$ZP=new Float32Array(aw._$1r*2);this._$Ri=aH;this._$b0=y._$HP++;this.clipManager=null;this.dp_webgl=null;}y._$HP=0;y._$_0=true;y._$V2=-1;y._$W0=-1;y._$jr=false;y._$ZS=true;y._$tr=(-1000000);y._$lr=(1000000);y._$is=32;y._$e=false;y.prototype.getDrawDataIndex=function(aI){for(var aH=this._$aS.length-1;aH>=0;--aH){if(this._$aS[aH]!=null&&this._$aS[aH].getDrawDataID()==aI){return aH;}}return -1;};y.prototype.getDrawData=function(aH){if(aH instanceof Z){if(this._$Bo==null){this._$Bo=new Object();var aJ=this._$aS.length;for(var aI=0;aI<aJ;aI++){var aL=this._$aS[aI];var aK=aL.getDrawDataID();if(aK==null){continue;}this._$Bo[aK]=aL;}}return this._$Bo[id];}else{if(aH<this._$aS.length){return this._$aS[aH];}else{return null;}}};y.prototype.release=function(){this._$3S.clear();this._$aS.clear();this._$F2.clear();if(this._$Bo!=null){this._$Bo.clear();}this._$db.clear();this._$8b.clear();this._$Hr.clear();};y.prototype.init=function(){this._$co++;if(this._$F2.length>0){this.release();}var aO=this._$Ri.getModelImpl();var aT=aO._$Xr();var aS=aT.length;var aH=new Array();var a3=new Array();for(var aV=0;aV<aS;++aV){var a4=aT[aV];this._$F2.push(a4);this._$Hr.push(a4.init(this));var aK=a4.getBaseData();var aR=aK.length;for(var aU=0;aU<aR;++aU){aH.push(aK[aU]);}for(var aU=0;aU<aR;++aU){var aM=aK[aU].init(this);aM._$l2(aV);a3.push(aM);}var a1=a4.getDrawData();var aP=a1.length;for(var aU=0;aU<aP;++aU){var aZ=a1[aU];var a0=aZ.init(this);a0._$IP=aV;this._$aS.push(aZ);this._$8b.push(a0);}}var aY=aH.length;var aN=n._$2o();while(true){var aX=false;for(var aV=0;aV<aY;++aV){var aL=aH[aV];if(aL==null){continue;}var a2=aL.getTargetBaseDataID();if(a2==null||a2==aN||this.getBaseDataIndex(a2)>=0){this._$3S.push(aL);this._$db.push(a3[aV]);aH[aV]=null;aX=true;}}if(!aX){break;}}var aI=aO._$E2();if(aI!=null){var aJ=aI._$1s();if(aJ!=null){var aW=aJ.length;for(var aV=0;aV<aW;++aV){var aQ=aJ[aV];if(aQ==null){continue;}this._$02(aQ.getParamID(),aQ.getDefaultValue(),aQ.getMinValue(),aQ.getMaxValue());}}}this.clipManager=new W(this.dp_webgl);this.clipManager.init(this,this._$aS,this._$8b);this._$QT=true;};y.prototype.update=function(){if(y._$e){q.start("_$zL");}var aK=this._$_2.length;for(var aW=0;aW<aK;aW++){if(this._$_2[aW]!=this._$vr[aW]){this._$Js[aW]=y._$ZS;this._$vr[aW]=this._$_2[aW];}}var aX=false;var aQ=this._$3S.length;var aN=this._$aS.length;var aS=a._$or();var aZ=a._$Pr();var aU=aZ-aS+1;if(this._$Ws==null||this._$Ws.length<aU){this._$Ws=new Int16Array(aU);this._$Vs=new Int16Array(aU);}for(var aW=0;aW<aU;aW++){this._$Ws[aW]=y._$V2;this._$Vs[aW]=y._$V2;}if(this._$Er==null||this._$Er.length<aN){this._$Er=new Int16Array(aN);}for(var aW=0;aW<aN;aW++){this._$Er[aW]=y._$W0;}if(y._$e){q.dump("_$zL");}if(y._$e){q.start("_$UL");}var aL=null;for(var aV=0;aV<aQ;++aV){var aJ=this._$3S[aV];var aH=this._$db[aV];try{aJ._$Nr(this,aH);aJ._$2b(this,aH);}catch(aY){if(aL==null){aL=aY;}}}if(aL!=null){if(y._$_0){q._$Rb(aL);}}if(y._$e){q.dump("_$UL");}if(y._$e){q.start("_$DL");}var aR=null;for(var aO=0;aO<aN;++aO){var aM=this._$aS[aO];var aI=this._$8b[aO];try{aM._$Nr(this,aI);if(aI._$u2()){continue;}aM._$2b(this,aI);var aT=Math.floor(aM._$zS(this,aI)-aS);var aP;try{aP=this._$Vs[aT];}catch(aY){__NONECONSOLE.log("_$li :: %s / %s 				@@_$fS\\n",aY.toString(),aM.getDrawDataID().toString());aT=Math.floor(aM._$zS(this,aI)-aS);continue;}if(aP==y._$V2){this._$Ws[aT]=aO;}else{this._$Er[aP]=aO;}this._$Vs[aT]=aO;}catch(aY){if(aR==null){aR=aY;Q._$sT(Q._$H7);}}}if(aR!=null){if(y._$_0){q._$Rb(aR);}}if(y._$e){q.dump("_$DL");}if(y._$e){q.start("_$eL");}for(var aW=this._$Js.length-1;aW>=0;aW--){this._$Js[aW]=y._$jr;}this._$QT=false;if(y._$e){q.dump("_$eL");}return aX;};y.prototype.preDraw=function(aH){if(this.clipManager!=null){aH._$ZT();this.clipManager.setupClip(this,aH);}};y.prototype.draw=function(aM){if(this._$Ws==null){q._$li("call _$Ri.update() before _$Ri.draw() ");return;}var aP=this._$Ws.length;aM._$ZT();for(var aK=0;aK<aP;++aK){var aN=this._$Ws[aK];if(aN==y._$V2){continue;}do{var aH=this._$aS[aN];var aI=this._$8b[aN];if(aI._$yo()){var aJ=aI._$IP;var aL=this._$Hr[aJ];aI._$VS=aL.getPartsOpacity();aH.draw(aM,this,aI);}var aO=this._$Er[aN];if(aO<=aN||aO==y._$W0){break;}aN=aO;}while(true);}};y.prototype.getParamIndex=function(aH){for(var aI=this._$pb.length-1;aI>=0;--aI){if(this._$pb[aI]==aH){return aI;}}return this._$02(aH,0,y._$tr,y._$lr);};y.prototype._$BS=function(aH){return this.getBaseDataIndex(aH);};y.prototype.getBaseDataIndex=function(aH){for(var aI=this._$3S.length-1;aI>=0;--aI){if(this._$3S[aI]!=null&&this._$3S[aI].getBaseDataID()==aH){return aI;}}return -1;};y.prototype._$UT=function(aJ,aH){var aI=new Float32Array(aH);P._$jT(aJ,0,aI,0,aJ.length);return aI;};y.prototype._$02=function(aN,aM,aL,aH){if(this._$qo>=this._$pb.length){var aK=this._$pb.length;var aJ=new Array(aK*2);P._$jT(this._$pb,0,aJ,0,aK);this._$pb=aJ;this._$_2=this._$UT(this._$_2,aK*2);this._$vr=this._$UT(this._$vr,aK*2);this._$Rr=this._$UT(this._$Rr,aK*2);this._$Or=this._$UT(this._$Or,aK*2);var aI=new Array();P._$jT(this._$Js,0,aI,0,aK);this._$Js=aI;}this._$pb[this._$qo]=aN;this._$_2[this._$qo]=aM;this._$vr[this._$qo]=aM;this._$Rr[this._$qo]=aL;this._$Or[this._$qo]=aH;this._$Js[this._$qo]=y._$ZS;return this._$qo++;};y.prototype._$Zo=function(aI,aH){this._$3S[aI]=aH;};y.prototype.setParamFloat=function(aH,aI){if(aI<this._$Rr[aH]){aI=this._$Rr[aH];}if(aI>this._$Or[aH]){aI=this._$Or[aH];}this._$_2[aH]=aI;};y.prototype.loadParam=function(){var aH=this._$_2.length;if(aH>this._$fs.length){aH=this._$fs.length;}P._$jT(this._$fs,0,this._$_2,0,aH);};y.prototype.saveParam=function(){var aH=this._$_2.length;if(aH>this._$fs.length){this._$fs=new Float32Array(aH);}P._$jT(this._$_2,0,this._$fs,0,aH);};y.prototype._$v2=function(){return this._$co;};y.prototype._$WS=function(){return this._$QT;};y.prototype._$Xb=function(aH){return this._$Js[aH]==y._$ZS;};y.prototype._$vs=function(){return this._$Es;};y.prototype._$Tr=function(){return this._$ZP;};y.prototype.getBaseData=function(aH){return this._$3S[aH];};y.prototype.getParamFloat=function(aH){return this._$_2[aH];};y.prototype.getParamMax=function(aH){return this._$Or[aH];};y.prototype.getParamMin=function(aH){return this._$Rr[aH];};y.prototype.setPartsOpacity=function(aJ,aH){var aI=this._$Hr[aJ];aI.setPartsOpacity(aH);};y.prototype.getPartsOpacity=function(aI){var aH=this._$Hr[aI];return aH.getPartsOpacity();};y.prototype.getPartsDataIndex=function(aI){for(var aH=this._$F2.length-1;aH>=0;--aH){if(this._$F2[aH]!=null&&this._$F2[aH]._$p2()==aI){return aH;}}return -1;};y.prototype._$q2=function(aH){return this._$db[aH];};y.prototype._$C2=function(aH){return this._$8b[aH];};y.prototype._$Bb=function(aH){return this._$Hr[aH];};y.prototype._$5s=function(aO,aK){var aJ=this._$Ws.length;var aN=aO;for(var aL=0;aL<aJ;++aL){var aI=this._$Ws[aL];if(aI==y._$V2){continue;}do{var aM=this._$8b[aI];if(aM._$yo()){aM._$GT()._$B2(this,aM,aN);aN+=aK;}var aH=this._$Er[aI];if(aH<=aI||aH==y._$W0){break;}aI=aH;}while(true);}};y.prototype.setDrawParam=function(aH){this.dp_webgl=aH;};y.prototype.getDrawParam=function(){return this.dp_webgl;};function ap(){}ap._$0T=function(aH){return ap._$0T(new _$5(aH));};ap._$0T=function(aJ){if(!aJ.exists()){throw new _$ls(aJ._$3b());}var aH=aJ.length();var aI=new Int8Array(aH);var aM=new _$Xs(new _$kb(aJ),8192);var aK;var aL=0;while((aK=aM.read(aI,aL,aH-aL))>0){aL+=aK;}return aI;};ap._$C=function(aJ){var aI=null;var aL=null;try{aI=(aJ instanceof Array)?aJ:new _$Xs(aJ,8192);aL=new _$js();var aM=1000;var aK;var aH=new Int8Array(aM);while((aK=aI.read(aH))>0){aL.write(aH,0,aK);}return aL._$TS();}finally{if(aJ!=null){aJ.close();}if(aL!=null){aL.flush();aL.close();}}};function ar(){if(j){return;}this._$12=null;this._$bb=null;this._$_L=null;this._$jo=null;this._$iL=null;this._$0L=null;this._$Br=null;this._$Dr=null;this._$Cb=null;this._$mr=null;this._$_L=az.STATE_FIRST;this._$Br=4000;this._$Dr=100;this._$Cb=50;this._$mr=150;this._$jo=true;this._$iL="PARAM_EYE_L_OPEN";this._$0L="PARAM_EYE_R_OPEN";}ar.prototype._$T2=function(){var aI=P.getUserTimeMSec();var aH=Math._$10();return(aI+aH*(2*this._$Br-1));};ar.prototype._$uo=function(aH){this._$Br=aH;};ar.prototype._$QS=function(aI,aH,aJ){this._$Dr=aI;this._$Cb=aH;this._$mr=aJ;};ar.prototype._$7T=function(aI){var aK=P.getUserTimeMSec();var aH;var aJ=0;switch(this._$_L){case STATE_CLOSING:aJ=(aK-this._$bb)/this._$Dr;if(aJ>=1){aJ=1;this._$_L=az.STATE_CLOSED;this._$bb=aK;}aH=1-aJ;break;case STATE_CLOSED:aJ=(aK-this._$bb)/this._$Cb;if(aJ>=1){this._$_L=az.STATE_OPENING;this._$bb=aK;}aH=0;break;case STATE_OPENING:aJ=(aK-this._$bb)/this._$mr;if(aJ>=1){aJ=1;this._$_L=az.STATE_INTERVAL;this._$12=this._$T2();}aH=aJ;break;case STATE_INTERVAL:if(this._$12<aK){this._$_L=az.STATE_CLOSING;this._$bb=aK;}aH=1;break;case STATE_FIRST:default:this._$_L=az.STATE_INTERVAL;this._$12=this._$T2();aH=1;break;}if(!this._$jo){aH=-aH;}aI.setParamFloat(this._$iL,aH);aI.setParamFloat(this._$0L,aH);};var az=function(){};az.STATE_FIRST="STATE_FIRST";az.STATE_INTERVAL="STATE_INTERVAL";az.STATE_CLOSING="STATE_CLOSING";az.STATE_CLOSED="STATE_CLOSED";az.STATE_OPENING="STATE_OPENING";function x(){if(j){return;}ax.prototype.constructor.call(this);this._$sb=new Int32Array(x._$As);this._$U2=new Array();this.transform=null;this.gl=null;if(x._$NT==null){x._$NT=x._$9r(256);x._$vS=x._$9r(256);x._$no=x._$vb(256);}}x.prototype=new ax();x._$As=32;x._$Gr=false;x._$NT=null;x._$vS=null;x._$no=null;x._$9r=function(aH){var aI=new Float32Array(aH);return aI;};x._$vb=function(aH){var aI=new Int16Array(aH);return aI;};x._$cr=function(aI,aH){if(aI==null||aI._$yL()<aH.length){aI=x._$9r(aH.length*2);aI.put(aH);aI._$oT(0);}else{aI.clear();aI.put(aH);aI._$oT(0);}return aI;};x._$mb=function(aI,aH){if(aI==null||aI._$yL()<aH.length){aI=x._$vb(aH.length*2);aI.put(aH);aI._$oT(0);}else{aI.clear();aI.put(aH);aI._$oT(0);}return aI;};x._$Hs=function(){return x._$Gr;};x._$as=function(aH){x._$Gr=aH;};x.prototype.setGL=function(aH){this.gl=aH;};x.prototype.setTransform=function(aH){this.transform=aH;};x.prototype._$ZT=function(){};x.prototype._$Uo=function(aO,aH,aP,aI,aQ,aM,aK,aJ){if(aM<0.01){return;}var aL=this._$U2[aO];var aN=aM>0.9?Q.EXPAND_W:0;this.gl.drawElements(aL,aP,aI,aQ,aM,aN,this.transform,aJ);};x.prototype._$Rs=function(){throw new Error("_$Rs");};x.prototype._$Ds=function(aH){throw new Error("_$Ds");};x.prototype._$K2=function(){for(var aH=0;aH<this._$sb.length;aH++){var aI=this._$sb[aH];if(aI!=0){this.gl._$Sr(1,this._$sb,aH);this._$sb[aH]=0;}}};x.prototype.setTexture=function(aI,aH){if(this._$sb.length<aI+1){this._$nS(aI);}this._$sb[aI]=aH;};x.prototype.setTexture=function(aH,aI){if(this._$sb.length<aH+1){this._$nS(aH);}this._$U2[aH]=aI;};x.prototype._$nS=function(aH){var aK=Math.max(this._$sb.length*2,aH+1+10);var aI=new Int32Array(aK);P._$jT(this._$sb,0,aI,0,this._$sb.length);this._$sb=aI;var aJ=new Array();P._$jT(this._$U2,0,aJ,0,this._$U2.length);this._$U2=aJ;};function ab(){if(j){return;}c.prototype.constructor.call(this);this._$GS=null;this._$Y0=null;}ab.prototype=new c();ab._$Xo=new Float32Array(2);ab._$io=new Float32Array(2);ab._$0o=new Float32Array(2);ab._$Lo=new Float32Array(2);ab._$To=new Float32Array(2);ab._$Po=new Float32Array(2);ab._$gT=new Array();ab.prototype._$zP=function(){this._$GS=new g();this._$GS._$zP();this._$Y0=new Array();};ab.prototype.getType=function(){return c._$c2;};ab.prototype._$F0=function(aH){c.prototype._$F0.call(this,aH);this._$GS=aH._$nP();this._$Y0=aH._$nP();c.prototype.readV2_opacity.call(this,aH);};ab.prototype.init=function(aH){var aI=new al(this);aI._$Yr=new X();if(this._$32()){aI._$Wr=new X();}return aI;};ab.prototype._$Nr=function(bf,bx){if(!((this==bx._$GT()))){__NONECONSOLE.log("### assert!! ### ");}var bm=bx;if(!this._$GS._$Ur(bf)){return;}var bw=ab._$gT;bw[0]=false;var a2=this._$GS._$Q2(bf,bw);bx._$Ib(bw[0]);this.interpolateOpacity(bf,this._$GS,bx,bw);var a3=bf._$vs();var ba=bf._$Tr();this._$GS._$zr(a3,ba,a2);if(a2<=0){var bn=this._$Y0[a3[0]];bm._$Yr.init(bn);}else{if(a2==1){var bn=this._$Y0[a3[0]];var bl=this._$Y0[a3[1]];var a9=ba[0];bm._$Yr._$fL=bn._$fL+(bl._$fL-bn._$fL)*a9;bm._$Yr._$gL=bn._$gL+(bl._$gL-bn._$gL)*a9;bm._$Yr._$B0=bn._$B0+(bl._$B0-bn._$B0)*a9;bm._$Yr._$z0=bn._$z0+(bl._$z0-bn._$z0)*a9;bm._$Yr._$qT=bn._$qT+(bl._$qT-bn._$qT)*a9;}else{if(a2==2){var bn=this._$Y0[a3[0]];var bl=this._$Y0[a3[1]];var a1=this._$Y0[a3[2]];var a0=this._$Y0[a3[3]];var a9=ba[0];var a8=ba[1];var bC=bn._$fL+(bl._$fL-bn._$fL)*a9;var bB=a1._$fL+(a0._$fL-a1._$fL)*a9;bm._$Yr._$fL=bC+(bB-bC)*a8;bC=bn._$gL+(bl._$gL-bn._$gL)*a9;bB=a1._$gL+(a0._$gL-a1._$gL)*a9;bm._$Yr._$gL=bC+(bB-bC)*a8;bC=bn._$B0+(bl._$B0-bn._$B0)*a9;bB=a1._$B0+(a0._$B0-a1._$B0)*a9;bm._$Yr._$B0=bC+(bB-bC)*a8;bC=bn._$z0+(bl._$z0-bn._$z0)*a9;bB=a1._$z0+(a0._$z0-a1._$z0)*a9;bm._$Yr._$z0=bC+(bB-bC)*a8;bC=bn._$qT+(bl._$qT-bn._$qT)*a9;bB=a1._$qT+(a0._$qT-a1._$qT)*a9;bm._$Yr._$qT=bC+(bB-bC)*a8;}else{if(a2==3){var aP=this._$Y0[a3[0]];var aO=this._$Y0[a3[1]];var bu=this._$Y0[a3[2]];var bs=this._$Y0[a3[3]];var aK=this._$Y0[a3[4]];var aJ=this._$Y0[a3[5]];var bj=this._$Y0[a3[6]];var bi=this._$Y0[a3[7]];var a9=ba[0];var a8=ba[1];var a6=ba[2];var bC=aP._$fL+(aO._$fL-aP._$fL)*a9;var bB=bu._$fL+(bs._$fL-bu._$fL)*a9;var bz=aK._$fL+(aJ._$fL-aK._$fL)*a9;var by=bj._$fL+(bi._$fL-bj._$fL)*a9;bm._$Yr._$fL=(1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8);bC=aP._$gL+(aO._$gL-aP._$gL)*a9;bB=bu._$gL+(bs._$gL-bu._$gL)*a9;bz=aK._$gL+(aJ._$gL-aK._$gL)*a9;by=bj._$gL+(bi._$gL-bj._$gL)*a9;bm._$Yr._$gL=(1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8);bC=aP._$B0+(aO._$B0-aP._$B0)*a9;bB=bu._$B0+(bs._$B0-bu._$B0)*a9;bz=aK._$B0+(aJ._$B0-aK._$B0)*a9;by=bj._$B0+(bi._$B0-bj._$B0)*a9;bm._$Yr._$B0=(1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8);bC=aP._$z0+(aO._$z0-aP._$z0)*a9;bB=bu._$z0+(bs._$z0-bu._$z0)*a9;bz=aK._$z0+(aJ._$z0-aK._$z0)*a9;by=bj._$z0+(bi._$z0-bj._$z0)*a9;bm._$Yr._$z0=(1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8);bC=aP._$qT+(aO._$qT-aP._$qT)*a9;bB=bu._$qT+(bs._$qT-bu._$qT)*a9;bz=aK._$qT+(aJ._$qT-aK._$qT)*a9;by=bj._$qT+(bi._$qT-bj._$qT)*a9;bm._$Yr._$qT=(1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8);}else{if(a2==4){var aT=this._$Y0[a3[0]];var aS=this._$Y0[a3[1]];var bE=this._$Y0[a3[2]];var bD=this._$Y0[a3[3]];var aN=this._$Y0[a3[4]];var aM=this._$Y0[a3[5]];var bp=this._$Y0[a3[6]];var bo=this._$Y0[a3[7]];var bh=this._$Y0[a3[8]];var bg=this._$Y0[a3[9]];var aY=this._$Y0[a3[10]];var aW=this._$Y0[a3[11]];var a7=this._$Y0[a3[12]];var a5=this._$Y0[a3[13]];var aR=this._$Y0[a3[14]];var aQ=this._$Y0[a3[15]];var a9=ba[0];var a8=ba[1];var a6=ba[2];var a4=ba[3];var bC=aT._$fL+(aS._$fL-aT._$fL)*a9;var bB=bE._$fL+(bD._$fL-bE._$fL)*a9;var bz=aN._$fL+(aM._$fL-aN._$fL)*a9;var by=bp._$fL+(bo._$fL-bp._$fL)*a9;var bv=bh._$fL+(bg._$fL-bh._$fL)*a9;var bt=aY._$fL+(aW._$fL-aY._$fL)*a9;var br=a7._$fL+(a5._$fL-a7._$fL)*a9;var bq=aR._$fL+(aQ._$fL-aR._$fL)*a9;bm._$Yr._$fL=(1-a4)*((1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8))+a4*((1-a6)*(bv+(bt-bv)*a8)+a6*(br+(bq-br)*a8));bC=aT._$gL+(aS._$gL-aT._$gL)*a9;bB=bE._$gL+(bD._$gL-bE._$gL)*a9;bz=aN._$gL+(aM._$gL-aN._$gL)*a9;by=bp._$gL+(bo._$gL-bp._$gL)*a9;bv=bh._$gL+(bg._$gL-bh._$gL)*a9;bt=aY._$gL+(aW._$gL-aY._$gL)*a9;br=a7._$gL+(a5._$gL-a7._$gL)*a9;bq=aR._$gL+(aQ._$gL-aR._$gL)*a9;bm._$Yr._$gL=(1-a4)*((1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8))+a4*((1-a6)*(bv+(bt-bv)*a8)+a6*(br+(bq-br)*a8));bC=aT._$B0+(aS._$B0-aT._$B0)*a9;bB=bE._$B0+(bD._$B0-bE._$B0)*a9;bz=aN._$B0+(aM._$B0-aN._$B0)*a9;by=bp._$B0+(bo._$B0-bp._$B0)*a9;bv=bh._$B0+(bg._$B0-bh._$B0)*a9;bt=aY._$B0+(aW._$B0-aY._$B0)*a9;br=a7._$B0+(a5._$B0-a7._$B0)*a9;bq=aR._$B0+(aQ._$B0-aR._$B0)*a9;bm._$Yr._$B0=(1-a4)*((1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8))+a4*((1-a6)*(bv+(bt-bv)*a8)+a6*(br+(bq-br)*a8));bC=aT._$z0+(aS._$z0-aT._$z0)*a9;bB=bE._$z0+(bD._$z0-bE._$z0)*a9;bz=aN._$z0+(aM._$z0-aN._$z0)*a9;by=bp._$z0+(bo._$z0-bp._$z0)*a9;bv=bh._$z0+(bg._$z0-bh._$z0)*a9;bt=aY._$z0+(aW._$z0-aY._$z0)*a9;br=a7._$z0+(a5._$z0-a7._$z0)*a9;bq=aR._$z0+(aQ._$z0-aR._$z0)*a9;bm._$Yr._$z0=(1-a4)*((1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8))+a4*((1-a6)*(bv+(bt-bv)*a8)+a6*(br+(bq-br)*a8));bC=aT._$qT+(aS._$qT-aT._$qT)*a9;bB=bE._$qT+(bD._$qT-bE._$qT)*a9;bz=aN._$qT+(aM._$qT-aN._$qT)*a9;by=bp._$qT+(bo._$qT-bp._$qT)*a9;bv=bh._$qT+(bg._$qT-bh._$qT)*a9;bt=aY._$qT+(aW._$qT-aY._$qT)*a9;br=a7._$qT+(a5._$qT-a7._$qT)*a9;bq=aR._$qT+(aQ._$qT-aR._$qT)*a9;bm._$Yr._$qT=(1-a4)*((1-a6)*(bC+(bB-bC)*a8)+a6*(bz+(by-bz)*a8))+a4*((1-a6)*(bv+(bt-bv)*a8)+a6*(br+(bq-br)*a8));}else{var aV=Math.pow(2,a2)|0;var aZ=new Float32Array(aV);for(var bk=0;bk<aV;bk++){var aI=bk;var aH=1;for(var aL=0;aL<a2;aL++){aH*=(aI%2==0)?(1-ba[aL]):ba[aL];aI/=2;}aZ[bk]=aH;}var bA=new Array();for(var aU=0;aU<aV;aU++){bA[aU]=this._$Y0[a3[aU]];}var be=0,bc=0,bd=0,bb=0,aX=0;for(var aU=0;aU<aV;aU++){be+=aZ[aU]*bA[aU]._$fL;bc+=aZ[aU]*bA[aU]._$gL;bd+=aZ[aU]*bA[aU]._$B0;bb+=aZ[aU]*bA[aU]._$z0;aX+=aZ[aU]*bA[aU]._$qT;}bm._$Yr._$fL=be;bm._$Yr._$gL=bc;bm._$Yr._$B0=bd;bm._$Yr._$z0=bb;bm._$Yr._$qT=aX;}}}}}var bn=this._$Y0[a3[0]];bm._$Yr.reflectX=bn.reflectX;bm._$Yr.reflectY=bn.reflectY;};ab.prototype._$2b=function(aM,aH){if(!((this==aH._$GT()))){__NONECONSOLE.log("### assert!! ### ");}var aR=aH;aR._$hS(true);if(!this._$32()){aR.setTotalScale_notForClient(aR._$Yr._$B0);aR.setTotalOpacity(aR.getInterpolatedOpacity());}else{var aT=this.getTargetBaseDataID();if(aR._$8r==c._$ur){aR._$8r=aM.getBaseDataIndex(aT);}if(aR._$8r<0){if(Q._$so){q._$li("_$L _$0P _$G :: %s",aT);}aR._$hS(false);}else{var aI=aM.getBaseData(aR._$8r);if(aI!=null){var aL=aM._$q2(aR._$8r);var aS=ab._$Xo;aS[0]=aR._$Yr._$fL;aS[1]=aR._$Yr._$gL;var aJ=ab._$io;aJ[0]=0;aJ[1]=-0.1;var aO=aL._$GT().getType();if(aO==c._$c2){aJ[1]=-10;}else{aJ[1]=-0.1;}var aQ=ab._$0o;this._$Jr(aM,aI,aL,aS,aJ,aQ);var aP=aC._$92(aJ,aQ);aI._$nb(aM,aL,aS,aS,1,0,2);aR._$Wr._$fL=aS[0];aR._$Wr._$gL=aS[1];aR._$Wr._$B0=aR._$Yr._$B0;aR._$Wr._$z0=aR._$Yr._$z0;aR._$Wr._$qT=aR._$Yr._$qT-aP*aC._$NS;var aK=aL.getTotalScale();aR.setTotalScale_notForClient(aK*aR._$Wr._$B0);var aN=aL.getTotalOpacity();aR.setTotalOpacity(aN*aR.getInterpolatedOpacity());aR._$Wr.reflectX=aR._$Yr.reflectX;aR._$Wr.reflectY=aR._$Yr.reflectY;aR._$hS(aL._$yo());}else{aR._$hS(false);}}}};ab.prototype._$nb=function(aJ,aR,aL,a4,aT,aO,a2){if(!((this==aR._$GT()))){__NONECONSOLE.log("### assert!! ### ");}var aH=aR;var aU=aH._$Wr!=null?aH._$Wr:aH._$Yr;var a0=Math.sin(aC._$bS*aU._$qT);var aP=Math.cos(aC._$bS*aU._$qT);var a3=aH.getTotalScale();var aW=aU.reflectX?-1:1;var aV=aU.reflectY?-1:1;var aS=aP*a3*aW;var aQ=-a0*a3*aV;var a1=a0*a3*aW;var aZ=aP*a3*aV;var aY=aU._$fL;var aX=aU._$gL;var aN,aM;var aI=aT*a2;for(var aK=aO;aK<aI;aK+=a2){aN=aL[aK];aM=aL[aK+1];a4[aK]=aS*aN+aQ*aM+aY;a4[aK+1]=a1*aN+aZ*aM+aX;}};ab.prototype._$Jr=function(aP,aK,aI,aR,aQ,aH){if(!((aK==aI._$GT()))){__NONECONSOLE.log("### assert!! ### ");}var aO=ab._$Lo;ab._$Lo[0]=aR[0];ab._$Lo[1]=aR[1];aK._$nb(aP,aI,aO,aO,1,0,2);var aL=ab._$To;var aS=ab._$Po;var aN=10;var aJ=1;for(var aM=0;aM<aN;aM++){aS[0]=aR[0]+aJ*aQ[0];aS[1]=aR[1]+aJ*aQ[1];aK._$nb(aP,aI,aS,aL,1,0,2);aL[0]-=aO[0];aL[1]-=aO[1];if(aL[0]!=0||aL[1]!=0){aH[0]=aL[0];aH[1]=aL[1];return;}aS[0]=aR[0]-aJ*aQ[0];aS[1]=aR[1]-aJ*aQ[1];aK._$nb(aP,aI,aS,aL,1,0,2);aL[0]-=aO[0];aL[1]-=aO[1];if(aL[0]!=0||aL[1]!=0){aL[0]=-aL[0];aL[0]=-aL[0];aH[0]=aL[0];aH[1]=aL[1];return;}aJ*=0.1;}if(Q._$so){__NONECONSOLE.log("_$L0 to transform _$SP\\n");}};function al(aH){B.prototype.constructor.call(this,aH);this._$8r=c._$ur;this._$Yr=null;this._$Wr=null;}al.prototype=new B();function a(){if(j){return;}ae.prototype.constructor.call(this);this._$gP=null;this._$dr=null;this._$GS=null;this._$qb=null;this._$Lb=null;this._$mS=null;}a.prototype=new ae();a._$ur=-2;a._$ES=500;a._$wb=2;a._$8S=3;a._$os=4;a._$52=a._$ES;a._$R2=a._$ES;a._$Sb=function(aJ){for(var aI=aJ.length-1;aI>=0;--aI){var aH=aJ[aI];if(aH<a._$52){a._$52=aH;}else{if(aH>a._$R2){a._$R2=aH;}}}};a._$or=function(){return a._$52;};a._$Pr=function(){return a._$R2;};a.prototype._$F0=function(aH){this._$gP=aH._$nP();this._$dr=aH._$nP();this._$GS=aH._$nP();this._$qb=aH._$6L();this._$Lb=aH._$cS();this._$mS=aH._$Tb();if(aH.getFormatVersion()>=ay._$T7){this.clipID=aH._$nP();this.clipIDList=this.convertClipIDForV2_11(this.clipID);}else{this.clipIDList=null;}a._$Sb(this._$Lb);};a.prototype.getClipIDList=function(){return this.clipIDList;};a.prototype._$Nr=function(aI,aH){aH._$IS[0]=false;aH._$Us=aG._$Z2(aI,this._$GS,aH._$IS,this._$Lb);if(Q._$Zs){}else{if(aH._$IS[0]){return;}}aH._$7s=aG._$br(aI,this._$GS,aH._$IS,this._$mS);};a.prototype._$2b=function(aH){};a.prototype.getDrawDataID=function(){return this._$gP;};a.prototype._$j2=function(aH){this._$gP=aH;};a.prototype.getOpacity=function(aH,aI){return aI._$7s;};a.prototype._$zS=function(aH,aI){return aI._$Us;};a.prototype.getTargetBaseDataID=function(){return this._$dr;};a.prototype._$gs=function(aH){this._$dr=aH;};a.prototype._$32=function(){return(this._$dr!=null&&(this._$dr!=n._$2o()));};a.prototype.getType=function(){};function aq(){if(j){return;}this._$NL=null;this._$3S=null;this._$aS=null;aq._$42++;}aq._$42=0;aq.prototype._$1b=function(){return this._$3S;};aq.prototype.getDrawDataList=function(){return this._$aS;};aq.prototype._$F0=function(aH){this._$NL=aH._$nP();this._$aS=aH._$nP();this._$3S=aH._$nP();};aq.prototype._$kr=function(aH){aH._$Zo(this._$3S);aH._$xo(this._$aS);this._$3S=null;this._$aS=null;};function v(){if(j){return;}aa.prototype.constructor.call(this);this._$zo=new x();}v.prototype=new aa();v.loadModel=function(aI){var aH=new v();aa._$62(aH,aI);return aH;};v.loadModel=function(aI){var aH=new v();aa._$62(aH,aI);return aH;};v._$to=function(){var aH=new v();return aH;};v._$er=function(aM){var aJ=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(aJ.exists()==false){throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+aJ._$PL());}var aH=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"];var aK=v.loadModel(aJ._$3b());for(var aI=0;aI<aH.length;aI++){var aL=new _$5(aH[aI]);if(aL.exists()==false){throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+aL._$PL());}aK.setTexture(aI,_$nL._$_o(aM,aL._$3b()));}return aK;};v.prototype.setGL=function(aH){this._$zo.setGL(aH);};v.prototype.setTransform=function(aH){this._$zo.setTransform(aH);};v.prototype.draw=function(){this._$5S.draw(this._$zo);};v.prototype._$K2=function(){this._$zo._$K2();};v.prototype.setTexture=function(aI,aH){if(this._$zo==null){q._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!");}this._$zo.setTexture(aI,aH);};v.prototype.setTexture=function(aI,aH){if(this._$zo==null){q._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!");}this._$zo.setTexture(aI,aH);};v.prototype._$Rs=function(){return this._$zo._$Rs();};v.prototype._$Ds=function(aH){this._$zo._$Ds(aH);};v.prototype.getDrawParam=function(){return this._$zo;};function ao(){if(j){return;}ah.prototype.constructor.call(this);this.motions=new Array();this._$o2=null;this._$7r=ao._$Co++;this._$D0=30;this._$yT=0;this._$E=false;this.loopFadeIn=true;this._$rr=-1;this._$eP=0;}ao.prototype=new ah();ao._$cs="VISIBLE:";ao._$ar="LAYOUT:";ao.MTN_PREFIX_FADEIN="FADEIN:";ao.MTN_PREFIX_FADEOUT="FADEOUT:";ao._$Co=0;ao._$1T=1;ao.loadMotion=function(aJ){var aI=ap._$C(aJ);var aH=ao.loadMotion(aI);return aH;};function p(aI,aH){return String.fromCharCode(aI.getUint8(aH));}ao.loadMotion=function(aT){if(aT instanceof ArrayBuffer){aT=new DataView(aT);}var aN=new ao();var aI=[0];var aQ=aT.byteLength;aN._$yT=0;for(var aJ=0;aJ<aQ;++aJ){var aS=p(aT,aJ);var aL=aS.charCodeAt(0);if(aS=="\\n"||aS=="\\r"){continue;}if(aS=="#"){for(;aJ<aQ;++aJ){if(p(aT,aJ)=="\\n"||p(aT,aJ)=="\\r"){break;}}continue;}if(aS=="$"){var aV=aJ;var aK=-1;for(;aJ<aQ;++aJ){aS=p(aT,aJ);if(aS=="\\r"||aS=="\\n"){break;}if(aS=="="){aK=aJ;break;}}var aP=false;if(aK>=0){if(aK==aV+4&&p(aT,aV+1)=="f"&&p(aT,aV+2)=="p"&&p(aT,aV+3)=="s"){aP=true;}for(aJ=aK+1;aJ<aQ;++aJ){aS=p(aT,aJ);if(aS=="\\r"||aS=="\\n"){break;}if(aS==","||aS==" "||aS=="	"){continue;}var aM=G._$LS(aT,aQ,aJ,aI);if(aI[0]>0){if(aP&&5<aM&&aM<121){aN._$D0=aM;}}aJ=aI[0];}}for(;aJ<aQ;++aJ){if(p(aT,aJ)=="\\n"||p(aT,aJ)=="\\r"){break;}}continue;}if((97<=aL&&aL<=122)||(65<=aL&&aL<=90)||aS=="_"){var aV=aJ;var aK=-1;for(;aJ<aQ;++aJ){aS=p(aT,aJ);if(aS=="\\r"||aS=="\\n"){break;}if(aS=="="){aK=aJ;break;}}if(aK>=0){var aO=new t();if(G.startsWith(aT,aV,ao._$cs)){aO._$RP=t._$hs;aO._$4P=G.createString(aT,aV,aK-aV);}else{if(G.startsWith(aT,aV,ao._$ar)){aO._$4P=G.createString(aT,aV+7,aK-aV-7);if(G.startsWith(aT,aV+7,"ANCHOR_X")){aO._$RP=t._$xs;}else{if(G.startsWith(aT,aV+7,"ANCHOR_Y")){aO._$RP=t._$us;}else{if(G.startsWith(aT,aV+7,"SCALE_X")){aO._$RP=t._$qs;}else{if(G.startsWith(aT,aV+7,"SCALE_Y")){aO._$RP=t._$Ys;}else{if(G.startsWith(aT,aV+7,"X")){aO._$RP=t._$ws;}else{if(G.startsWith(aT,aV+7,"Y")){aO._$RP=t._$Ns;}}}}}}}else{aO._$RP=t._$Fr;aO._$4P=G.createString(aT,aV,aK-aV);}}aN.motions.push(aO);var aU=0;var aR=[];for(aJ=aK+1;aJ<aQ;++aJ){aS=p(aT,aJ);if(aS=="\\r"||aS=="\\n"){break;}if(aS==","||aS==" "||aS=="	"){continue;}var aM=G._$LS(aT,aQ,aJ,aI);if(aI[0]>0){aR.push(aM);aU++;var aH=aI[0];if(aH<aJ){__NONECONSOLE.log("_$n0 _$hi . @Live2DMotion loadMotion()\\n");break;}aJ=aH-1;}}aO._$I0=new Float32Array(aR);if(aU>aN._$yT){aN._$yT=aU;}}}}aN._$rr=((1000*aN._$yT)/aN._$D0)|0;return aN;};ao.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr;};ao.prototype.getLoopDurationMSec=function(){return this._$rr;};ao.prototype.dump=function(){for(var aJ=0;aJ<this.motions.length;aJ++){var aH=this.motions[aJ];__NONECONSOLE.log("_$wL[%s] [%d]. ",aH._$4P,aH._$I0.length);for(var aI=0;aI<aH._$I0.length&&aI<10;aI++){__NONECONSOLE.log("%5.2f ,",aH._$I0[aI]);}__NONECONSOLE.log("\\n");}};ao.prototype.updateParamExe=function(aJ,aN,aQ,a3){var aO=aN-a3._$z2;var a0=aO*this._$D0/1000;var aK=a0|0;var aR=a0-aK;for(var aZ=0;aZ<this.motions.length;aZ++){var aV=this.motions[aZ];var aL=aV._$I0.length;var aT=aV._$4P;if(aV._$RP==t._$hs){var aX=aV._$I0[(aK>=aL?aL-1:aK)];aJ.setParamFloat(aT,aX);}else{if(t._$ws<=aV._$RP&&aV._$RP<=t._$Ys){}else{var aH=aJ.getParamIndex(aT);var a4=aJ.getModelContext();var aY=a4.getParamMax(aH);var aW=a4.getParamMin(aH);var aM=0.4;var aS=aM*(aY-aW);var aU=a4.getParamFloat(aH);var a2=aV._$I0[(aK>=aL?aL-1:aK)];var a1=aV._$I0[(aK+1>=aL?aL-1:aK+1)];var aI;if((a2<a1&&a1-a2>aS)||(a2>a1&&a2-a1>aS)){aI=a2;}else{aI=a2+(a1-a2)*aR;}var aP=aU+(aI-aU)*aQ;aJ.setParamFloat(aT,aP);}}}if(aK>=this._$yT){if(this._$E){a3._$z2=aN;if(this.loopFadeIn){a3._$bs=aN;}}else{a3._$9L=true;}}this._$eP=aQ;};ao.prototype._$r0=function(){return this._$E;};ao.prototype._$aL=function(aH){this._$E=aH;};ao.prototype._$S0=function(){return this._$D0;};ao.prototype._$U0=function(aH){this._$D0=aH;};ao.prototype.isLoopFadeIn=function(){return this.loopFadeIn;};ao.prototype.setLoopFadeIn=function(aH){this.loopFadeIn=aH;};function aE(){this._$P=new Float32Array(100);this.size=0;}aE.prototype.clear=function(){this.size=0;};aE.prototype.add=function(aI){if(this._$P.length<=this.size){var aH=new Float32Array(this.size*2);P._$jT(this._$P,0,aH,0,this.size);this._$P=aH;}this._$P[this.size++]=aI;};aE.prototype._$BL=function(){var aH=new Float32Array(this.size);P._$jT(this._$P,0,aH,0,this.size);return aH;};function t(){this._$4P=null;this._$I0=null;this._$RP=null;}t._$Fr=0;t._$hs=1;t._$ws=100;t._$Ns=101;t._$xs=102;t._$us=103;t._$qs=104;t._$Ys=105;function E(){if(j){return;}c.prototype.constructor.call(this);this._$o=0;this._$A=0;this._$GS=null;this._$Eo=null;}E.prototype=new c();E._$gT=new Array();E.prototype._$zP=function(){this._$GS=new g();this._$GS._$zP();};E.prototype._$F0=function(aH){c.prototype._$F0.call(this,aH);this._$A=aH._$6L();this._$o=aH._$6L();this._$GS=aH._$nP();this._$Eo=aH._$nP();c.prototype.readV2_opacity.call(this,aH);};E.prototype.init=function(aH){var aI=new H(this);var aJ=(this._$o+1)*(this._$A+1);if(aI._$Cr!=null){aI._$Cr=null;}aI._$Cr=new Float32Array(aJ*2);if(aI._$hr!=null){aI._$hr=null;}if(this._$32()){aI._$hr=new Float32Array(aJ*2);}else{aI._$hr=null;}return aI;};E.prototype._$Nr=function(aJ,aI){var aK=aI;if(!this._$GS._$Ur(aJ)){return;}var aL=this._$VT();var aH=E._$gT;aH[0]=false;aG._$Vr(aJ,this._$GS,aH,aL,this._$Eo,aK._$Cr,0,2);aI._$Ib(aH[0]);this.interpolateOpacity(aJ,this._$GS,aI,aH);};E.prototype._$2b=function(aK,aJ){var aL=aJ;aL._$hS(true);if(!this._$32()){aL.setTotalOpacity(aL.getInterpolatedOpacity());}else{var aH=this.getTargetBaseDataID();if(aL._$8r==c._$ur){aL._$8r=aK.getBaseDataIndex(aH);}if(aL._$8r<0){if(Q._$so){q._$li("_$L _$0P _$G :: %s",aH);}aL._$hS(false);}else{var aN=aK.getBaseData(aL._$8r);var aI=aK._$q2(aL._$8r);if(aN!=null&&aI._$yo()){var aM=aI.getTotalScale();aL.setTotalScale_notForClient(aM);var aO=aI.getTotalOpacity();aL.setTotalOpacity(aO*aL.getInterpolatedOpacity());aN._$nb(aK,aI,aL._$Cr,aL._$hr,this._$VT(),0,2);aL._$hS(true);}else{aL._$hS(false);}}}};E.prototype._$nb=function(aL,aI,aH,aM,aO,aK,aJ){if(true){var aN=aI;var aP=(aN._$hr!=null)?aN._$hr:aN._$Cr;E.transformPoints_sdk2(aH,aM,aO,aK,aJ,aP,this._$o,this._$A);}else{this.transformPoints_sdk1(aL,aI,aH,aM,aO,aK,aJ);}};E.transformPoints_sdk2=function(a0,bc,a5,aP,aI,aR,aQ,aU){var aW=a5*aI;var aV;var bn,bm;var aT=0;var aS=0;var bl=0;var bk=0;var bf=0;var be=0;var aZ=false;for(var ba=aP;ba<aW;ba+=aI){var bd,a7,a4,aX;a4=a0[ba];aX=a0[ba+1];bd=a4*aQ;a7=aX*aU;if(bd<0||a7<0||aQ<=bd||aU<=a7){var a1=aQ+1;if(!aZ){aZ=true;aT=0.25*(aR[((0)+(0)*a1)*2]+aR[((aQ)+(0)*a1)*2]+aR[((0)+(aU)*a1)*2]+aR[((aQ)+(aU)*a1)*2]);aS=0.25*(aR[((0)+(0)*a1)*2+1]+aR[((aQ)+(0)*a1)*2+1]+aR[((0)+(aU)*a1)*2+1]+aR[((aQ)+(aU)*a1)*2+1]);var aM=aR[((aQ)+(aU)*a1)*2]-aR[((0)+(0)*a1)*2];var aL=aR[((aQ)+(aU)*a1)*2+1]-aR[((0)+(0)*a1)*2+1];var bh=aR[((aQ)+(0)*a1)*2]-aR[((0)+(aU)*a1)*2];var bg=aR[((aQ)+(0)*a1)*2+1]-aR[((0)+(aU)*a1)*2+1];bl=(aM+bh)*0.5;bk=(aL+bg)*0.5;bf=(aM-bh)*0.5;be=(aL-bg)*0.5;if(bl==0&&bk==0){}if(bf==0&&be==0){}aT-=0.5*(bl+bf);aS-=0.5*(bk+be);}if((-2<a4&&a4<3)&&(-2<aX&&aX<3)){if(a4<=0){if(aX<=0){var a3=aR[((0)+(0)*a1)*2];var a2=aR[((0)+(0)*a1)*2+1];var a8=aT-2*bl;var a6=aS-2*bk;var aK=aT-2*bf;var aJ=aS-2*be;var aO=aT-2*bl-2*bf;var aN=aS-2*bk-2*be;var bj=0.5*(a4-(-2));var bi=0.5*(aX-(-2));if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{if(aX>=1){var aK=aR[((0)+(aU)*a1)*2];var aJ=aR[((0)+(aU)*a1)*2+1];var aO=aT-2*bl+1*bf;var aN=aS-2*bk+1*be;var a3=aT+3*bf;var a2=aS+3*be;var a8=aT-2*bl+3*bf;var a6=aS-2*bk+3*be;var bj=0.5*(a4-(-2));var bi=0.5*(aX-(1));if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{var aH=(a7|0);if(aH==aU){aH=aU-1;}var bj=0.5*(a4-(-2));var bi=a7-aH;var bb=aH/aU;var a9=(aH+1)/aU;var aK=aR[((0)+(aH)*a1)*2];var aJ=aR[((0)+(aH)*a1)*2+1];var a3=aR[((0)+(aH+1)*a1)*2];var a2=aR[((0)+(aH+1)*a1)*2+1];var aO=aT-2*bl+bb*bf;var aN=aS-2*bk+bb*be;var a8=aT-2*bl+a9*bf;var a6=aS-2*bk+a9*be;if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}}}else{if(1<=a4){if(aX<=0){var a8=aR[((aQ)+(0)*a1)*2];var a6=aR[((aQ)+(0)*a1)*2+1];var a3=aT+3*bl;var a2=aS+3*bk;var aO=aT+1*bl-2*bf;var aN=aS+1*bk-2*be;var aK=aT+3*bl-2*bf;var aJ=aS+3*bk-2*be;var bj=0.5*(a4-(1));var bi=0.5*(aX-(-2));if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{if(aX>=1){var aO=aR[((aQ)+(aU)*a1)*2];var aN=aR[((aQ)+(aU)*a1)*2+1];var aK=aT+3*bl+1*bf;var aJ=aS+3*bk+1*be;var a8=aT+1*bl+3*bf;var a6=aS+1*bk+3*be;var a3=aT+3*bl+3*bf;var a2=aS+3*bk+3*be;var bj=0.5*(a4-(1));var bi=0.5*(aX-(1));if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{var aH=(a7|0);if(aH==aU){aH=aU-1;}var bj=0.5*(a4-(1));var bi=a7-aH;var bb=aH/aU;var a9=(aH+1)/aU;var aO=aR[((aQ)+(aH)*a1)*2];var aN=aR[((aQ)+(aH)*a1)*2+1];var a8=aR[((aQ)+(aH+1)*a1)*2];var a6=aR[((aQ)+(aH+1)*a1)*2+1];var aK=aT+3*bl+bb*bf;var aJ=aS+3*bk+bb*be;var a3=aT+3*bl+a9*bf;var a2=aS+3*bk+a9*be;if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}}}else{if(aX<=0){var aY=(bd|0);if(aY==aQ){aY=aQ-1;}var bj=bd-aY;var bi=0.5*(aX-(-2));var bp=aY/aQ;var bo=(aY+1)/aQ;var a8=aR[((aY)+(0)*a1)*2];var a6=aR[((aY)+(0)*a1)*2+1];var a3=aR[((aY+1)+(0)*a1)*2];var a2=aR[((aY+1)+(0)*a1)*2+1];var aO=aT+bp*bl-2*bf;var aN=aS+bp*bk-2*be;var aK=aT+bo*bl-2*bf;var aJ=aS+bo*bk-2*be;if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{if(aX>=1){var aY=(bd|0);if(aY==aQ){aY=aQ-1;}var bj=bd-aY;var bi=0.5*(aX-(1));var bp=aY/aQ;var bo=(aY+1)/aQ;var aO=aR[((aY)+(aU)*a1)*2];var aN=aR[((aY)+(aU)*a1)*2+1];var aK=aR[((aY+1)+(aU)*a1)*2];var aJ=aR[((aY+1)+(aU)*a1)*2+1];var a8=aT+bp*bl+3*bf;var a6=aS+bp*bk+3*be;var a3=aT+bo*bl+3*bf;var a2=aS+bo*bk+3*be;if(bj+bi<=1){bc[ba]=aO+(aK-aO)*bj+(a8-aO)*bi;bc[ba+1]=aN+(aJ-aN)*bj+(a6-aN)*bi;}else{bc[ba]=a3+(a8-a3)*(1-bj)+(aK-a3)*(1-bi);bc[ba+1]=a2+(a6-a2)*(1-bj)+(aJ-a2)*(1-bi);}}else{System.err.printf("_$li calc : %.4f , %.4f					@@BDBoxGrid\\n",a4,aX);}}}}}else{bc[ba]=aT+a4*bl+aX*bf;bc[ba+1]=aS+a4*bk+aX*be;}}else{bn=bd-(bd|0);bm=a7-(a7|0);aV=2*((bd|0)+((a7|0))*(aQ+1));if(bn+bm<1){bc[ba]=aR[aV]*(1-bn-bm)+aR[aV+2]*bn+aR[aV+2*(aQ+1)]*bm;bc[ba+1]=aR[aV+1]*(1-bn-bm)+aR[aV+3]*bn+aR[aV+2*(aQ+1)+1]*bm;}else{bc[ba]=aR[aV+2*(aQ+1)+2]*(bn-1+bm)+aR[aV+2*(aQ+1)]*(1-bn)+aR[aV+2]*(1-bm);bc[ba+1]=aR[aV+2*(aQ+1)+3]*(bn-1+bm)+aR[aV+2*(aQ+1)+1]*(1-bn)+aR[aV+3]*(1-bm);}}}};E.prototype.transformPoints_sdk1=function(aJ,aR,aL,a0,aU,aP,aZ){var aH=aR;var aO,aN;var aM=this._$o;var aQ=this._$A;var aI=aU*aZ;var aS,aY;var aV;var aX,aW;var aT=(aH._$hr!=null)?aH._$hr:aH._$Cr;for(var aK=aP;aK<aI;aK+=aZ){if(Q._$ts){aO=aL[aK];aN=aL[aK+1];if(aO<0){aO=0;}else{if(aO>1){aO=1;}}if(aN<0){aN=0;}else{if(aN>1){aN=1;}}aO*=aM;aN*=aQ;aS=(aO|0);aY=(aN|0);if(aS>aM-1){aS=aM-1;}if(aY>aQ-1){aY=aQ-1;}aX=aO-aS;aW=aN-aY;aV=2*(aS+aY*(aM+1));}else{aO=aL[aK]*aM;aN=aL[aK+1]*aQ;aX=aO-(aO|0);aW=aN-(aN|0);aV=2*((aO|0)+(aN|0)*(aM+1));}if(aX+aW<1){a0[aK]=aT[aV]*(1-aX-aW)+aT[aV+2]*aX+aT[aV+2*(aM+1)]*aW;a0[aK+1]=aT[aV+1]*(1-aX-aW)+aT[aV+3]*aX+aT[aV+2*(aM+1)+1]*aW;}else{a0[aK]=aT[aV+2*(aM+1)+2]*(aX-1+aW)+aT[aV+2*(aM+1)]*(1-aX)+aT[aV+2]*(1-aW);a0[aK+1]=aT[aV+2*(aM+1)+3]*(aX-1+aW)+aT[aV+2*(aM+1)+1]*(1-aX)+aT[aV+3]*(1-aW);}}};E.prototype._$VT=function(){return(this._$o+1)*(this._$A+1);};E.prototype.getType=function(){return c._$_b;};function H(aH){B.prototype.constructor.call(this,aH);this._$8r=c._$ur;this._$Cr=null;this._$hr=null;}H.prototype=new B();function s(){if(j){return;}this.visible=true;this._$g0=false;this._$NL=null;this._$3S=null;this._$aS=null;s._$42++;}s._$42=0;s.prototype._$zP=function(){this._$3S=new Array();this._$aS=new Array();};s.prototype._$F0=function(aH){this._$g0=aH._$8L();this.visible=aH._$8L();this._$NL=aH._$nP();this._$3S=aH._$nP();this._$aS=aH._$nP();};s.prototype.init=function(aI){var aH=new aj(this);aH.setPartsOpacity(this.isVisible()?1:0);return aH;};s.prototype._$6o=function(aH){if(this._$3S==null){throw new Error("_$3S _$6 _$Wo@_$6o");}this._$3S.push(aH);};s.prototype._$3o=function(aH){if(this._$aS==null){throw new Error("_$aS _$6 _$Wo@_$3o");}this._$aS.push(aH);};s.prototype._$Zo=function(aH){this._$3S=aH;};s.prototype._$xo=function(aH){this._$aS=aH;};s.prototype.isVisible=function(){return this.visible;};s.prototype._$uL=function(){return this._$g0;};s.prototype._$KP=function(aH){this.visible=aH;};s.prototype._$ET=function(aH){this._$g0=aH;};s.prototype.getBaseData=function(){return this._$3S;};s.prototype.getDrawData=function(){return this._$aS;};s.prototype._$p2=function(){return this._$NL;};s.prototype._$ob=function(aH){this._$NL=aH;};s.prototype.getPartsID=function(){return this._$NL;};s.prototype._$MP=function(aH){this._$NL=aH;};function aj(aH){this._$VS=null;this._$e0=null;this._$e0=aH;}aj.prototype=new S();aj.prototype.getPartsOpacity=function(){return this._$VS;};aj.prototype.setPartsOpacity=function(aH){this._$VS=aH;};function ak(aH){if(j){return;}this.id=aH;}ak._$L7=function(){z._$27();n._$27();Z._$27();i._$27();};ak.prototype.toString=function(){return this.id;};function D(){}D.prototype._$F0=function(aH){};function an(){if(j){return;}this._$4S=null;}an.prototype._$1s=function(){return this._$4S;};an.prototype._$zP=function(){this._$4S=new Array();};an.prototype._$F0=function(aH){this._$4S=aH._$nP();};an.prototype._$Ks=function(aH){this._$4S.push(aH);};function au(aH,aI){this.canvas=aH;this.context=aI;this.viewport=new Array(0,0,aH.width,aH.height);this._$6r=1;this._$xP=0;this._$3r=1;this._$uP=0;this._$Qo=-1;this.cacheImages={};}au.tr=new am();au._$50=new am();au._$Ti=new Array(0,0);au._$Pi=new Array(0,0);au._$B=new Array(0,0);au.prototype._$lP=function(aI,aK,aJ,aH){this.viewport=new Array(aI,aK,aJ,aH);};au.prototype._$bL=function(){this.context.save();var aH=this.viewport;if(aH!=null){this.context.beginPath();this.context._$Li(aH[0],aH[1],aH[2],aH[3]);this.context.clip();}};au.prototype._$ei=function(){this.context.restore();};au.prototype.drawElements=function(bc,bm,aX,aJ,bA,aM,bl,bz){try{if(bA!=this._$Qo){this._$Qo=bA;this.context.globalAlpha=bA;}var a2=bm.length;var aP=bc.width;var a5=bc.height;var bE=this.context;var a7=this._$xP;var a6=this._$uP;var a1=this._$6r;var aZ=this._$3r;var bD=au.tr;var aI=au._$Ti;var aH=au._$Pi;var bu=au._$B;for(var by=0;by<a2;by+=3){bE.save();var aW=bm[by];var aV=bm[by+1];var aT=bm[by+2];var aL=a7+a1*aX[aW*2];var aK=a6+aZ*aX[aW*2+1];var br=a7+a1*aX[aV*2];var bp=a6+aZ*aX[aV*2+1];var bh=a7+a1*aX[aT*2];var bf=a6+aZ*aX[aT*2+1];if(bl){bl._$PS(aL,aK,bu);aL=bu[0];aK=bu[1];bl._$PS(br,bp,bu);br=bu[0];bp=bu[1];bl._$PS(bh,bf,bu);bh=bu[0];bf=bu[1];}var aS=aP*aJ[aW*2];var aQ=a5-a5*aJ[aW*2+1];var bx=aP*aJ[aV*2];var bw=a5-a5*aJ[aV*2+1];var bk=aP*aJ[aT*2];var bj=a5-a5*aJ[aT*2+1];var a3=Math.atan2(bw-aQ,bx-aS);var a0=Math.atan2(bp-aK,br-aL);var aO=br-aL;var aN=bp-aK;var bi=Math.sqrt(aO*aO+aN*aN);var aU=bx-aS;var aR=bw-aQ;var bt=Math.sqrt(aU*aU+aR*aR);var bv=bi/bt;ad._$ni(bk,bj,aS,aQ,(bx-aS),(bw-aQ),-(bw-aQ),(bx-aS),aI);ad._$ni(bh,bf,aL,aK,(br-aL),(bp-aK),-(bp-aK),(br-aL),aH);var aY=(aH[0]-aI[0])/aI[1];var bs=Math.min(aS,bx,bk);var bg=Math.max(aS,bx,bk);var bq=Math.min(aQ,bw,bj);var be=Math.max(aQ,bw,bj);var bo=Math.floor(bs);var bb=Math.floor(bq);var a4=Math.ceil(bg);var bC=Math.ceil(be);bD.identity();bD.translate(aL,aK);bD.rotate(a0);bD.scale(1,aH[1]/aI[1]);bD.shear(aY,0);bD.scale(bv,bv);bD.rotate(-a3);bD.translate(-aS,-aQ);bD.setContext(bE);var a8=true;var a9=1.2;if(!aM){aM=a8?a9:0;}if(Q.IGNORE_EXPAND){aM=0;}if(Q.USE_CACHED_POLYGON_IMAGE){var bd=bz._$e0;bd.gl_cacheImage=bd.gl_cacheImage||{};if(!bd.gl_cacheImage[by]){var bn=au.createCanvas(a4-bo,bC-bb);Q.DEBUG_DATA.LDGL_CANVAS_MB=Q.DEBUG_DATA.LDGL_CANVAS_MB||0;Q.DEBUG_DATA.LDGL_CANVAS_MB+=(a4-bo)*(bC-bb)*4;var ba=bn.getContext("2d");ba.translate(-bo,-bb);au.clip(ba,bD,aM,bi,aS,aQ,bx,bw,bk,bj,aL,aK,br,bp,bh,bf);ba.drawImage(bc,0,0);bd.gl_cacheImage[by]={cacheCanvas:bn,cacheContext:ba};}bE.drawImage(bd.gl_cacheImage[by]["cacheCanvas"],bo,bb);}else{if(!Q.IGNORE_CLIP){au.clip(bE,bD,aM,bi,aS,aQ,bx,bw,bk,bj,aL,aK,br,bp,bh,bf);}if(Q.USE_ADJUST_TRANSLATION){bs=0;bg=aP;bq=0;be=a5;}bE.drawImage(bc,bs,bq,bg-bs,be-bq,bs,bq,bg-bs,be-bq);}bE.restore();}}catch(bB){q._$Rb(bB);}};au.clip=function(aK,aJ,aV,aI,aM,aL,aU,aT,aQ,aP,aO,aN,aH,aW,aS,aR){if(aV>0.02){au.expandClip(aK,aJ,aV,aI,aO,aN,aH,aW,aS,aR);}else{au.clipWithTransform(aK,null,aM,aL,aU,aT,aQ,aP);}};au.expandClip=function(aV,bg,aK,a3,aJ,aI,be,ba,aZ,aX){var aP=be-aJ;var aO=ba-aI;var bi=aZ-aJ;var bh=aX-aI;var bj=aP*bh-aO*bi>0?aK:-aK;var aL=-aO;var aH=aP;var bc=aZ-be;var a8=aX-ba;var a7=-a8;var a6=bc;var aQ=Math.sqrt(bc*bc+a8*a8);var bf=-bh;var bb=bi;var a2=Math.sqrt(bi*bi+bh*bh);var bd=aJ-bj*aL/a3;var a9=aI-bj*aH/a3;var aY=be-bj*aL/a3;var aW=ba-bj*aH/a3;var a5=be-bj*a7/aQ;var a4=ba-bj*a6/aQ;var aS=aZ-bj*a7/aQ;var aR=aX-bj*a6/aQ;var aN=aJ+bj*bf/a2;var aM=aI+bj*bb/a2;var a1=aZ+bj*bf/a2;var a0=aX+bj*bb/a2;var aU=au._$50;var aT=bg._$P2(aU);if(aT==null){return false;}au.clipWithTransform(aV,aU,bd,a9,aY,aW,a5,a4,aS,aR,a1,a0,aN,aM);return true;};au.clipWithTransform=function(aH,aI,aS,aN,aQ,aK,aP,aJ){if(arguments.length<(1+3*2)){q._$li("err : @LDGL.clip()");return;}if(!(arguments[1] instanceof am)){q._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");return;}var aM=au._$B;var aO=aI;var aR=arguments;aH.beginPath();if(aO){aO._$PS(aR[2],aR[3],aM);aH.moveTo(aM[0],aM[1]);for(var aL=4;aL<aR.length;aL+=2){aO._$PS(aR[aL],aR[aL+1],aM);aH.lineTo(aM[0],aM[1]);}}else{aH.moveTo(aR[2],aR[3]);for(var aL=4;aL<aR.length;aL+=2){aH.lineTo(aR[aL],aR[aL+1]);}}aH.clip();};au.createCanvas=function(aH,aJ){var aI=document.createElement("canvas");aI.setAttribute("width",aH);aI.setAttribute("height",aJ);if(!aI){q._$li("err : "+aI);}return aI;};au.dumpValues=function(){var aI="";for(var aH=0;aH<arguments.length;aH++){aI+="["+aH+"]= "+arguments[aH].toFixed(3)+" , ";}__NONECONSOLE.log(aI);};function f(){if(j){return;}this._$TT=null;this._$LT=null;this._$FS=null;this._$wL=null;}f.prototype._$F0=function(aH){this._$TT=aH._$_T();this._$LT=aH._$_T();this._$FS=aH._$_T();this._$wL=aH._$nP();};f.prototype.getMinValue=function(){return this._$TT;};f.prototype.getMaxValue=function(){return this._$LT;};f.prototype.getDefaultValue=function(){return this._$FS;};f.prototype.getParamID=function(){return this._$wL;};function B(aH){if(j){return;}this._$e0=null;this._$IP=null;this._$JS=false;this._$AT=true;this._$e0=aH;this.totalScale=1;this._$7s=1;this.totalOpacity=1;}B.prototype._$yo=function(){return this._$AT&&!this._$JS;};B.prototype._$hS=function(aH){this._$AT=aH;};B.prototype._$GT=function(){return this._$e0;};B.prototype._$l2=function(aH){this._$IP=aH;};B.prototype.getPartsIndex=function(){return this._$IP;};B.prototype._$x2=function(){return this._$JS;};B.prototype._$Ib=function(aH){this._$JS=aH;};B.prototype.getTotalScale=function(){return this.totalScale;};B.prototype.setTotalScale_notForClient=function(aH){this.totalScale=aH;};B.prototype.getInterpolatedOpacity=function(){return this._$7s;};B.prototype.setInterpolatedOpacity=function(aH){this._$7s=aH;};B.prototype.getTotalOpacity=function(aH){return this.totalOpacity;};B.prototype.setTotalOpacity=function(aH){this.totalOpacity=aH;};function Q(){}Q._$2s="2.1.00_1";Q._$Kr=201001000;Q._$sP=true;Q._$so=true;Q._$cb=false;Q._$3T=true;Q._$Ts=true;Q._$fb=true;Q._$ts=true;Q.L2D_DEFORMER_EXTEND=true;Q._$Wb=false;Q._$yr=false;Q._$Zs=false;Q.L2D_NO_ERROR=0;Q._$i7=1000;Q._$9s=1001;Q._$es=1100;Q._$r7=2000;Q._$07=2001;Q._$b7=2002;Q._$H7=4000;Q.L2D_COLOR_BLEND_MODE_MULT=0;Q.L2D_COLOR_BLEND_MODE_ADD=1;Q.L2D_COLOR_BLEND_MODE_INTERPOLATE=2;Q._$6b=true;Q._$cT=0;Q.clippingMaskBufferSize=256;Q.glContext=new Array();Q.frameBuffers=new Array();Q.fTexture=new Array();Q.IGNORE_CLIP=false;Q.IGNORE_EXPAND=false;Q.EXPAND_W=2;Q.USE_ADJUST_TRANSLATION=true;Q.USE_CANVAS_TRANSFORM=true;Q.USE_CACHED_POLYGON_IMAGE=false;Q.DEBUG_DATA={};Q.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:true,USE_CACHED_POLYGON_IMAGE:true,EXPAND_W:4};Q.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:true,USE_CACHED_POLYGON_IMAGE:false,EXPAND_W:2};Q.PROFILE_IOS_DEFAULT=Q.PROFILE_IOS_QUALITY;Q.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:false,USE_CACHED_POLYGON_IMAGE:false,EXPAND_W:2};Q.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:false,USE_CACHED_POLYGON_IMAGE:false,EXPAND_W:2};Q.initProfile=function(){if(r.isIOS()){Q.setupProfile(Q.PROFILE_IOS_DEFAULT);}else{if(r.isAndroid()){Q.setupProfile(Q.PROFILE_ANDROID);}else{Q.setupProfile(Q.PROFILE_DESKTOP);}}};Q.setupProfile=function(aI,aJ){if(typeof aI=="number"){switch(aI){case 9901:aI=Q.PROFILE_IOS_SPEED;break;case 9902:aI=Q.PROFILE_IOS_QUALITY;break;case 9903:aI=Q.PROFILE_IOS_DEFAULT;break;case 9904:aI=Q.PROFILE_ANDROID;break;case 9905:aI=Q.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+aI);break;}}if(arguments.length<2){aJ=true;}if(aJ){__NONECONSOLE.log("profile : "+aI.PROFILE_NAME);}for(var aH in aI){Q[aH]=aI[aH];if(aJ){__NONECONSOLE.log("  ["+aH+"] = "+aI[aH]);}}};Q.init=function(){if(Q._$6b){__NONECONSOLE.log("Live2D %s",Q._$2s);Q._$6b=false;var aH=false;aH=true;Q.initProfile();}};Q.getVersionStr=function(){return Q._$2s;};Q.getVersionNo=function(){return Q._$Kr;};Q._$sT=function(aH){Q._$cT=aH;};Q.getError=function(){var aH=Q._$cT;Q._$cT=0;return aH;};Q.dispose=function(){Q.glContext=[];Q.frameBuffers=[];Q.fTexture=[];};Q.setGL=function(aJ,aI){var aH=aI||0;Q.glContext[aH]=aJ;};Q.getGL=function(aH){return Q.glContext[aH];};Q.setClippingMaskBufferSize=function(aH){Q.clippingMaskBufferSize=aH;};Q.getClippingMaskBufferSize=function(){return Q.clippingMaskBufferSize;};Q.deleteBuffer=function(aI){var aH=Q.getGL(aI);aH.deleteFramebuffer(Q.frameBuffers[aI].framebuffer);delete Q.frameBuffers[aI];delete Q.glContext[aI];};function A(){}A._$r2=function(aH){if(aH<0){return 0;}else{if(aH>1){return 1;}}return(0.5-0.5*Math.cos(aH*aC.PI_F));};function J(aH){if(j){return;}this._$ib=aH;}J._$fr=-1;J.prototype.toString=function(){return this._$ib;};function b(){if(j){return;}a.prototype.constructor.call(this);this._$LP=-1;this._$d0=0;this._$Yo=0;this._$JP=null;this._$5P=null;this._$BP=null;this._$Eo=null;this._$Qi=null;this._$6s=b._$ms;this.culling=true;this.gl_cacheImage=null;this.instanceNo=b._$42++;}b.prototype=new a();b._$42=0;b._$Os=30;b._$ms=0;b._$ns=1;b._$_s=2;b._$gT=new Array();b.prototype._$_S=function(aH){this._$LP=aH;};b.prototype.getTextureNo=function(){return this._$LP;};b.prototype._$ZL=function(){return this._$Qi;};b.prototype._$H2=function(){return this._$JP;};b.prototype.getNumPoints=function(){return this._$d0;};b.prototype.getType=function(){return a._$wb;};b.prototype._$B2=function(aL,aH,aO){var aM=aH;var aN=(aM._$hr!=null)?aM._$hr:aM._$Cr;var aK=aw._$do;switch(aK){default:case aw._$Ms:throw new Error("_$L _$ro ");case aw._$Qs:for(var aJ=this._$d0-1;aJ>=0;--aJ){var aI=aJ*aw._$No;aN[aI+4]=aO;}break;}};b.prototype._$zP=function(){this._$GS=new g();this._$GS._$zP();};b.prototype._$F0=function(aK){a.prototype._$F0.call(this,aK);this._$LP=aK._$6L();this._$d0=aK._$6L();this._$Yo=aK._$6L();var aH=aK._$nP();this._$BP=new Int16Array(this._$Yo*3);for(var aJ=this._$Yo*3-1;aJ>=0;--aJ){this._$BP[aJ]=aH[aJ];}this._$Eo=aK._$nP();this._$Qi=aK._$nP();if(aK.getFormatVersion()>=ay._$s7){this._$JP=aK._$6L();if(this._$JP!=0){if((this._$JP&1)!=0){var aI=aK._$6L();if(this._$5P==null){this._$5P=new Object();}this._$5P._$Hb=parseInt(aI);}if((this._$JP&b._$Os)!=0){this._$6s=(this._$JP&b._$Os)>>1;}else{this._$6s=b._$ms;}if((this._$JP&32)!=0){this.culling=false;}}}else{this._$JP=0;}};b.prototype.init=function(aL){var aN=new ag(this);var aI=this._$d0*aw._$No;var aH=this._$32();if(aN._$Cr!=null){aN._$Cr=null;}aN._$Cr=new Float32Array(aI);if(aN._$hr!=null){aN._$hr=null;}aN._$hr=aH?new Float32Array(aI):null;var aM=aw._$do;switch(aM){default:case aw._$Ms:if(aw._$Ls){for(var aJ=this._$d0-1;aJ>=0;--aJ){var aO=aJ<<1;this._$Qi[aO+1]=1-this._$Qi[aO+1];}}break;case aw._$Qs:for(var aJ=this._$d0-1;aJ>=0;--aJ){var aO=aJ<<1;var aK=aJ*aw._$No;var aQ=this._$Qi[aO];var aP=this._$Qi[aO+1];aN._$Cr[aK]=aQ;aN._$Cr[aK+1]=aP;aN._$Cr[aK+4]=0;if(aH){aN._$hr[aK]=aQ;aN._$hr[aK+1]=aP;aN._$hr[aK+4]=0;}}break;}return aN;};b.prototype._$Nr=function(aJ,aH){var aK=aH;if(!((this==aK._$GT()))){__NONECONSOLE.log("### assert!! ### ");}if(!this._$GS._$Ur(aJ)){return;}a.prototype._$Nr.call(this,aJ,aK);if(aK._$IS[0]){return;}var aI=b._$gT;aI[0]=false;aG._$Vr(aJ,this._$GS,aI,this._$d0,this._$Eo,aK._$Cr,aw._$i2,aw._$No);};b.prototype._$2b=function(aK,aI){try{if(!((this==aI._$GT()))){__NONECONSOLE.log("### assert!! ### ");}var aL=false;if(aI._$IS[0]){aL=true;}var aM=aI;if(!aL){a.prototype._$2b.call(this,aK);if(this._$32()){var aH=this.getTargetBaseDataID();if(aM._$8r==a._$ur){aM._$8r=aK.getBaseDataIndex(aH);}if(aM._$8r<0){if(Q._$so){q._$li("_$L _$0P _$G :: %s",aH);}}else{var aO=aK.getBaseData(aM._$8r);var aJ=aK._$q2(aM._$8r);if(aO!=null&&!aJ._$x2()){aO._$nb(aK,aJ,aM._$Cr,aM._$hr,this._$d0,aw._$i2,aw._$No);aM._$AT=true;}else{aM._$AT=false;}aM.baseOpacity=aJ.getTotalOpacity();}}}}catch(aN){throw aN;}};b.prototype.draw=function(aN,aK,aI){if(!((this==aI._$GT()))){__NONECONSOLE.log("### assert!! ### ");}if(aI._$IS[0]){return;}var aL=aI;var aJ=this._$LP;if(aJ<0){aJ=1;}var aH=this.getOpacity(aK,aL)*aI._$VS*aI.baseOpacity;var aM=(aL._$hr!=null)?aL._$hr:aL._$Cr;aN.setClipBufPre_clipContextForDraw(aI.clipBufPre_clipContext);aN._$WP(this.culling);aN._$Uo(aJ,3*this._$Yo,this._$BP,aM,this._$Qi,aH,this._$6s,aL);};b.prototype.dump=function(){__NONECONSOLE.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \\n",this._$LP,this._$d0,this._$Yo);__NONECONSOLE.log("  _$Oi _$di = { ");for(var aJ=0;aJ<this._$BP.length;aJ++){__NONECONSOLE.log("%5d ,",this._$BP[aJ]);}__NONECONSOLE.log("\\n  _$5i _$30");for(var aJ=0;aJ<this._$Eo.length;aJ++){__NONECONSOLE.log("\\n    _$30[%d] = ",aJ);var aH=this._$Eo[aJ];for(var aI=0;aI<aH.length;aI++){__NONECONSOLE.log("%6.2f, ",aH[aI]);}}__NONECONSOLE.log("\\n");};b.prototype._$72=function(aH){if(this._$5P==null){return null;}return this._$5P[aH];};b.prototype.getIndexArray=function(){return this._$BP;};function ag(aH){aB.prototype.constructor.call(this,aH);this._$8r=a._$ur;this._$Cr=null;this._$hr=null;}ag.prototype=new aB();ag.prototype.getTransformedPoints=function(){return(this._$hr!=null)?this._$hr:this._$Cr;};function k(){if(j){return;}this.x=null;this.y=null;}k.prototype._$HT=function(aH){this.x=aH.x;this.y=aH.y;};k.prototype._$HT=function(aH,aI){this.x=aH;this.y=aI;};function l(aH){if(j){return;}aa.prototype.constructor.call(this);this.drawParamWebGL=new C(aH);this.drawParamWebGL.setGL(Q.getGL(aH));}l.prototype=new aa();l.loadModel=function(aI){var aH=new l();aa._$62(aH,aI);return aH;};l.loadModel=function(aI,aK){var aJ=aK||0;var aH=new l(aJ);aa._$62(aH,aI);return aH;};l._$to=function(){var aH=new l();return aH;};l._$er=function(aM){var aJ=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(aJ.exists()==false){throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+aJ._$PL());}var aH=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"];var aK=l.loadModel(aJ._$3b());for(var aI=0;aI<aH.length;aI++){var aL=new _$5(aH[aI]);if(aL.exists()==false){throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+aL._$PL());}aK.setTexture(aI,_$nL._$_o(aM,aL._$3b()));}return aK;};l.prototype.setGL=function(aH){Q.setGL(aH);};l.prototype.setTransform=function(aH){this.drawParamWebGL.setTransform(aH);};l.prototype.update=function(){this._$5S.update();this._$5S.preDraw(this.drawParamWebGL);};l.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL);};l.prototype._$K2=function(){this.drawParamWebGL._$K2();};l.prototype.setTexture=function(aI,aH){if(this.drawParamWebGL==null){q._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!");}this.drawParamWebGL.setTexture(aI,aH);};l.prototype.setTexture=function(aI,aH){if(this.drawParamWebGL==null){q._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!");}this.drawParamWebGL.setTexture(aI,aH);};l.prototype._$Rs=function(){return this.drawParamWebGL._$Rs();};l.prototype._$Ds=function(aH){this.drawParamWebGL._$Ds(aH);};l.prototype.getDrawParam=function(){return this.drawParamWebGL;};l.prototype.setMatrix=function(aH){this.drawParamWebGL.setMatrix(aH);};l.prototype.setPremultipliedAlpha=function(aH){this.drawParamWebGL.setPremultipliedAlpha(aH);};l.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha();};l.prototype.setAnisotropy=function(aH){this.drawParamWebGL.setAnisotropy(aH);};l.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy();};function V(){if(j){return;}this.motions=null;this._$eb=false;this.motions=new Array();}V.prototype._$tb=function(){return this.motions;};V.prototype.startMotion=function(aJ,aI){var aM=null;var aL=null;var aH=this.motions.length;for(var aK=0;aK<aH;++aK){aL=this.motions[aK];if(aL==null){continue;}aL._$qS(aL._$w0.getFadeOut());if(this._$eb){q._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\\n",aH,aL._$sr);}}if(aJ==null){return -1;}aL=new M();aL._$w0=aJ;this.motions.push(aL);var aN=aL._$sr;if(this._$eb){q._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\\n",aH,aN);}return aN;};V.prototype.updateParam=function(aJ){try{var aI=false;for(var aK=0;aK<this.motions.length;aK++){var aL=this.motions[aK];if(aL==null){this.motions.splice(aK,1);aK--;continue;}var aH=aL._$w0;if(aH==null){this.motions=this.motions.splice(aK,1);aK--;continue;}aH.updateParam(aJ,aL);aI=true;if(aL.isFinished()){if(this._$eb){q._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\\n",this.motions.length-1,aL._$sr);}this.motions.splice(aK,1);aK--;}else{}}return aI;}catch(aM){q._$li(aM);return true;}};V.prototype.isFinished=function(aK){if(arguments.length>=1){for(var aI=0;aI<this.motions.length;aI++){var aJ=this.motions[aI];if(aJ==null){continue;}if(aJ._$sr==aK&&!aJ.isFinished()){return false;}}return true;}else{for(var aI=0;aI<this.motions.length;aI++){var aJ=this.motions[aI];if(aJ==null){this.motions.splice(aI,1);aI--;continue;}var aH=aJ._$w0;if(aH==null){this.motions.splice(aI,1);aI--;continue;}if(!aJ.isFinished()){return false;}}return true;}};V.prototype.stopAllMotions=function(){for(var aI=0;aI<this.motions.length;aI++){var aJ=this.motions[aI];if(aJ==null){this.motions.splice(aI,1);aI--;continue;}var aH=aJ._$w0;if(aH==null){this.motions.splice(aI,1);aI--;continue;}if(true){this.motions.splice(aI,1);aI--;}}};V.prototype._$Zr=function(aH){this._$eb=aH;};V.prototype._$e=function(){__NONECONSOLE.log("-- _$R --\\n");for(var aH=0;aH<this.motions.length;aH++){var aI=this.motions[aH];var aJ=aI._$w0;__NONECONSOLE.log("MotionQueueEnt[%d] :: %s\\n",this.motions.length,aJ.toString());}};function M(){this._$w0=null;this._$AT=true;this._$9L=false;this._$z2=-1;this._$bs=-1;this._$Do=-1;this._$sr=null;this._$sr=M._$Gs++;}M._$Gs=0;M.prototype.isFinished=function(){return this._$9L;};M.prototype._$qS=function(aJ){var aI=P.getUserTimeMSec();var aH=aI+aJ;if(this._$Do<0||aH<this._$Do){this._$Do=aH;}};M.prototype._$Bs=function(){return this._$sr;};function am(){this.m=new Array(1,0,0,0,1,0,0,0,1);}am.prototype.setContext=function(aI){var aH=this.m;aI.transform(aH[0],aH[1],aH[3],aH[4],aH[6],aH[7]);};am.prototype.toString=function(){var aI="LDTransform { ";for(var aH=0;aH<9;aH++){aI+=this.m[aH].toFixed(2)+" ,";}aI+=" }";return aI;};am.prototype.identity=function(){var aH=this.m;aH[0]=aH[4]=aH[8]=1;aH[1]=aH[2]=aH[3]=aH[5]=aH[6]=aH[7]=0;};am.prototype._$PS=function(aI,aK,aJ){if(aJ==null){aJ=new Array(0,0);}var aH=this.m;aJ[0]=aH[0]*aI+aH[3]*aK+aH[6];aJ[1]=aH[1]*aI+aH[4]*aK+aH[7];return aJ;};am.prototype._$P2=function(aK){if(!aK){aK=new am();}var aI=this.m;var aT=aI[0];var aS=aI[1];var aR=aI[2];var aQ=aI[3];var aP=aI[4];var aO=aI[5];var aN=aI[6];var aM=aI[7];var aL=aI[8];var aJ=aT*aP*aL+aS*aO*aN+aR*aQ*aM-aT*aO*aM-aR*aP*aN-aS*aQ*aL;if(aJ==0){return null;}else{var aH=1/aJ;aK.m[0]=aH*(aP*aL-aM*aO);aK.m[1]=aH*(aM*aR-aS*aL);aK.m[2]=aH*(aS*aO-aP*aR);aK.m[3]=aH*(aN*aO-aQ*aL);aK.m[4]=aH*(aT*aL-aN*aR);aK.m[5]=aH*(aQ*aR-aT*aO);aK.m[6]=aH*(aQ*aM-aN*aP);aK.m[7]=aH*(aN*aS-aT*aM);aK.m[8]=aH*(aT*aP-aQ*aS);return aK;}};am.prototype.transform=function(aI,aK,aJ){if(aJ==null){aJ=new Array(0,0);}var aH=this.m;aJ[0]=aH[0]*aI+aH[3]*aK+aH[6];aJ[1]=aH[1]*aI+aH[4]*aK+aH[7];return aJ;};am.prototype.translate=function(aI,aJ){var aH=this.m;aH[6]=aH[0]*aI+aH[3]*aJ+aH[6];aH[7]=aH[1]*aI+aH[4]*aJ+aH[7];aH[8]=aH[2]*aI+aH[5]*aJ+aH[8];};am.prototype.scale=function(aJ,aI){var aH=this.m;aH[0]*=aJ;aH[1]*=aJ;aH[2]*=aJ;aH[3]*=aI;aH[4]*=aI;aH[5]*=aI;};am.prototype.shear=function(aM,aL){var aH=this.m;var aK=aH[0]+aH[3]*aL;var aJ=aH[1]+aH[4]*aL;var aI=aH[2]+aH[5]*aL;aH[3]=aH[0]*aM+aH[3];aH[4]=aH[1]*aM+aH[4];aH[5]=aH[2]*aM+aH[5];aH[0]=aK;aH[1]=aJ;aH[2]=aI;};am.prototype.rotate=function(aM){var aH=this.m;var aN=Math.cos(aM);var aL=Math.sin(aM);var aK=aH[0]*aN+aH[3]*aL;var aJ=aH[1]*aN+aH[4]*aL;var aI=aH[2]*aN+aH[5]*aL;aH[3]=-aH[0]*aL+aH[3]*aN;aH[4]=-aH[1]*aL+aH[4]*aN;aH[5]=-aH[2]*aL+aH[5]*aN;aH[0]=aK;aH[1]=aJ;aH[2]=aI;};am.prototype.concatenate=function(aL){var aO=this.m;var aM=aL.m;var aS=aO[0]*aM[0]+aO[3]*aM[1]+aO[6]*aM[2];var aR=aO[1]*aM[0]+aO[4]*aM[1]+aO[7]*aM[2];var aQ=aO[2]*aM[0]+aO[5]*aM[1]+aO[8]*aM[2];var aP=aO[0]*aM[3]+aO[3]*aM[4]+aO[6]*aM[5];var aN=aO[1]*aM[3]+aO[4]*aM[4]+aO[7]*aM[5];var aK=aO[2]*aM[3]+aO[5]*aM[4]+aO[8]*aM[5];var aJ=aO[0]*aM[6]+aO[3]*aM[7]+aO[6]*aM[8];var aI=aO[1]*aM[6]+aO[4]*aM[7]+aO[7]*aM[8];var aH=aO[2]*aM[6]+aO[5]*aM[7]+aO[8]*aM[8];m[0]=aS;m[1]=aR;m[2]=aQ;m[3]=aP;m[4]=aN;m[5]=aK;m[6]=aJ;m[7]=aI;m[8]=aH;};function n(aH){if(j){return;}ak.prototype.constructor.call(this,aH);}n.prototype=new ak();n._$eT=null;n._$tP=new Object();n._$2o=function(){if(n._$eT==null){n._$eT=n.getID("DST_BASE");}return n._$eT;};n._$27=function(){n._$tP.clear();n._$eT=null;};n.getID=function(aH){var aI=n._$tP[aH];if(aI==null){aI=new n(aH);n._$tP[aH]=aI;}return aI;};n.prototype._$3s=function(){return new n();};function C(aH){if(j){return;}ax.prototype.constructor.call(this);this.textures=new Array();this.transform=null;this.gl=null;this.glno=aH;this.firstDraw=true;this.anisotropyExt=null;this.maxAnisotropy=0;this._$As=32;this._$Gr=false;this._$NT=null;this._$vS=null;this._$no=null;this.vertShader=null;this.fragShader=null;this.vertShaderOff=null;this.fragShaderOff=null;}C.prototype=new ax();C._$9r=function(aH){var aI=new Float32Array(aH);return aI;};C._$vb=function(aH){var aI=new Int16Array(aH);return aI;};C._$cr=function(aI,aH){if(aI==null||aI._$yL()<aH.length){aI=C._$9r(aH.length*2);aI.put(aH);aI._$oT(0);}else{aI.clear();aI.put(aH);aI._$oT(0);}return aI;};C._$mb=function(aI,aH){if(aI==null||aI._$yL()<aH.length){aI=C._$vb(aH.length*2);aI.put(aH);aI._$oT(0);}else{aI.clear();aI.put(aH);aI._$oT(0);}return aI;};C._$Hs=function(){return this._$Gr;};C._$as=function(aH){this._$Gr=aH;};C.prototype.getGL=function(){return this.gl;};C.prototype.setGL=function(aH){this.gl=aH;};C.prototype.setTransform=function(aH){this.transform=aH;};C.prototype._$ZT=function(){var aH=this.gl;if(this.firstDraw){this.initShader();this.firstDraw=false;this.anisotropyExt=aH.getExtension("EXT_texture_filter_anisotropic")||aH.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||aH.getExtension("MOZ_EXT_texture_filter_anisotropic");if(this.anisotropyExt){this.maxAnisotropy=aH.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);}}aH.disable(aH.SCISSOR_TEST);aH.disable(aH.STENCIL_TEST);aH.disable(aH.DEPTH_TEST);aH.frontFace(aH.CW);aH.enable(aH.BLEND);aH.colorMask(1,1,1,1);aH.bindBuffer(aH.ARRAY_BUFFER,null);aH.bindBuffer(aH.ELEMENT_ARRAY_BUFFER,null);};C.prototype._$Uo=function(aS,aT,aL,aU,aV,aN,aM,aO){if(aN<0.01&&this.clipBufPre_clipContextMask==null){return;}var aH=aN>0.9?Q.EXPAND_W:0;var a0=this.gl;if(this.gl==null){throw new Error("gl is null");}var a1=false;var aQ=1;var aP=1;var a3=1;var aZ=1;var aW=this._$C0*aP*aN;var a2=this._$tT*a3*aN;var a5=this._$WL*aZ*aN;var a7=this._$lT*aN;if(this.clipBufPre_clipContextMask!=null){a0.frontFace(a0.CCW);a0.useProgram(this.shaderProgram);this._$vS=T(a0,this._$vS,aU);this._$no=L(a0,this._$no,aL);a0.enableVertexAttribArray(this.a_position_Loc);a0.vertexAttribPointer(this.a_position_Loc,2,a0.FLOAT,false,0,0);this._$NT=T(a0,this._$NT,aV);a0.activeTexture(a0.TEXTURE1);a0.bindTexture(a0.TEXTURE_2D,this.textures[aS]);a0.uniform1i(this.s_texture0_Loc,1);a0.enableVertexAttribArray(this.a_texCoord_Loc);a0.vertexAttribPointer(this.a_texCoord_Loc,2,a0.FLOAT,false,0,0);a0.uniformMatrix4fv(this.u_matrix_Loc,false,this.getClipBufPre_clipContextMask().matrixForMask);var aY=this.getClipBufPre_clipContextMask().layoutChannelNo;var a4=this.getChannelFlagAsColor(aY);a0.uniform4f(this.u_channelFlag,a4.r,a4.g,a4.b,a4.a);var aI=this.getClipBufPre_clipContextMask().layoutBounds;a0.uniform4f(this.u_baseColor_Loc,aI.x*2-1,aI.y*2-1,aI._$EL()*2-1,aI._$5T()*2-1);a0.uniform1i(this.u_maskFlag_Loc,true);}else{a1=this.getClipBufPre_clipContextDraw()!=null;if(a1){a0.useProgram(this.shaderProgramOff);this._$vS=T(a0,this._$vS,aU);this._$no=L(a0,this._$no,aL);a0.enableVertexAttribArray(this.a_position_Loc_Off);a0.vertexAttribPointer(this.a_position_Loc_Off,2,a0.FLOAT,false,0,0);this._$NT=T(a0,this._$NT,aV);a0.activeTexture(a0.TEXTURE1);a0.bindTexture(a0.TEXTURE_2D,this.textures[aS]);a0.uniform1i(this.s_texture0_Loc_Off,1);a0.enableVertexAttribArray(this.a_texCoord_Loc_Off);a0.vertexAttribPointer(this.a_texCoord_Loc_Off,2,a0.FLOAT,false,0,0);a0.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,false,this.getClipBufPre_clipContextDraw().matrixForDraw);a0.uniformMatrix4fv(this.u_matrix_Loc_Off,false,this.matrix4x4);a0.activeTexture(a0.TEXTURE2);a0.bindTexture(a0.TEXTURE_2D,Q.fTexture[this.glno]);a0.uniform1i(this.s_texture1_Loc_Off,2);var aY=this.getClipBufPre_clipContextDraw().layoutChannelNo;var a4=this.getChannelFlagAsColor(aY);a0.uniform4f(this.u_channelFlag_Loc_Off,a4.r,a4.g,a4.b,a4.a);a0.uniform4f(this.u_baseColor_Loc_Off,aW,a2,a5,a7);}else{a0.useProgram(this.shaderProgram);this._$vS=T(a0,this._$vS,aU);this._$no=L(a0,this._$no,aL);a0.enableVertexAttribArray(this.a_position_Loc);a0.vertexAttribPointer(this.a_position_Loc,2,a0.FLOAT,false,0,0);this._$NT=T(a0,this._$NT,aV);a0.activeTexture(a0.TEXTURE1);a0.bindTexture(a0.TEXTURE_2D,this.textures[aS]);a0.uniform1i(this.s_texture0_Loc,1);a0.enableVertexAttribArray(this.a_texCoord_Loc);a0.vertexAttribPointer(this.a_texCoord_Loc,2,a0.FLOAT,false,0,0);a0.uniformMatrix4fv(this.u_matrix_Loc,false,this.matrix4x4);a0.uniform4f(this.u_baseColor_Loc,aW,a2,a5,a7);a0.uniform1i(this.u_maskFlag_Loc,false);}}if(this.culling){this.gl.enable(a0.CULL_FACE);}else{this.gl.disable(a0.CULL_FACE);}this.gl.enable(a0.BLEND);var a6;var aX;var aR;var aK;if(this.clipBufPre_clipContextMask!=null){a6=a0.ONE;aX=a0.ONE_MINUS_SRC_ALPHA;aR=a0.ONE;aK=a0.ONE_MINUS_SRC_ALPHA;}else{switch(aM){case b._$ms:a6=a0.ONE;aX=a0.ONE_MINUS_SRC_ALPHA;aR=a0.ONE;aK=a0.ONE_MINUS_SRC_ALPHA;break;case b._$ns:a6=a0.ONE;aX=a0.ONE;aR=a0.ZERO;aK=a0.ONE;break;case b._$_s:a6=a0.DST_COLOR;aX=a0.ONE_MINUS_SRC_ALPHA;aR=a0.ZERO;aK=a0.ONE;break;}}a0.blendEquationSeparate(a0.FUNC_ADD,a0.FUNC_ADD);a0.blendFuncSeparate(a6,aX,aR,aK);if(this.anisotropyExt){a0.texParameteri(a0.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);}var aJ=aL.length;a0.drawElements(a0.TRIANGLES,aJ,a0.UNSIGNED_SHORT,0);a0.bindTexture(a0.TEXTURE_2D,null);};function T(aJ,aH,aI){if(aH==null){aH=aJ.createBuffer();}aJ.bindBuffer(aJ.ARRAY_BUFFER,aH);aJ.bufferData(aJ.ARRAY_BUFFER,aI,aJ.DYNAMIC_DRAW);return aH;}function L(aJ,aH,aI){if(aH==null){aH=aJ.createBuffer();}aJ.bindBuffer(aJ.ELEMENT_ARRAY_BUFFER,aH);aJ.bufferData(aJ.ELEMENT_ARRAY_BUFFER,aI,aJ.DYNAMIC_DRAW);return aH;}C.prototype._$Rs=function(){throw new Error("_$Rs");};C.prototype._$Ds=function(aH){throw new Error("_$Ds");};C.prototype._$K2=function(){for(var aH=0;aH<this.textures.length;aH++){var aI=this.textures[aH];if(aI!=0){this.gl._$K2(1,this.textures,aH);this.textures[aH]=null;}}};C.prototype.setTexture=function(aH,aI){this.textures[aH]=aI;};C.prototype.initShader=function(){var aH=this.gl;this.loadShaders2();this.a_position_Loc=aH.getAttribLocation(this.shaderProgram,"a_position");this.a_texCoord_Loc=aH.getAttribLocation(this.shaderProgram,"a_texCoord");this.u_matrix_Loc=aH.getUniformLocation(this.shaderProgram,"u_mvpMatrix");this.s_texture0_Loc=aH.getUniformLocation(this.shaderProgram,"s_texture0");this.u_channelFlag=aH.getUniformLocation(this.shaderProgram,"u_channelFlag");this.u_baseColor_Loc=aH.getUniformLocation(this.shaderProgram,"u_baseColor");this.u_maskFlag_Loc=aH.getUniformLocation(this.shaderProgram,"u_maskFlag");this.a_position_Loc_Off=aH.getAttribLocation(this.shaderProgramOff,"a_position");this.a_texCoord_Loc_Off=aH.getAttribLocation(this.shaderProgramOff,"a_texCoord");this.u_matrix_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix");this.u_clipMatrix_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix");this.s_texture0_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"s_texture0");this.s_texture1_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"s_texture1");this.u_channelFlag_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"u_channelFlag");this.u_baseColor_Loc_Off=aH.getUniformLocation(this.shaderProgramOff,"u_baseColor");};C.prototype.disposeShader=function(){var aH=this.gl;if(this.shaderProgram){aH.deleteProgram(this.shaderProgram);this.shaderProgram=null;}if(this.shaderProgramOff){aH.deleteProgram(this.shaderProgramOff);this.shaderProgramOff=null;}};C.prototype.compileShader=function(aJ,aN){var aM=this.gl;var aH;var aL=aN;var aK=aM.createShader(aJ);if(aK==null){q._$Ji("_$L0 to create shader");return null;}aM.shaderSource(aK,aL);aM.compileShader(aK);var aH=aM.getShaderParameter(aK,aM.COMPILE_STATUS);if(!aH){var aI=aM.getShaderInfoLog(aK);q._$Ji("_$L0 to compile shader : "+aI);aM.deleteShader(aK);return null;}return aK;};C.prototype.loadShaders2=function(){var aN=this.gl;this.shaderProgram=aN.createProgram();if(!this.shaderProgram){return false;}this.shaderProgramOff=aN.createProgram();if(!this.shaderProgramOff){return false;}var aK="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}";var aM="precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}";var aL="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}";var aJ="precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}";this.vertShader=this.compileShader(aN.VERTEX_SHADER,aK);if(!this.vertShader){q._$Ji("Vertex shader compile _$li!");return false;}this.vertShaderOff=this.compileShader(aN.VERTEX_SHADER,aL);if(!this.vertShaderOff){q._$Ji("OffVertex shader compile _$li!");return false;}this.fragShader=this.compileShader(aN.FRAGMENT_SHADER,aM);if(!this.fragShader){q._$Ji("Fragment shader compile _$li!");return false;}this.fragShaderOff=this.compileShader(aN.FRAGMENT_SHADER,aJ);if(!this.fragShaderOff){q._$Ji("OffFragment shader compile _$li!");return false;}aN.attachShader(this.shaderProgram,this.vertShader);aN.attachShader(this.shaderProgram,this.fragShader);aN.attachShader(this.shaderProgramOff,this.vertShaderOff);aN.attachShader(this.shaderProgramOff,this.fragShaderOff);aN.linkProgram(this.shaderProgram);aN.linkProgram(this.shaderProgramOff);var aH=aN.getProgramParameter(this.shaderProgram,aN.LINK_STATUS);if(!aH){var aI=aN.getProgramInfoLog(this.shaderProgram);q._$Ji("_$L0 to link program: "+aI);if(this.vertShader){aN.deleteShader(this.vertShader);this.vertShader=0;}if(this.fragShader){aN.deleteShader(this.fragShader);this.fragShader=0;}if(this.shaderProgram){aN.deleteProgram(this.shaderProgram);this.shaderProgram=0;}if(this.vertShaderOff){aN.deleteShader(this.vertShaderOff);this.vertShaderOff=0;}if(this.fragShaderOff){aN.deleteShader(this.fragShaderOff);this.fragShaderOff=0;}if(this.shaderProgramOff){aN.deleteProgram(this.shaderProgramOff);this.shaderProgramOff=0;}return false;}return true;};C.prototype.createFramebuffer=function(){var aL=this.gl;var aK=Q.clippingMaskBufferSize;var aJ=aL.createFramebuffer();aL.bindFramebuffer(aL.FRAMEBUFFER,aJ);var aH=aL.createRenderbuffer();aL.bindRenderbuffer(aL.RENDERBUFFER,aH);aL.renderbufferStorage(aL.RENDERBUFFER,aL.RGBA4,aK,aK);aL.framebufferRenderbuffer(aL.FRAMEBUFFER,aL.COLOR_ATTACHMENT0,aL.RENDERBUFFER,aH);var aI=aL.createTexture();aL.bindTexture(aL.TEXTURE_2D,aI);aL.texImage2D(aL.TEXTURE_2D,0,aL.RGBA,aK,aK,0,aL.RGBA,aL.UNSIGNED_BYTE,null);aL.texParameteri(aL.TEXTURE_2D,aL.TEXTURE_MIN_FILTER,aL.LINEAR);aL.texParameteri(aL.TEXTURE_2D,aL.TEXTURE_MAG_FILTER,aL.LINEAR);aL.texParameteri(aL.TEXTURE_2D,aL.TEXTURE_WRAP_S,aL.CLAMP_TO_EDGE);aL.texParameteri(aL.TEXTURE_2D,aL.TEXTURE_WRAP_T,aL.CLAMP_TO_EDGE);aL.framebufferTexture2D(aL.FRAMEBUFFER,aL.COLOR_ATTACHMENT0,aL.TEXTURE_2D,aI,0);aL.bindTexture(aL.TEXTURE_2D,null);aL.bindRenderbuffer(aL.RENDERBUFFER,null);aL.bindFramebuffer(aL.FRAMEBUFFER,null);Q.fTexture[this.glno]=aI;return{framebuffer:aJ,renderbuffer:aH,texture:Q.fTexture[this.glno]};};function K(aH){if(j){return;}this._$P=new Int8Array(8);this._$R0=new DataView(this._$P.buffer);this._$3i=new Int8Array(1000);this._$hL=0;this._$v0=0;this._$S2=0;this._$Ko=new Array();this._$T=aH;this._$F=0;}K.prototype._$fP=function(){var aK=this._$ST();var aJ,aI,aH;if((aK&128)==0){return aK&255;}else{if(((aJ=this._$ST())&128)==0){return((aK&127)<<7)|(aJ&127);}else{if(((aI=this._$ST())&128)==0){return((aK&127)<<14)|((aJ&127)<<7)|(aI&255);}else{if(((aH=this._$ST())&128)==0){return((aK&127)<<21)|((aJ&127)<<14)|((aI&127)<<7)|(aH&255);}else{throw new J("_$L _$0P  _");}}}}};K.prototype.getFormatVersion=function(){return this._$S2;};K.prototype._$gr=function(aH){this._$S2=aH;};K.prototype._$3L=function(){return this._$fP();};K.prototype._$mP=function(){this._$zT();this._$F+=8;return this._$T.getFloat64(this._$F-8);};K.prototype._$_T=function(){this._$zT();this._$F+=4;return this._$T.getFloat32(this._$F-4);};K.prototype._$6L=function(){this._$zT();this._$F+=4;return this._$T.getInt32(this._$F-4);};K.prototype._$ST=function(){this._$zT();return this._$T.getInt8(this._$F++);};K.prototype._$9T=function(){this._$zT();this._$F+=2;return this._$T.getInt16(this._$F-2);};K.prototype._$2T=function(){this._$zT();this._$F+=8;throw new J("_$L _$q read long");};K.prototype._$po=function(){this._$zT();return this._$T.getInt8(this._$F++)!=0;};var O=true;K.prototype._$bT=function(){this._$zT();var aH=this._$3L();var aK=null;if(O){try{var aM=new ArrayBuffer(aH*2);aK=new Uint16Array(aM);for(var aJ=0;aJ<aH;++aJ){aK[aJ]=this._$T.getUint8(this._$F++);}return String.fromCharCode.apply(null,aK);}catch(aL){O=false;}}try{var aI=new Array();if(aK==null){for(var aJ=0;aJ<aH;++aJ){aI[aJ]=this._$T.getUint8(this._$F++);}}else{for(var aJ=0;aJ<aH;++aJ){aI[aJ]=aK[aJ];}}return String.fromCharCode.apply(null,aI);}catch(aL){__NONECONSOLE.log("read utf8 / _$rT _$L0 !! : "+aL);}};K.prototype._$cS=function(){this._$zT();var aI=this._$3L();var aH=new Int32Array(aI);for(var aJ=0;aJ<aI;aJ++){aH[aJ]=this._$T.getInt32(this._$F);this._$F+=4;}return aH;};K.prototype._$Tb=function(){this._$zT();var aI=this._$3L();var aH=new Float32Array(aI);for(var aJ=0;aJ<aI;aJ++){aH[aJ]=this._$T.getFloat32(this._$F);this._$F+=4;}return aH;};K.prototype._$5b=function(){this._$zT();var aI=this._$3L();var aH=new Float64Array(aI);for(var aJ=0;aJ<aI;aJ++){aH[aJ]=this._$T.getFloat64(this._$F);this._$F+=8;}return aH;};K.prototype._$nP=function(){return this._$Jb(-1);};K.prototype._$Jb=function(aJ){this._$zT();if(aJ<0){aJ=this._$3L();}if(aJ==ay._$7P){var aH=this._$6L();if(0<=aH&&aH<this._$Ko.length){return this._$Ko[aH];}else{throw new J("_$sL _$4i @_$m0");}}else{var aI=this._$4b(aJ);this._$Ko.push(aI);return aI;}};K.prototype._$4b=function(aN){if(aN==0){return null;}if(aN==50){var aK=this._$bT();var aI=Z.getID(aK);return aI;}else{if(aN==51){var aK=this._$bT();var aI=n.getID(aK);return aI;}else{if(aN==134){var aK=this._$bT();var aI=i.getID(aK);return aI;}else{if(aN==60){var aK=this._$bT();var aI=z.getID(aK);return aI;}}}}if(aN>=48){var aL=ay._$9o(aN);if(aL!=null){aL._$F0(this);return aL;}else{return null;}}switch(aN){case 1:return this._$bT();case 10:var aM=this._$6L();return new I(aM,true);case 11:return new av(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new av(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new e(this._$mP(),this._$mP());case 14:return new e(this._$_T(),this._$_T());case 15:var aH=this._$3L();var aI=new Array(aH);for(var aJ=0;aJ<aH;aJ++){aI[aJ]=this._$nP();}return aI;case 17:var aI=new aD(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return aI;case 21:return new F(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new k(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new J("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+aN);default:throw new J("_$6 _$q : _$nP() NO _$i : "+aN);}};K.prototype._$8L=function(){if(this._$hL==0){this._$v0=this._$ST();}else{if(this._$hL==8){this._$v0=this._$ST();this._$hL=0;}}return((this._$v0>>(7-this._$hL++))&1)==1;};K.prototype._$zT=function(){if(this._$hL!=0){this._$hL=0;}};function ai(){}ai.prototype._$wP=function(aM,aI,aK){for(var aL=0;aL<aK;aL++){for(var aH=0;aH<aI;aH++){var aJ=2*(aH+aL*aI);__NONECONSOLE.log("(% 7.3f , % 7.3f) , ",aM[aJ],aM[aJ+1]);}__NONECONSOLE.log("\\n");}__NONECONSOLE.log("\\n");};function aC(){}aC._$2S=Math.PI/180;aC._$bS=(Math.PI/180);aC._$wS=180/Math.PI;aC._$NS=(180/Math.PI);aC.PI_F=Math.PI;aC._$kT=[0,0.012368,0.024734,0.037097,0.049454,0.061803,0.074143,0.086471,0.098786,0.111087,0.12337,0.135634,0.147877,0.160098,0.172295,0.184465,0.196606,0.208718,0.220798,0.232844,0.244854,0.256827,0.268761,0.280654,0.292503,0.304308,0.316066,0.327776,0.339436,0.351044,0.362598,0.374097,0.385538,0.396921,0.408243,0.419502,0.430697,0.441826,0.452888,0.463881,0.474802,0.485651,0.496425,0.507124,0.517745,0.528287,0.538748,0.549126,0.559421,0.56963,0.579752,0.589785,0.599728,0.609579,0.619337,0.629,0.638567,0.648036,0.657406,0.666676,0.675843,0.684908,0.693867,0.70272,0.711466,0.720103,0.72863,0.737045,0.745348,0.753536,0.76161,0.769566,0.777405,0.785125,0.792725,0.800204,0.807561,0.814793,0.821901,0.828884,0.835739,0.842467,0.849066,0.855535,0.861873,0.868079,0.874153,0.880093,0.885898,0.891567,0.897101,0.902497,0.907754,0.912873,0.917853,0.922692,0.92739,0.931946,0.936359,0.940629,0.944755,0.948737,0.952574,0.956265,0.959809,0.963207,0.966457,0.96956,0.972514,0.97532,0.977976,0.980482,0.982839,0.985045,0.987101,0.989006,0.990759,0.992361,0.993811,0.995109,0.996254,0.997248,0.998088,0.998776,0.999312,0.999694,0.999924,1];aC._$92=function(aK,aI){var aH=Math.atan2(aK[1],aK[0]);var aJ=Math.atan2(aI[1],aI[0]);return aC._$tS(aH,aJ);};aC._$tS=function(aI,aH){var aJ=aI-aH;while(aJ<-Math.PI){aJ+=2*Math.PI;}while(aJ>Math.PI){aJ-=2*Math.PI;}return aJ;};aC._$9=function(aH){return Math.sin(aH);};aC.fcos=function(aH){return Math.cos(aH);};function aB(aH){if(j){return;}this._$e0=null;this._$IP=null;this._$Us=null;this._$7s=null;this._$IS=[false];this._$VS=null;this._$AT=true;this.baseOpacity=1;this.clipBufPre_clipContext=null;this._$e0=aH;}aB.prototype._$u2=function(){return this._$IS[0];};aB.prototype._$yo=function(){return this._$AT&&!this._$IS[0];};aB.prototype._$GT=function(){return this._$e0;};function r(){}r._$W2=0;r.SYSTEM_INFO=null;r.USER_AGENT=navigator.userAgent;r.isIPhone=function(){if(!r.SYSTEM_INFO){r.setup();}return r.SYSTEM_INFO._isIPhone;};r.isIOS=function(){if(!r.SYSTEM_INFO){r.setup();}return r.SYSTEM_INFO._isIPhone||r.SYSTEM_INFO._isIPad;};r.isAndroid=function(){if(!r.SYSTEM_INFO){r.setup();}return r.SYSTEM_INFO._isAndroid;};r.getOSVersion=function(){if(!r.SYSTEM_INFO){r.setup();}return r.SYSTEM_INFO.version;};r.getOS=function(){if(!r.SYSTEM_INFO){r.setup();}if(r.SYSTEM_INFO._isIPhone||r.SYSTEM_INFO._isIPad){return"iOS";}if(r.SYSTEM_INFO._isAndroid){return"Android";}else{return"_$Q0 OS";}};r.setup=function(){var aK=r.USER_AGENT;function aI(aO,aR){var aN=aO.substring(aR).split(/[ _,;.]/);var aQ=0;for(var aM=0;aM<=2;aM++){if(isNaN(aN[aM])){break;}var aP=parseInt(aN[aM]);if(aP<0||aP>999){q._$li("err : "+aP+" @UtHtml5.setup()");aQ=0;break;}aQ+=aP*Math.pow(1000,(2-aM));}return aQ;}var aL;var aH;var aJ=r.SYSTEM_INFO={userAgent:aK};if((aL=aK.indexOf("iPhone OS "))>=0){aJ.os="iPhone";aJ._isIPhone=true;aJ.version=aI(aK,aL+"iPhone OS ".length);}else{if((aL=aK.indexOf("iPad"))>=0){aL=aK.indexOf("CPU OS");if(aL<0){q._$li(" err : "+aK+" @UtHtml5.setup()");return;}aJ.os="iPad";aJ._isIPad=true;aJ.version=aI(aK,aL+"CPU OS ".length);}else{if((aL=aK.indexOf("Android"))>=0){aJ.os="Android";aJ._isAndroid=true;aJ.version=aI(aK,aL+"Android ".length);}else{aJ.os="-";aJ.version=-1;}}}};window.UtSystem=P;window.UtDebug=q;window.LDTransform=am;window.LDGL=au;window.Live2D=Q;window.Live2DModelWebGL=l;window.Live2DModelJS=v;window.Live2DMotion=ao;window.MotionQueueManager=V;window.PhysicsHair=u;window.AMotion=ah;window.PartsDataID=i;window.DrawDataID=Z;window.BaseDataID=n;window.ParamID=z;Q.init();var j=false;})();
`;Yb.append(gA);var Id;(function(e){var t,r=function(){function S(){}return S.getVersion=function(){return d.ccall("csmGetVersion","number",[],[])},S.getLatestMocVersion=function(){return d.ccall("csmGetLatestMocVersion","number",[],[])},S.getMocVersion=function(y,E){return d.ccall("csmGetMocVersion","number",["number","number"],[y,E])},S.getSizeofModel=function(y){return d.ccall("csmGetSizeofModel","number",["number"],[y])},S.reviveMocInPlace=function(y,E){return d.ccall("csmReviveMocInPlace","number",["number","number"],[y,E])},S.initializeModelInPlace=function(y,E,M){return d.ccall("csmInitializeModelInPlace","number",["number","number","number"],[y,E,M])},S.hasMocConsistency=function(y,E){return d.ccall("csmHasMocConsistency","number",["number","number"],[y,E])},S.getParameterCount=function(y){return d.ccall("csmGetParameterCount","number",["number"],[y])},S.getParameterIds=function(y){return d.ccall("csmGetParameterIds","number",["number"],[y])},S.getParameterMinimumValues=function(y){return d.ccall("csmGetParameterMinimumValues","number",["number"],[y])},S.getParameterTypes=function(y){return d.ccall("csmGetParameterTypes","number",["number"],[y])},S.getParameterMaximumValues=function(y){return d.ccall("csmGetParameterMaximumValues","number",["number"],[y])},S.getParameterDefaultValues=function(y){return d.ccall("csmGetParameterDefaultValues","number",["number"],[y])},S.getParameterValues=function(y){return d.ccall("csmGetParameterValues","number",["number"],[y])},S.getParameterKeyCounts=function(y){return d.ccall("csmGetParameterKeyCounts","number",["number"],[y])},S.getParameterKeyValues=function(y){return d.ccall("csmGetParameterKeyValues","number",["number"],[y])},S.getPartCount=function(y){return d.ccall("csmGetPartCount","number",["number"],[y])},S.getPartIds=function(y){return d.ccall("csmGetPartIds","number",["number"],[y])},S.getPartOpacities=function(y){return d.ccall("csmGetPartOpacities","number",["number"],[y])},S.getPartParentPartIndices=function(y){return d.ccall("csmGetPartParentPartIndices","number",["number"],[y])},S.getDrawableCount=function(y){return d.ccall("csmGetDrawableCount","number",["number"],[y])},S.getDrawableIds=function(y){return d.ccall("csmGetDrawableIds","number",["number"],[y])},S.getDrawableConstantFlags=function(y){return d.ccall("csmGetDrawableConstantFlags","number",["number"],[y])},S.getDrawableDynamicFlags=function(y){return d.ccall("csmGetDrawableDynamicFlags","number",["number"],[y])},S.getDrawableTextureIndices=function(y){return d.ccall("csmGetDrawableTextureIndices","number",["number"],[y])},S.getDrawableDrawOrders=function(y){return d.ccall("csmGetDrawableDrawOrders","number",["number"],[y])},S.getDrawableRenderOrders=function(y){return d.ccall("csmGetDrawableRenderOrders","number",["number"],[y])},S.getDrawableOpacities=function(y){return d.ccall("csmGetDrawableOpacities","number",["number"],[y])},S.getDrawableMaskCounts=function(y){return d.ccall("csmGetDrawableMaskCounts","number",["number"],[y])},S.getDrawableMasks=function(y){return d.ccall("csmGetDrawableMasks","number",["number"],[y])},S.getDrawableVertexCounts=function(y){return d.ccall("csmGetDrawableVertexCounts","number",["number"],[y])},S.getDrawableVertexPositions=function(y){return d.ccall("csmGetDrawableVertexPositions","number",["number"],[y])},S.getDrawableVertexUvs=function(y){return d.ccall("csmGetDrawableVertexUvs","number",["number"],[y])},S.getDrawableIndexCounts=function(y){return d.ccall("csmGetDrawableIndexCounts","number",["number"],[y])},S.getDrawableIndices=function(y){return d.ccall("csmGetDrawableIndices","number",["number"],[y])},S.getDrawableMultiplyColors=function(y){return d.ccall("csmGetDrawableMultiplyColors","number",["number"],[y])},S.getDrawableScreenColors=function(y){return d.ccall("csmGetDrawableScreenColors","number",["number"],[y])},S.getDrawableParentPartIndices=function(y){return d.ccall("csmGetDrawableParentPartIndices","number",["number"],[y])},S.mallocMoc=function(y){return d.ccall("csmMallocMoc","number",["number"],[y])},S.mallocModelAndInitialize=function(y){return d.ccall("csmMallocModelAndInitialize","number",["number"],[y])},S.malloc=function(y){return d.ccall("csmMalloc","number",["number"],[y])},S.setLogFunction=function(y){d.ccall("csmSetLogFunction",null,["number"],[y])},S.updateModel=function(y){d.ccall("csmUpdateModel",null,["number"],[y])},S.readCanvasInfo=function(y,E,M,O){d.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[y,E,M,O])},S.resetDrawableDynamicFlags=function(y){d.ccall("csmResetDrawableDynamicFlags",null,["number"],[y])},S.free=function(y){d.ccall("csmFree",null,["number"],[y])},S.initializeAmountOfMemory=function(y){d.ccall("csmInitializeAmountOfMemory",null,["number"],[y])},S}(),l=(e.AlignofMoc=64,e.AlignofModel=16,e.MocVersion_Unknown=0,e.MocVersion_30=1,e.MocVersion_33=2,e.MocVersion_40=3,e.MocVersion_42=4,e.MocVersion_50=5,e.ParameterType_Normal=0,e.ParameterType_BlendShape=1,function(){function S(){}return S.csmGetVersion=function(){return r.getVersion()},S.csmGetLatestMocVersion=function(){return r.getLatestMocVersion()},S.csmGetMocVersion=function(y,E){return r.getMocVersion(y._ptr,E.byteLength)},S}()),l=(e.Version=l,function(){function S(){}return S.csmSetLogFunction=function(y){S.logFunction=y,y=d.addFunction(S.wrapLogFunction,"vi"),r.setLogFunction(y)},S.csmGetLogFunction=function(){return S.logFunction},S.wrapLogFunction=function(y){y=d.UTF8ToString(y),S.logFunction(y)},S}()),l=(e.Logging=l,function(){function S(y){var E=r.mallocMoc(y.byteLength);E&&(new Uint8Array(d.HEAPU8.buffer,E,y.byteLength).set(new Uint8Array(y)),this._ptr=r.reviveMocInPlace(E,y.byteLength),this._ptr||r.free(E))}return S.prototype.hasMocConsistency=function(y){var E=r.mallocMoc(y.byteLength);if(E)return new Uint8Array(d.HEAPU8.buffer,E,y.byteLength).set(new Uint8Array(y)),y=r.hasMocConsistency(E,y.byteLength),r.free(E),y},S.fromArrayBuffer=function(y){return y&&(y=new S(y))._ptr?y:null},S.prototype._release=function(){r.free(this._ptr),this._ptr=0},S}()),l=(e.Moc=l,function(){function S(y){this._ptr=r.mallocModelAndInitialize(y._ptr),this._ptr&&(this.parameters=new a(this._ptr),this.parts=new o(this._ptr),this.drawables=new s(this._ptr),this.canvasinfo=new i(this._ptr))}return S.fromMoc=function(y){return y=new S(y),y._ptr?y:null},S.prototype.update=function(){r.updateModel(this._ptr)},S.prototype.release=function(){r.free(this._ptr),this._ptr=0},S}()),i=(e.Model=l,function(S){var y,E,M,O,C,N,$;S&&(M=(y=new Float32Array(2)).length*y.BYTES_PER_ELEMENT,E=r.malloc(M),(E=new Uint8Array(d.HEAPU8.buffer,E,M)).set(new Uint8Array(y.buffer)),C=(M=new Float32Array(2)).length*M.BYTES_PER_ELEMENT,O=r.malloc(C),(O=new Uint8Array(d.HEAPU8.buffer,O,C)).set(new Uint8Array(M.buffer)),N=(C=new Float32Array(1)).length*C.BYTES_PER_ELEMENT,$=r.malloc(N),($=new Uint8Array(d.HEAPU8.buffer,$,N)).set(new Uint8Array(C.buffer)),r.readCanvasInfo(S,E.byteOffset,O.byteOffset,$.byteOffset),y=new Float32Array(E.buffer,E.byteOffset,E.length),M=new Float32Array(O.buffer,O.byteOffset,O.length),C=new Float32Array($.buffer,$.byteOffset,$.length),this.CanvasWidth=y[0],this.CanvasHeight=y[1],this.CanvasOriginX=M[0],this.CanvasOriginY=M[1],this.PixelsPerUnit=C[0],r.free(E.byteOffset),r.free(O.byteOffset),r.free($.byteOffset))}),a=(e.CanvasInfo=i,function(S){this.count=r.getParameterCount(S),y=r.getParameterCount(S),this.ids=new Array(y);for(var y,E,M=new Uint32Array(d.HEAPU32.buffer,r.getParameterIds(S),y),O=0;O<M.length;O++)this.ids[O]=d.UTF8ToString(M[O]);y=r.getParameterCount(S),this.minimumValues=new Float32Array(d.HEAPF32.buffer,r.getParameterMinimumValues(S),y),y=r.getParameterCount(S),this.types=new Int32Array(d.HEAP32.buffer,r.getParameterTypes(S),y),y=r.getParameterCount(S),this.maximumValues=new Float32Array(d.HEAPF32.buffer,r.getParameterMaximumValues(S),y),y=r.getParameterCount(S),this.defaultValues=new Float32Array(d.HEAPF32.buffer,r.getParameterDefaultValues(S),y),y=r.getParameterCount(S),this.values=new Float32Array(d.HEAPF32.buffer,r.getParameterValues(S),y),y=r.getParameterCount(S),this.keyCounts=new Int32Array(d.HEAP32.buffer,r.getParameterKeyCounts(S),y),y=r.getParameterCount(S),E=new Int32Array(d.HEAP32.buffer,r.getParameterKeyCounts(S),y),this.keyValues=new Array(y);for(var C=new Uint32Array(d.HEAPU32.buffer,r.getParameterKeyValues(S),y),O=0;O<C.length;O++)this.keyValues[O]=new Float32Array(d.HEAPF32.buffer,C[O],E[O])}),o=(e.Parameters=a,function(S){this.count=r.getPartCount(S),y=r.getPartCount(S),this.ids=new Array(y);for(var y,E=new Uint32Array(d.HEAPU32.buffer,r.getPartIds(S),y),M=0;M<E.length;M++)this.ids[M]=d.UTF8ToString(E[M]);y=r.getPartCount(S),this.opacities=new Float32Array(d.HEAPF32.buffer,r.getPartOpacities(S),y),y=r.getPartCount(S),this.parentIndices=new Int32Array(d.HEAP32.buffer,r.getPartParentPartIndices(S),y)}),s=(e.Parts=o,function(){function S(y){this._modelPtr=y;for(var E,M=null,O=(this.count=r.getDrawableCount(y),E=r.getDrawableCount(y),this.ids=new Array(E),new Uint32Array(d.HEAPU32.buffer,r.getDrawableIds(y),E)),C=0;C<O.length;C++)this.ids[C]=d.UTF8ToString(O[C]);E=r.getDrawableCount(y),this.constantFlags=new Uint8Array(d.HEAPU8.buffer,r.getDrawableConstantFlags(y),E),E=r.getDrawableCount(y),this.dynamicFlags=new Uint8Array(d.HEAPU8.buffer,r.getDrawableDynamicFlags(y),E),E=r.getDrawableCount(y),this.textureIndices=new Int32Array(d.HEAP32.buffer,r.getDrawableTextureIndices(y),E),E=r.getDrawableCount(y),this.drawOrders=new Int32Array(d.HEAP32.buffer,r.getDrawableDrawOrders(y),E),E=r.getDrawableCount(y),this.renderOrders=new Int32Array(d.HEAP32.buffer,r.getDrawableRenderOrders(y),E),E=r.getDrawableCount(y),this.opacities=new Float32Array(d.HEAPF32.buffer,r.getDrawableOpacities(y),E),E=r.getDrawableCount(y),this.maskCounts=new Int32Array(d.HEAP32.buffer,r.getDrawableMaskCounts(y),E),E=r.getDrawableCount(y),this.vertexCounts=new Int32Array(d.HEAP32.buffer,r.getDrawableVertexCounts(y),E),E=r.getDrawableCount(y),this.indexCounts=new Int32Array(d.HEAP32.buffer,r.getDrawableIndexCounts(y),E),E=r.getDrawableCount(y),this.multiplyColors=new Float32Array(d.HEAPF32.buffer,r.getDrawableMultiplyColors(y),4*E),E=r.getDrawableCount(y),this.screenColors=new Float32Array(d.HEAPF32.buffer,r.getDrawableScreenColors(y),4*E),E=r.getDrawableCount(y),this.parentPartIndices=new Int32Array(d.HEAP32.buffer,r.getDrawableParentPartIndices(y),E),E=r.getDrawableCount(y),M=new Int32Array(d.HEAP32.buffer,r.getDrawableMaskCounts(y),E),this.masks=new Array(E);for(var N=new Uint32Array(d.HEAPU32.buffer,r.getDrawableMasks(y),E),C=0;C<N.length;C++)this.masks[C]=new Int32Array(d.HEAP32.buffer,N[C],M[C]);E=r.getDrawableCount(y),M=new Int32Array(d.HEAP32.buffer,r.getDrawableVertexCounts(y),E),this.vertexPositions=new Array(E);for(var $=new Uint32Array(d.HEAPU32.buffer,r.getDrawableVertexPositions(y),E),C=0;C<$.length;C++)this.vertexPositions[C]=new Float32Array(d.HEAPF32.buffer,$[C],2*M[C]);E=r.getDrawableCount(y),M=new Int32Array(d.HEAP32.buffer,r.getDrawableVertexCounts(y),E),this.vertexUvs=new Array(E);for(var L=new Uint32Array(d.HEAPU32.buffer,r.getDrawableVertexUvs(y),E),C=0;C<L.length;C++)this.vertexUvs[C]=new Float32Array(d.HEAPF32.buffer,L[C],2*M[C]);E=r.getDrawableCount(y),M=new Int32Array(d.HEAP32.buffer,r.getDrawableIndexCounts(y),E),this.indices=new Array(E);for(var B=new Uint32Array(d.HEAPU32.buffer,r.getDrawableIndices(y),E),C=0;C<B.length;C++)this.indices[C]=new Uint16Array(d.HEAPU16.buffer,B[C],M[C])}return S.prototype.resetDynamicFlags=function(){r.resetDrawableDynamicFlags(this._modelPtr)},S}()),l=(e.Drawables=s,function(){function S(){}return S.hasBlendAdditiveBit=function(y){return(1&y)==1},S.hasBlendMultiplicativeBit=function(y){return(2&y)==2},S.hasIsDoubleSidedBit=function(y){return(4&y)==4},S.hasIsInvertedMaskBit=function(y){return(8&y)==8},S.hasIsVisibleBit=function(y){return(1&y)==1},S.hasVisibilityDidChangeBit=function(y){return(2&y)==2},S.hasOpacityDidChangeBit=function(y){return(4&y)==4},S.hasDrawOrderDidChangeBit=function(y){return(8&y)==8},S.hasRenderOrderDidChangeBit=function(y){return(16&y)==16},S.hasVertexPositionsDidChangeBit=function(y){return(32&y)==32},S.hasBlendColorDidChangeBit=function(y){return(64&y)==64},S}()),l=(e.Utils=l,function(){function S(){}return S.initializeAmountOfMemory=function(y){16777216<y&&r.initializeAmountOfMemory(y)},S}()),h=(e.Memory=l,t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S){S=S||{};var y,E,M={};for(E in y=y||(S!==void 0?S:{}))y.hasOwnProperty(E)&&(M[E]=y[E]);var O,C,N,$,G=!1,L=typeof window=="object",B=typeof importScripts=="function",G=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!L&&!B,j=!L&&!G&&!B,Er="",z=(G?(Er=__dirname+"/",N=function(q,at){var vt=dn(q);return vt||(O=O||require("fs"),q=(C=C||require("path")).normalize(q),vt=O.readFileSync(q)),at?vt:vt.toString()},$=function(q){return Gt((q=(q=N(q,!0)).buffer?q:new Uint8Array(q)).buffer),q},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(q){throw q}),process.on("unhandledRejection",ce),y.inspect=function(){return"[Emscripten Module object]"}):j?(typeof read<"u"&&(N=function(q){var at=dn(q);return at?fn(at):read(q)}),$=function(q){var at;if(!(at=dn(q))){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(q));Gt(typeof(at=read(q,"binary"))=="object")}return at},typeof print<"u"&&((console=typeof console>"u"?{}:console).log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(L||B)&&(B?Er=self.location.href:document.currentScript&&(Er=document.currentScript.src),Er=(Er=t||Er).indexOf("blob:")!==0?Er.substr(0,Er.lastIndexOf("/")+1):"",N=function(q){try{var at=new XMLHttpRequest;return at.open("GET",q,!1),at.send(null),at.responseText}catch(vt){if(q=dn(q))return fn(q);throw vt}},B)&&($=function(q){try{var at=new XMLHttpRequest;return at.open("GET",q,!1),at.responseType="arraybuffer",at.send(null),new Uint8Array(at.response)}catch(vt){if(q=dn(q))return q;throw vt}}),y.print||console.log.bind(console)),J=y.printErr||console.warn.bind(console);for(E in M)M.hasOwnProperty(E)&&(y[E]=M[E]);function Q(){return{exports:function(q,at,vt){var _t=new ArrayBuffer(8),Ot=new Int32Array(_t),fe=new Float32Array(_t),be=new Float64Array(_t);function Lt(u,_){Ot[u]=_}function ji(){return be[0]}function we(u){be[0]=u}function ee(u){fe[0]=u}function Ht(){return fe[0]}_t=at.buffer;var e0,jt,ze,Ta,ft,ht,_o,n,dt,pn,nr,D,qt,K,x,He,As,ar,qc,t0,B_,H_,U_,V,Xi,e0=new Uint8Array(_t);return(_t=function(u,_){var A,m;if(typeof Buffer>"u")for(A=atob(_),m=0;m<A.length;m++)e0[u+m]=A.charCodeAt(m);else for(A=Buffer.from(_,"base64"),m=0;m<A.length;m++)e0[u+m]=A[m]})(1024,"QW4gZXJyb3Igb2NjdXJyZWQgaW4gdGhlIGludGVycG9sYXRpb24gZm9yIGJsZW5kIHNoYXBlcy4gQ29tYmluYXRpb25Db3VudCBpcyAlZC4ACgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBUaGlzIG1vYzMgc2l6ZSBpcyBpbnZhbGlkLgoAW0NTTV0gW0VdJXM6ICVzCgBbQ1NNXSBbV11Sb3RhdGlvbkRlZm9ybWVyOiBOb3QgZm91bmQgdHJhbnNmb3JtZWQgRGlyZWN0aW9uLgoAW0NTTV0gW0VdVXBkYXRlRGVmb3JtZXJIaWVyYXJjaHkoKTogVW5rbm93biBEZWZvcm1lciBUeXBlLgoAJXMKACAgAE1PQzMAImFkZHJlc3MiIGlzIG51bGwuACUwMlggAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBGaWxlVHlwZSBpcyBpbnZhbGlkLgoAImFkZHJlc3MiIGFsaWdubWVudCBpcyBpbnZhbGlkLgBbQ1NNXSBbRV1jc21IYXNNb2NDb25zaXN0ZW5jeTogVGhpcyBtb2MzIHZlciBpcyBpbnZhbGlkIFt2ZXI6JWRdLgoAInNpemUiIGlzIGludmFsaWQuAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBUaGUgQ29yZSB1bnN1cHBvcnQgbGF0ZXIgdGhhbiBtb2MzIHZlcjpbJWRdLiBUaGlzIG1vYzMgdmVyIGlzIFslZF0uCgAibW9kZWwiIGlzIGludmFsaWQuAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBIZWFkZXIgc2VjdGlvbiBpcyBpbnZhbGlkLgoAIm91dFNpemVJblBpeGVscyIgaXMgbnVsbC4AW0NTTV0gW0VdY3NtSGFzTW9jQ29uc2lzdGVuY3k6IERhdGEgc2VjdGlvbiBpcyBpbnZhbGlkLgoAIm91dE9yaWdpbkluUGl4ZWxzIiBpcyBudWxsLgBbQ1NNXSBbRV1jc21SZXZpdmVNb2NJblBsYWNlIGlzIGZhaWxlZC4gQ29ycnVwdGVkICBtb2MzIGZpbGUuCgAib3V0UGl4ZWxzUGVyVW5pdCIgaXMgbnVsbC4AW0NTTV0gW0VdY3NtUmV2aXZlTW9jSW5QbGFjZSBpcyBmYWlsZWQuIFRoZSBDb3JlIHVuc3VwcG9ydCBsYXRlciB0aGFuIG1vYzMgdmVyOlslZF0uIFRoaXMgbW9jMyB2ZXIgaXMgWyVkXS4KACJtb2MiIGlzIGludmFsaWQuAFtDU01dIFtFXWNzbUdldE1vY1ZlcnNpb24gaXMgZmFpbGVkLiBDb3JydXB0ZWQgbW9jMyBmaWxlLgoAInNpemUiIGlzIGludmFsaWQATGl2ZTJEIEN1YmlzbSBTREsgQ29yZSBWZXJzaW9uICVkLiVkLiVkAGNzbUdldE1vY1ZlcnNpb24AY3NtSGFzTW9jQ29uc2lzdGVuY3kAY3NtUmV2aXZlTW9jSW5QbGFjZQBjc21SZWFkQ2FudmFzSW5mbwBjc21HZXRTaXplb2ZNb2RlbABjc21Jbml0aWFsaXplTW9kZWxJblBsYWNlAGNzbVVwZGF0ZU1vZGVsAGNzbUdldFBhcmFtZXRlckNvdW50AGNzbUdldFBhcmFtZXRlcklkcwBjc21HZXRQYXJhbWV0ZXJUeXBlcwBjc21HZXRQYXJhbWV0ZXJNaW5pbXVtVmFsdWVzAGNzbUdldFBhcmFtZXRlck1heGltdW1WYWx1ZXMAY3NtR2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcwBjc21HZXRQYXJhbWV0ZXJWYWx1ZXMAY3NtR2V0UGFydENvdW50AGNzbUdldFBhcnRJZHMAY3NtR2V0UGFydE9wYWNpdGllcwBjc21HZXRQYXJ0UGFyZW50UGFydEluZGljZXMAY3NtR2V0RHJhd2FibGVDb3VudABjc21HZXREcmF3YWJsZUlkcwBjc21HZXREcmF3YWJsZUNvbnN0YW50RmxhZ3MAY3NtR2V0RHJhd2FibGVEeW5hbWljRmxhZ3MAY3NtR2V0RHJhd2FibGVUZXh0dXJlSW5kaWNlcwBjc21HZXREcmF3YWJsZURyYXdPcmRlcnMAY3NtR2V0RHJhd2FibGVSZW5kZXJPcmRlcnMAY3NtR2V0RHJhd2FibGVPcGFjaXRpZXMAY3NtR2V0RHJhd2FibGVNYXNrQ291bnRzAGNzbUdldERyYXdhYmxlTWFza3MAY3NtR2V0RHJhd2FibGVWZXJ0ZXhDb3VudHMAY3NtR2V0RHJhd2FibGVWZXJ0ZXhQb3NpdGlvbnMAY3NtR2V0RHJhd2FibGVWZXJ0ZXhVdnMAY3NtR2V0RHJhd2FibGVJbmRleENvdW50cwBjc21HZXREcmF3YWJsZUluZGljZXMAY3NtR2V0RHJhd2FibGVNdWx0aXBseUNvbG9ycwBjc21HZXREcmF3YWJsZVNjcmVlbkNvbG9ycwBjc21HZXREcmF3YWJsZVBhcmVudFBhcnRJbmRpY2VzAGNzbVJlc2V0RHJhd2FibGVEeW5hbWljRmxhZ3MAY3NtR2V0UGFyYW1ldGVyS2V5Q291bnRzAGNzbUdldFBhcmFtZXRlcktleVZhbHVlcw=="),_t(3228,"Cg=="),_t(3267,"//////8="),_t(3336,"LSsgICAwWDB4AChudWxsKQ=="),_t(3360,"EQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),_t(3392,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),_t(3441,"Cw=="),_t(3450,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),_t(3499,"DA=="),_t(3511,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),_t(3557,"Dg=="),_t(3569,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),_t(3615,"EA=="),_t(3627,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),_t(3682,"EgAAABISEgAAAAAAAAk="),_t(3731,"Cw=="),_t(3743,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),_t(3789,"DA=="),_t(3801,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAuAAAAAKgaAAAAAAAAAwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGA"),_t(6675,"QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNThj7T7aD0k/Xph7P9oPyT9pN6wxaCEiM7QPFDNoIaIz2w9JP9sPSb/kyxZA5MsWwAAAAAAAAACA2w9JQNsPScAAAIA/AADAPwAAAADcz9E1AAAAAADAFT8="),_t(6824,"BQ=="),_t(6836,"DQ=="),_t(6860,"DgAAAA8AAABYHAAAAAQ="),_t(6884,"AQ=="),_t(6899,"Cv////8="),_t(7156,"gCA="),jt={Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0,Math},ze=at.buffer,Ta=(_t=q).memory,ft=vt,ht=new jt.Int8Array(ze),_o=new jt.Int16Array(ze),n=new jt.Int32Array(ze),dt=new jt.Uint8Array(ze),pn=new jt.Uint16Array(ze),nr=new jt.Uint32Array(ze),D=new jt.Float32Array(ze),qt=new jt.Float64Array(ze),K=jt.Math.imul,x=jt.Math.fround,He=jt.Math.abs,As=jt.Math.clz32,ar=jt.Math.min,jt.Math.max,qc=jt.Math.floor,jt.Math.ceil,jt.Math.sqrt,_t.abort,jt.NaN,t0=jt.Infinity,B_=_t.a,H_=_t.b,U_=_t.c,V=5251744,Xi=0,ft[1]=function(u,_,A,m,f){u|=0,_|=0,A|=0,m|=0,f|=0;var T,c,p,g,v,b,I,P,w,R,F,k,H,U,X,W,rt,ot,Tt,Pt,Bt,Wt,It,oe,nt=0,Et=x(0),wt=x(0),Nt=0,Ft=x(0),se=x(0),pe=x(0),Je=x(0),We=x(0),Ye=x(0),Ke=x(0),Qe=x(0),sr=x(0),gr=x(0),vr=x(0),Hr=x(0),Ur=x(0),ni=x(0),ai=x(0),Ii=x(0),Ai=x(0),zi=x(0),Ji=x(0),c1=(x(0),x(0),x(0),x(0),x(0),x(0),x(0),x(0),x(0),0);if(V=oe=V-32|0,1<=(0|f))for(T=n[16+(n[u+308>>2]+(_<<5)|0)>>2],nt=n[u+60>>2]+K(T,24)|0,_=(c=n[nt+8>>2])+-1|0,k=(v=n[nt+4>>2])+-1|0,H=w=(T=n[n[u+152>>2]+(T<<2)>>2])+(c<<3)|0,U=R=T+((P=K(v,p=c+1|0))<<3)|0,X=F=T+(c+P<<3)|0,It=n[nt+12>>2],b=x(0|v),I=x(0|c),u=0;pe=D[4+(nt=(g=u<<3)+A|0)>>2],wt=x(pe*b),Je=D[nt>>2],Et=x(Je*I),nt=pe>=x(1),wt=!(pe<x(0)^1)||nt|Je>=x(1)|Je<x(0)?(c1||(sr=D[4+X>>2],W=D[T+4>>2],We=x(sr-W),rt=D[4+H>>2],ot=D[4+U>>2],Ye=x(rt-ot),gr=x(x(We-Ye)*x(.5)),Tt=D[F>>2],Pt=D[T>>2],Ke=x(Tt-Pt),Bt=D[w>>2],Wt=D[R>>2],Qe=x(Bt-Wt),vr=x(x(Ke-Qe)*x(.5)),Ye=x(x(Ye+We)*x(.5)),Qe=x(x(Qe+Ke)*x(.5)),c1=1,We=x(x(x(x(x(W+rt)+ot)+sr)*x(.25))-x(We*x(.5))),Ke=x(x(x(x(x(Pt+Bt)+Wt)+Tt)*x(.25))-x(Ke*x(.5)))),pe<x(3)^1|Je>x(-2)^1|(Je<x(3)^1|pe>x(-2)^1)?(D[m+g>>2]=x(pe*vr)+x(x(Je*Qe)+Ke),Et=x(pe*gr),x(x(Je*Ye)+We)):(Je<=x(0)?pe<=x(0)?(se=x(x(pe+x(2))*x(.5)),Ft=x(x(Je+x(2))*x(.5)),Et=x(gr+gr),zi=x(We-Et),wt=x(vr+vr),Ji=x(Ke-wt),Ii=x(We-x(Ye+Ye)),Hr=x(Ii-Et),Ai=x(Ke-x(Qe+Qe)),Ur=x(Ai-wt),ni=D[T+4>>2],ai=D[T>>2]):nt?(Et=x(gr*x(3)),wt=x(We-x(Ye+Ye)),Ii=x(Et+wt),Hr=x(vr*x(3)),Ur=x(Ke-x(Qe+Qe)),Ai=x(Hr+Ur),se=x(x(pe+x(-1))*x(.5)),Ft=x(x(Je+x(2))*x(.5)),ni=x(Et+We),ai=x(Hr+Ke),Hr=x(gr+wt),Ur=x(vr+Ur),zi=D[4+U>>2],Ji=D[R>>2]):(Et=x(We-x(Ye+Ye)),nt=k,Nt=x(He(wt))<x(2147483648)?~~wt:-2147483648,se=x(0|(nt=(0|Nt)==(0|v)?nt:Nt)),Ft=x(se/b),Hr=x(x(Ft*gr)+Et),sr=x(Ft*vr),Ft=x(Ke-x(Qe+Qe)),Ur=x(sr+Ft),pe=x(x(0|(Nt=nt+1|0))/b),Ii=x(x(pe*gr)+Et),Ai=x(x(pe*vr)+Ft),Ft=x(x(Je+x(2))*x(.5)),se=x(wt-se),nt=T+(K(nt,p)<<3)|0,zi=D[nt+4>>2],Ji=D[nt>>2],nt=T+(K(Nt,p)<<3)|0,ni=D[nt+4>>2],ai=D[nt>>2]):Je>=x(1)?pe<=x(0)?(se=x(x(pe+x(2))*x(.5)),Ft=x(x(Je+x(-1))*x(.5)),Et=x(gr+gr),Hr=x(x(Ye+We)-Et),wt=x(vr+vr),Ur=x(x(Qe+Ke)-wt),ni=x(x(Ye*x(3))+We),zi=x(ni-Et),ai=x(x(Qe*x(3))+Ke),Ji=x(ai-wt),Ii=D[4+H>>2],Ai=D[w>>2]):nt?(Et=x(gr*x(3)),Ii=x(Et+x(Ye+We)),wt=x(vr*x(3)),Ai=x(wt+x(Qe+Ke)),sr=Et,Et=x(x(Ye*x(3))+We),ni=x(sr+Et),sr=wt,wt=x(x(Qe*x(3))+Ke),ai=x(sr+wt),se=x(x(pe+x(-1))*x(.5)),Ft=x(x(Je+x(-1))*x(.5)),zi=x(gr+Et),Ji=x(vr+wt),Hr=D[4+X>>2],Ur=D[F>>2]):(Et=x(x(Ye*x(3))+We),nt=k,Nt=x(He(wt))<x(2147483648)?~~wt:-2147483648,se=x(0|(nt=(0|Nt)==(0|v)?nt:Nt)),Ft=x(se/b),zi=x(x(Ft*gr)+Et),sr=x(Ft*vr),Ft=x(x(Qe*x(3))+Ke),Ji=x(sr+Ft),pe=x(x(0|(Nt=nt+1|0))/b),ni=x(x(pe*gr)+Et),ai=x(x(pe*vr)+Ft),Ft=x(x(Je+x(-1))*x(.5)),se=x(wt-se),nt=T+(K(nt,p)+c<<3)|0,Hr=D[nt+4>>2],Ur=D[nt>>2],nt=T+(K(Nt,p)+c<<3)|0,Ii=D[nt+4>>2],Ai=D[nt>>2]):pe<=x(0)?(se=x(x(pe+x(2))*x(.5)),nt=_,Nt=x(He(wt=Et))<x(2147483648)?~~Et:-2147483648,Et=x(0|(nt=(0|Nt)==(0|c)?nt:Nt)),Ft=x(wt-Et),Et=x(Et/I),wt=x(gr+gr),Hr=x(x(x(Et*Ye)+We)-wt),sr=x(x(Et*Qe)+Ke),Et=x(vr+vr),Ur=x(sr-Et),pe=x(x(0|(Nt=nt+1|0))/I),zi=x(x(x(pe*Ye)+We)-wt),Ji=x(x(x(pe*Qe)+Ke)-Et),Ii=D[4+(nt=T+(nt<<3)|0)>>2],Ai=D[nt>>2],ni=D[4+(nt=T+(Nt<<3)|0)>>2],ai=D[nt>>2]):nt?(sr=wt=x(gr*x(3)),nt=_,Nt=x(He(Et))<x(2147483648)?~~Et:-2147483648,Ft=x(0|(nt=(0|Nt)==(0|c)?nt:Nt)),se=x(Ft/I),Ii=x(sr+x(x(se*Ye)+We)),Je=x(vr*x(3)),Ai=x(Je+x(x(se*Qe)+Ke)),sr=wt,wt=x(x(0|(Nt=nt+1|0))/I),ni=x(sr+x(x(wt*Ye)+We)),ai=x(Je+x(x(wt*Qe)+Ke)),se=x(x(pe+x(-1))*x(.5)),Ft=x(Et-Ft),Hr=D[4+(nt=T+(nt+P<<3)|0)>>2],Ur=D[nt>>2],zi=D[4+(nt=T+(Nt+P<<3)|0)>>2],Ji=D[nt>>2]):(qt[16+oe>>3]=pe,n[oe>>2]=u,qt[8+oe>>3]=Je,yt(4,1107,oe)),x(Ft+se)<=x(1)?(D[m+g>>2]=x(Ur+x(x(Ji-Ur)*Ft))+x(x(Ai-Ur)*se),Et=x(Hr+x(x(zi-Hr)*Ft)),x(x(Ii-Hr)*se)):(Et=x(x(1)-Ft),wt=x(x(1)-se),D[m+g>>2]=x(ai+x(x(Ai-ai)*Et))+x(x(Ji-ai)*wt),Et=x(ni+x(x(Ii-ni)*Et)),x(x(zi-ni)*wt)))):(nt=x(He(sr=wt))<x(2147483648)?~~wt:-2147483648,se=x(sr-x(0|nt)),Nt=x(He(wt=Et))<x(2147483648)?~~Et:-2147483648,Ft=x(wt-x(0|Nt)),nt=Nt+K(nt,p)|0,It?(Et=x(x(1)-se),wt=x(x(1)-Ft),Nt=T+(nt<<3)|0,nt=T+(nt+p<<3)|0,D[m+g>>2]=x(x(x(Et*x(wt*D[Nt>>2]))+x(Et*x(Ft*D[Nt+8>>2])))+x(se*x(wt*D[nt>>2])))+x(se*x(Ft*D[nt+8>>2])),Et=x(x(x(Et*x(wt*D[Nt+4>>2]))+x(Et*x(Ft*D[Nt+12>>2])))+x(se*x(wt*D[nt+4>>2]))),x(se*x(Ft*D[nt+12>>2]))):x(Ft+se)<=x(1)?(Et=x(x(x(1)-Ft)-se),Nt=T+(nt<<3)|0,nt=T+(nt+p<<3)|0,D[m+g>>2]=x(x(Et*D[Nt>>2])+x(Ft*D[Nt+8>>2]))+x(se*D[nt>>2]),Et=x(x(Et*D[Nt+4>>2])+x(Ft*D[Nt+12>>2])),x(se*D[nt+4>>2])):(Et=x(x(Ft+x(-1))+se),Nt=T+(nt+p<<3)|0,wt=x(x(1)-Ft),pe=x(x(1)-se),nt=T+(nt<<3)|0,D[m+g>>2]=x(x(Et*D[Nt+8>>2])+x(wt*D[Nt>>2]))+x(pe*D[nt+8>>2]),Et=x(x(Et*D[Nt+12>>2])+x(wt*D[Nt+4>>2])),x(pe*D[nt+12>>2]))),D[4+(m+g|0)>>2]=Et+wt,(0|f)!=(0|(u=u+1|0)););V=32+oe|0},ft[2]=function(u,_){u|=0,_|=0;var b=0,A=0,m=0,v=0,I=0,f=x(0),T=0,c=0,p=(x(0),0),g=0,v=n[u+320>>2],b=n[u+316>>2],I=n[u+308>>2];(0|(A=n[8+(m=I+(_<<5)|0)>>2]))==-1?(n[(g=b)+(b=_<<2)>>2]=n[n[u+148>>2]+(n[m+16>>2]<<2)>>2],n[b+v>>2]=1065353216):(T=n[m+16>>2],c=n[n[u+152>>2]+(T<<2)>>2],ft[n[24+(I+(A<<5)|0)>>2]](u,A,c,c,n[16+(n[u+60>>2]+K(T,24)|0)>>2]),f=D[n[u+148>>2]+(n[m+16>>2]<<2)>>2],m=n[m+8>>2]<<2,D[(A=_<<2)+b>>2]=f*D[m+b>>2],n[A+v>>2]=n[m+v>>2]),4<=dt[n[u>>2]+4|0]&&(v=_<<2,b=n[u+308>>2]+(_<<5)|0,A=n[b+16>>2]<<2,m=n[u+328>>2],_=n[u+324>>2],(0|(I=n[b+8>>2]))==-1?(I=n[u+156>>2],n[(b=v<<2)+_>>2]=n[I+(A<<=2)>>2],n[(T=4|b)+_>>2]=n[(c=4|A)+I>>2],n[(p=8|b)+_>>2]=n[I+(g=8|A)>>2],n[_+((v|=3)<<2)>>2]=1065353216,u=n[u+160>>2],n[b+m>>2]=n[u+A>>2],n[m+T>>2]=n[u+c>>2],n[m+p>>2]=n[u+g>>2]):(A=(c=A<<2)+n[u+156>>2]|0,D[(b=(T=v<<2)+_|0)>>2]=D[A>>2]*D[(I=(p=I<<4)+_|0)>>2],D[b+4>>2]=D[A+4>>2]*D[I+4>>2],D[b+8>>2]=D[A+8>>2]*D[I+8>>2],n[_+((v|=3)<<2)>>2]=1065353216,u=c+n[u+160>>2]|0,g=D[u>>2],f=D[(b=m+p|0)>>2],D[(_=m+T|0)>>2]=x(g+f)-x(g*f),g=D[u+4>>2],f=D[b+4>>2],D[_+4>>2]=x(g+f)-x(g*f),g=D[u+8>>2],f=D[b+8>>2],D[_+8>>2]=x(g+f)-x(g*f)),n[m+(v<<2)>>2]=1065353216)},ft[3]=function(u,_,A,m,f){u|=0,_|=0,A|=0,m|=0,f|=0;var T,c,p,g,v,b=0,b=(x(0),x(0),x(0),x(0),x(0),x(0),x(0),x(0),(_=n[16+(n[u+308>>2]+(_<<5)|0)>>2])<<2),I=function(F){var k,H,U,X,W=x(0);V=U=V-16|0,ee(F);e:if((k=2147483647&(X=Ot[0]))>>>0<=1061752794)W=x(1),k>>>0<964689920||(W=Ei(+F));else if(k>>>0<=1081824209)H=+F,W=1075235812<=k>>>0?x(-Ei(((0|X)<0?3.141592653589793:-3.141592653589793)+H)):_n((0|X)<=-1?1.5707963267948966+H:1.5707963267948966-H);else if(k>>>0<=1088565717)W=1085271520<=k>>>0?Ei(+F+((0|X)<0?6.283185307179586:-6.283185307179586)):_n((0|X)<=-1?-4.71238898038469-+F:+F-4.71238898038469);else if(W=x(F-F),!(2139095040<=k>>>0))if((k=3&Q_(F,8+U|0))>>>0<=2){switch(k-1|0){default:W=Ei(qt[8+U>>3]);break e;case 0:W=_n(-qt[8+U>>3]);break e;case 1:}W=x(-Ei(qt[8+U>>3]))}else W=_n(qt[8+U>>3]);return V=16+U|0,W}(R=x(x(x(D[4+(n[u+168>>2]+K(_,12)|0)>>2]+D[b+n[u+284>>2]>>2])*x(3.1415927410125732))/x(180))),P=D[b+n[u+272>>2]>>2],w=n[b+n[u+292>>2]>>2],R=function(F){var k,H,U,X=0;V=H=V-16|0,ee(F);e:if((k=2147483647&(U=Ot[0]))>>>0<=1061752794)k>>>0<964689920||(F=_n(+F));else if(k>>>0<=1081824209)X=+F,F=k>>>0<=1075235811?(0|U)<=-1?x(-Ei(X+1.5707963267948966)):Ei(X+-1.5707963267948966):_n(-(((0|U)<0?3.141592653589793:-3.141592653589793)+X));else if(k>>>0<=1088565717)X=+F,F=k>>>0<=1085271519?(0|U)<=-1?Ei(X+4.71238898038469):x(-Ei(X+-4.71238898038469)):_n(((0|U)<0?6.283185307179586:-6.283185307179586)+X);else if(2139095040<=k>>>0)F=x(F-F);else if((k=3&Q_(F,8+H|0))>>>0<=2){switch(k-1|0){default:F=_n(qt[8+H>>3]);break e;case 0:F=Ei(qt[8+H>>3]);break e;case 1:}F=_n(-qt[8+H>>3])}else F=x(-Ei(qt[8+H>>3]));return V=16+H|0,F}(R);if((_=0)<(0|f))for(I=x(P*I),c=x(w?-1:1),g=x(I*c),T=n[b+n[u+288>>2]>>2]?x(-1):x(1),v=x(x(P*R)*T),I=x(I*T),P=x(x(P*x(-R))*c),R=D[b+n[u+280>>2]>>2],c=D[b+n[u+276>>2]>>2];b=(u=_<<3)+m|0,T=D[(u=u+A|0)>>2],p=D[u+4>>2],D[b+4>>2]=R+x(x(v*T)+x(g*p)),D[b>>2]=c+x(x(I*T)+x(P*p)),(0|f)!=(0|(_=_+1|0)););},ft[4]=function(u,_){u|=0,_|=0;var A,m,f,T,c,p,g=0,v=0,b=0,I=x(0),P=0,w=0,R=x(0),F=0,k=0,H=0;if(x(0),x(0),x(0),x(0),V=p=V+-64|0,F=n[u+320>>2],k=n[u+316>>2],v=n[u+308>>2],(0|(P=n[8+(b=v+(_<<5)|0)>>2]))==-1)g=n[b+16>>2]<<2,n[(v=_<<2)+k>>2]=n[g+n[u+268>>2]>>2],n[v+F>>2]=n[g+n[u+272>>2]>>2];else{g=n[b+16>>2]<<2,H=n[g+n[u+276>>2]>>2],n[24+p>>2]=H,g=n[g+n[u+280>>2]>>2],n[28+p>>2]=g,n[16+p>>2]=0,m=n[12+(w=v+(P<<5)|0)>>2]==1?x(-10):x(-.10000000149011612),D[20+p>>2]=m,n[60+p>>2]=g,n[56+p>>2]=H,ft[n[w+24>>2]](u,P,56+p|0,48+p|0,1),I=x(1),v=9;e:{for(;;){if(g=v,R=x(I*x(0)),D[32+p>>2]=R+D[56+p>>2],A=x(m*I),D[36+p>>2]=A+D[60+p>>2],ft[n[w+24>>2]](u,P,32+p|0,40+p|0,1),f=x(D[44+p>>2]-D[52+p>>2]),D[44+p>>2]=f,T=x(D[40+p>>2]-D[48+p>>2]),D[40+p>>2]=T,f!=x(0)||T!=x(0)){v=n[44+p>>2],n[8+p>>2]=n[40+p>>2],n[12+p>>2]=v;break e}if(D[32+p>>2]=D[56+p>>2]-R,D[36+p>>2]=D[60+p>>2]-A,ft[n[w+24>>2]](u,P,32+p|0,40+p|0,1),R=x(D[40+p>>2]-D[48+p>>2]),D[40+p>>2]=R,A=x(D[44+p>>2]-D[52+p>>2]),(D[44+p>>2]=A)!=x(0)||R!=x(0)){D[12+p>>2]=-A,D[8+p>>2]=-R;break e}if(v=g+-1|0,I=x(I*x(.10000000149011612)),!g)break}yt(3,1311,0)}I=function(U,X){var W=x(0);if((W=x(Y_(D[4+U>>2],D[U>>2])-Y_(D[4+X>>2],D[X>>2])))<x(-3.1415927410125732))for(;(W=x(W+x(6.2831854820251465)))<x(-3.1415927410125732););if(W>x(3.1415927410125732))for(;(W=x(W+x(-6.2831854820251465)))>x(3.1415927410125732););return W}(16+p|0,8+p|0),ft[n[w+24>>2]](u,n[b+8>>2],24+p|0,24+p|0,1),v=n[b+16>>2]<<2,n[v+n[u+276>>2]>>2]=n[24+p>>2],n[v+n[u+280>>2]>>2]=n[28+p>>2],g=v+n[u+284>>2]|0,D[g>>2]=D[g>>2]+x(x(I*x(-180))/x(3.1415927410125732)),b=n[b+8>>2]<<2,D[(g=_<<2)+k>>2]=D[v+n[u+268>>2]>>2]*D[b+k>>2],v=v+n[u+272>>2]|0,I=x(D[v>>2]*D[b+F>>2]),D[g+F>>2]=I,D[v>>2]=I}4<=dt[n[u>>2]+4|0]&&(g=_<<2,b=n[u+308>>2]+(_<<5)|0,P=n[b+16>>2]<<2,v=n[u+328>>2],_=n[u+324>>2],(0|(w=n[b+8>>2]))==-1?(w=n[u+296>>2],n[(b=g<<2)+_>>2]=n[w+(P<<=2)>>2],n[(F=4|b)+_>>2]=n[(k=4|P)+w>>2],n[(H=8|b)+_>>2]=n[w+(c=8|P)>>2],n[_+((g|=3)<<2)>>2]=1065353216,u=n[u+300>>2],n[v+b>>2]=n[u+P>>2],n[v+F>>2]=n[u+k>>2],n[v+H>>2]=n[u+c>>2]):(P=(k=P<<2)+n[u+296>>2]|0,D[(b=(F=g<<2)+_|0)>>2]=D[P>>2]*D[(w=(H=w<<4)+_|0)>>2],D[b+4>>2]=D[P+4>>2]*D[w+4>>2],D[b+8>>2]=D[P+8>>2]*D[w+8>>2],n[_+((g|=3)<<2)>>2]=1065353216,u=k+n[u+300>>2]|0,I=D[u>>2],R=D[(b=v+H|0)>>2],D[(_=v+F|0)>>2]=x(I+R)-x(I*R),I=D[u+4>>2],R=D[b+4>>2],D[_+4>>2]=x(I+R)-x(I*R),I=D[u+8>>2],R=D[b+8>>2],D[_+8>>2]=x(I+R)-x(I*R)),n[v+(g<<2)>>2]=1065353216),V=64+p|0},ft[5]=function(u,_){return u|=0,_|=0,x(0),x(0),0|((u=D[u>>2])<(_=D[_>>2])?-1:_<u)},ft[6]=function(u,_,A,m){u|=0,_|=0,A|=0,m|=0;var f=0,T=0,c=x(0),p=0,g=0,v=0,b=0,I=0;if(1<=(0|(p=n[u+8>>2])))for(v=n[u+12>>2],g=n[u+20>>2];D[(T=f<<2)+v>>2]=D[_+T>>2]*D[T+g>>2],(0|(f=f+1|0))<(0|p););if(!((0|(p=n[u>>2]))<1))if(v=n[u+4>>2],m)for(T=_=0;;){if(n[m>>2]){if((0|(f=n[(g=_<<2)+n[u+16>>2]>>2]))<1)c=x(0);else for(b=f+T|0,I=n[u+12>>2],c=x(0),f=T;c=x(c+D[I+(f<<2)>>2]),(0|(f=f+1|0))<(0|b););D[A+g>>2]=c}if(m=m+4|0,T=n[v+(_<<2)>>2]+T|0,!((0|(_=_+1|0))<(0|p)))break}else for(g=n[u+16>>2],_=m=0;;){if((0|(f=n[(T=m<<2)+g>>2]))<=0)c=x(0);else for(b=_+f|0,I=n[u+12>>2],c=x(0),f=_;c=x(c+D[I+(f<<2)>>2]),(0|(f=f+1|0))<(0|b););if(D[A+T>>2]=c,_=n[T+v>>2]+_|0,!((0|(m=m+1|0))<(0|p)))break}},ft[7]=function(u,_,A,m){u|=0,_|=0,A|=0,m|=0;var f=0,T=x(0),c=0,p=0,g=0,v=0,b=0;if(1<=(0|(v=n[u+8>>2])))for(p=n[u+12>>2],g=n[u+20>>2];D[(c=f<<2)+p>>2]=D[_+c>>2]*D[c+g>>2],(0|(f=f+1|0))<(0|v););if(!((0|(f=n[u>>2]))<1))if(v=n[u+4>>2],m)for(c=_=0;;){if(n[m>>2]){if((0|(f=n[(p=_<<2)+n[u+16>>2]>>2]))<1)T=x(0);else for(g=f+c|0,b=n[u+12>>2],T=x(0),f=c;T=x(T+D[b+(f<<2)>>2]),(0|(f=f+1|0))<(0|g););f=A+p|0,T=x(T+x(.0010000000474974513)),p=x(He(T))<x(2147483648)?~~T:-2147483648,n[f>>2]=p,f=n[u>>2]}if(m=m+4|0,c=n[v+(_<<2)>>2]+c|0,!((0|(_=_+1|0))<(0|f)))break}else for(p=n[u+16>>2],_=m=0;;){if((0|(f=n[(c=m<<2)+p>>2]))<=0)T=x(0);else for(g=_+f|0,b=n[u+12>>2],T=x(0),f=_;T=x(T+D[b+(f<<2)>>2]),(0|(f=f+1|0))<(0|g););if(f=A+c|0,T=x(T+x(.0010000000474974513)),g=x(He(T))<x(2147483648)?~~T:-2147483648,n[f>>2]=g,_=n[c+v>>2]+_|0,!((0|(m=m+1|0))<n[u>>2]))break}},ft[8]=function(u,_,A,m,f,T){u|=0,_|=0,A|=0,m|=0,f|=0,T|=0;var c,p,g=0,v=0,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=x(0),X=0,W=n[u>>2];if(!((0|W)<1))if(c=f<<2,p=n[u+4>>2],T)for(;;){if(n[T>>2]&&(b=n[(g=I<<2)+n[u+16>>2]>>2],R=n[A+g>>2],v=n[m+g>>2],(g=(0|(F=K(v,f)))<1)||Vi(R,0,K(v,c)),!(g|(0|b)<1)))for(k=b+w|0,H=n[u+20>>2],g=w;;){for(U=D[(v=g<<2)+H>>2],X=n[_+v>>2],P=0;D[(v=(b=P<<2)+R|0)>>2]=D[v>>2]+x(U*D[b+X>>2]),(0|F)!=(0|(P=P+1|0)););if(!((0|(g=g+1|0))<(0|k)))break}if(T=T+4|0,w=n[(I<<2)+p>>2]+w|0,!((0|(I=I+1|0))<(0|W)))break}else for(T=0;;){if(b=n[(I=T<<2)+n[u+16>>2]>>2],R=n[A+I>>2],v=n[m+I>>2],(g=(0|(F=K(v,f)))<1)||Vi(R,0,K(v,c)),!(g|(0|b)<=0))for(k=b+w|0,H=n[u+20>>2],g=w;;){for(U=D[(v=g<<2)+H>>2],X=n[_+v>>2],P=0;D[(v=(b=P<<2)+R|0)>>2]=D[v>>2]+x(U*D[b+X>>2]),(0|F)!=(0|(P=P+1|0)););if(!((0|(g=g+1|0))<(0|k)))break}if(w=n[I+p>>2]+w|0,!((0|(T=T+1|0))<(0|W)))break}},ft[9]=function(u){var _,A,m,f=0,T=0,c=0,p=0;if(!(n[(u|=0)+648>>2]||(0|(f=n[u+332>>2]))<1))for(A=(T=n[u+336>>2])+K(f,20)|0,f=n[u+424>>2],p=n[u+444>>2];;){if(n[f>>2]&&!((0|(c=n[T+16>>2]))<(u=1)))for(c<<=1,m=n[p>>2];D[(_=(u<<2)+m|0)>>2]=-D[_>>2],(0|(u=u+2|0))<(0|c););if(p=p+4|0,f=f+4|0,!((T=T+20|0)>>>0<A>>>0))break}},ft[10]=function(u,_,A){var m;return Ti(m=n[20+(u|=0)>>2],_|=0,_=(A|=0)>>>0<(_=n[u+16>>2]-m|0)>>>0?A:_),n[u+20>>2]=_+n[u+20>>2],0|A},ft[11]=function(u,_,A,m,f,T){u|=0,_=+_,A|=0,m|=0,f|=0,T|=0;var c,p,g,v,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0;if(n[44+(V=g=V-560|0)>>2]=0,we(+_),b=0|Ot[1],p=4294967295<Ot[0]>>>0?0:1,v=(0|b)<-1||(0|b)<=-1&&p?(we(_=-_),b=0|Ot[1],Ot[0],Tt=1,3840):2048&f?(Tt=1,3843):(Tt=1&f)?3846:3841,(2146435072&b)==2146435072)Ir(u,32,A,F=Tt+3|0,-65537&f),or(u,v,Tt),m=T>>>5&1,or(u,_!=_?m?3867:3871:m?3859:3863,3);else if(_=function Bt(Wt,It){var oe,nt,Et=0;if(we(+Wt),Et=0|Ot[1],oe=0|Ot[0],(0|(Et=(nt=Et)>>>20&2047))!=2047){if(!Et)return Et=It,It=Wt==0?0:(Wt=Bt(18446744073709552e3*Wt,It),n[It>>2]+-64|0),n[Et>>2]=It,Wt;n[It>>2]=Et+-1022,Lt(0,0|oe),Lt(1,-2146435073&nt|1071644672),Wt=+ji()}return Wt}(_,44+g|0),(_+=_)!=0&&(n[44+g>>2]=n[44+g>>2]+-1),c=16+g|0,(0|(p=32|T))==97){if(W=(X=32&T)?9+v|0:v,!(11<m>>>0)&&(b=12-m|0)){for(rt=8;rt*=16,b=b+-1|0;);_=dt[0|W]==45?-(rt+(-_-rt)):_+rt-rt}for((0|c)==(0|(b=go((P=(b=n[44+g>>2])>>31)^b+P,0,c)))&&(ht[15+g|0]=48,b=15+g|0),R=2|Tt,P=n[44+g>>2],ht[0|(U=b+-2|0)]=T+15,ht[b+-1|0]=(0|P)<0?45:43,b=8&f,I=16+g|0;T=I,H=X,P=He(_)<2147483648?~~_:-2147483648,ht[0|I]=H|dt[P+3824|0],((I=T+1|0)-(16+g|0)|0)!=1|((_=16*(_-(0|P)))==0?!(b|0<(0|m)):0)||(ht[T+1|0]=46,I=T+2|0),_!=0;);Ir(u,32,A,F=(T=!m|(0|m)<=((I-g|0)-18|0)?((c-(16+g|0)|0)-U|0)+I|0:2+((m+c|0)-U|0)|0)+R|0,f),or(u,W,R),Ir(u,48,A,F,65536^f),or(u,16+g|0,m=I-(16+g|0)|0),Ir(u,48,T-((b=m)+(m=c-U|0)|0)|0,0,0),or(u,U,m)}else{for(b=(0|m)<0,_==0?w=n[44+g>>2]:(w=n[44+g>>2]+-28|0,n[44+g>>2]=w,_*=268435456),k=b?6:m,P=X=(0|w)<0?48+g|0:336+g|0;P=(m=P)+4|0,(_=1e9*(_-((n[m>>2]=b=_<4294967296&0<=_?~~_>>>0:0)>>>0)))!=0;);if((0|w)<1)b=P,I=X;else for(I=X;;){if(U=(0|w)<29?w:29,!((b=P+-4|0)>>>0<I>>>0)){for(m=U,H=0;Pt=H,H=n[(W=b)>>2],R=31&m,R=32<=(63&m)>>>(F=0)?(w=H<<R,0):(w=(1<<R)-1&H>>>32-R,H<<R),F=w+F|0,F=(H=Pt+R|0)>>>0<R>>>0?F+1|0:F,Pt=W,W=l1(H=u1(R=H,F,1e9),Xi,1e9),n[Pt>>2]=R-W,I>>>0<=(b=b+-4|0)>>>0;);(m=H)&&(n[(I=I+-4|0)>>2]=m)}for(;I>>>0<(b=P)>>>0&&!n[(P=b+-4|0)>>2];);if(w=n[44+g>>2]-U|0,P=b,!(0<(0|(n[44+g>>2]=w))))break}if((0|w)<=-1)for(ot=1+((k+25|0)/9|0)|0,U=(0|p)==102;;){if(H=(0|w)<-9?9:0-w|0,b>>>0<=I>>>0)I=n[I>>2]?I:I+4|0;else{for(W=1e9>>>H,R=-1<<H^-1,w=0,P=I;m=n[P>>2],n[P>>2]=(m>>>H)+w,w=K(W,m&R),(P=P+4|0)>>>0<b>>>0;);I=n[I>>2]?I:I+4|0,w&&(n[b>>2]=w,b=b+4|0)}if(w=H+n[44+g>>2]|0,b=(0|ot)<b-(m=U?X:I)>>2?m+(ot<<2)|0:b,!((0|(n[44+g>>2]=w))<0))break}if(!(b>>>(P=0)<=I>>>0||(P=K(X-I>>2,9),(m=n[I>>2])>>>0<(w=10))))for(;P=P+1|0,(w=K(w,10))>>>0<=m>>>0;);if((0|(m=(k-((0|p)==102?0:P)|0)-((0|p)==103&(0|k)!=0)|0))<(K(b-X>>2,9)+-9|0)){if(F=(X+((m=(0|(R=m+9216|0))/9|0)<<2)|0)-4092|0,w=10,(0|(m=1+(R-K(m,9)|0)|0))<=8)for(;w=K(w,10),(0|(m=m+1|0))!=9;);if(ot=F+4|0,((U=(W=n[F>>2])-K(w,R=(W>>>0)/(w>>>0)|0)|0)||(0|ot)!=(0|b))&&(rt=U>>>0<(m=w>>>1)>>>0?.5:(0|b)==(0|ot)&&(0|m)==(0|U)?1:1.5,_=1&R?9007199254740994:9007199254740992,!Tt|dt[0|v]!=45||(rt=-rt,_=-_),n[F>>2]=m=W-U|0,_+rt!=_)){if(1e9<=(n[F>>2]=m=m+w|0)>>>0)for(;(F=F+-4|(n[F>>2]=0))>>>0<I>>>0&&(n[(I=I+-4|0)>>2]=0),m=n[F>>2]+1|0,999999999<(n[F>>2]=m)>>>0;);if(P=K(X-I>>2,9),!((m=n[I>>2])>>>0<(w=10)))for(;P=P+1|0,(w=K(w,10))>>>0<=m>>>0;);}b=(m=F+4|0)>>>0<b>>>0?m:b}e:{for(;;){if((U=b)>>>(W=0)<=I>>>0)break e;if(n[(b=U+-4|0)>>2])break}W=1}if((0|p)!=103)R=8&f;else if(k=((m=(0|P)<(0|(b=k||1))&-5<(0|P))?-1^P:-1)+b|0,T=(m?-1:-2)+T|0,!(R=8&f)){if(b=9,W&&(R=n[U+-4>>2])&&!((R>>>(b=0))%(m=10)))for(;b=b+1|0,!((R>>>0)%((m=K(m,10))>>>0)););m=K(U-X>>2,9)+-9|0,k=(32|T)==102?((R=0)|k)<(0|(m=0<(0|(m=m-b|0))?m:0))?k:m:((R=0)|k)<(0|(m=0<(0|(m=(m+P|0)-b|0))?m:0))?k:m}if(F=(0|(w=k|R))!=0,m=u,Pt=A,b=0<(0|P)?P:0,(0|(H=32|T))!=102){if((c-(b=go((b=P>>31)+P^b,0,c))|0)<=1)for(;ht[0|(b=b+-1|0)]=48,(c-b|0)<2;);ht[0|(ot=b+-2|0)]=T,ht[b+-1|0]=(0|P)<0?45:43,b=c-ot|0}if(Ir(m,32,Pt,F=1+(b+(F+(k+Tt|0)|0)|0)|0,f),or(u,v,Tt),Ir(u,48,A,F,65536^f),(0|H)==102){for(m=16+g|8,P=16+g|9,I=T=X>>>0<I>>>0?X:I;;){if(b=go(n[I>>2],0,P),(0|T)!=(0|I)){if(!(b>>>0<=16+g>>>0))for(;ht[0|(b=b+-1|0)]=48,16+g>>>0<b>>>0;);}else(0|b)==(0|P)&&(ht[24+g|0]=48,b=m);if(or(u,b,P-b|0),!((I=I+4|0)>>>0<=X>>>0))break}w&&or(u,3875,1);e:if(!((0|k)<1|U>>>0<=I>>>0))for(;;){if(16+g>>>0<(b=go(n[I>>2],0,P))>>>0)for(;ht[0|(b=b+-1|0)]=48,16+g>>>0<b>>>0;);if(or(u,b,(0|k)<9?k:9),k=k+-9|0,U>>>0<=(I=I+4|0)>>>0)break e;if(!(0<(0|k)))break}Ir(u,48,k+9|0,9,0)}else{e:if(!((0|k)<0))for(T=W?U:I+4|0,m=16+g|8,X=16+g|9,P=I;;){if((0|X)==(0|(b=go(n[P>>2],0,X)))&&(ht[24+g|0]=48,b=m),(0|I)!=(0|P)){if(!(b>>>0<=16+g>>>0))for(;ht[0|(b=b+-1|0)]=48,16+g>>>0<b>>>0;);}else or(u,b,1),b=b+1|0,(0|k)<1&&!R||or(u,3875,1);if(or(u,H=b,(0|(b=X-b|0))<(0|k)?b:k),k=k-b|0,T>>>0<=(P=P+4|0)>>>0)break e;if(!(-1<(0|k)))break}Ir(u,48,k+18|0,18,0),or(u,ot,c-ot|0)}}return Ir(u,32,A,F,8192^f),V=560+g|0,0|((0|F)<(0|A)?A:F)},ft[12]=function(u,_){u|=0;var A=_|=0;_=n[_>>2]+15&-16,n[A>>2]=_+16,A=u,u=function(m,f,T,c){var p,g,v=0,b=0,I=0,P=0;return V=g=V-32|0,v=(P=v=2147483647&c)-1006698496|0,b=v=(p=b=I=T)>>>0<0?v+1|0:v,v=P-1140785152|0,(0|(v=I>>>0<0?v+1|0:v))==(0|b)&p>>>0<I>>>0|b>>>0<v>>>0?(v=c<<4|T>>>28,T=T<<4|f>>>28,(0|(I=f&=268435455))==134217728&1<=m>>>0|134217728<f>>>0?(v=v+1073741824|0,(m=T+1|0)>>>0<1&&(v=v+1|0),b=m):(v=v-(((b=T)>>>0<0)+-1073741824|0)|0,m|134217728^I||((m=b+(1&b)|0)>>>0<b>>>0&&(v=v+1|0),b=m))):(!I&(0|P)==2147418112?!(m|f):(0|P)==2147418112&I>>>0<0|P>>>0<2147418112)?(v=2146435072,((b=0)|P)==1140785151&4294967295<I>>>0|1140785151<P>>>0||(I=P>>>16)>>>(v=0)<15249||(function(w,R,F,k,H,U){var X,W,rt=0,ot=0;64&U?(R=31&(F=U-64|0),R=32<=(63&F)>>>0?(F=0,H>>>R):(F=H>>>R,((1<<R)-1&H)<<32-R|k>>>R),H=k=0):U&&(ot=H,rt=31&(W=64-U|0),W=32<=(63&W)>>>0?(ot=k<<rt,0):(ot=(1<<rt)-1&k>>>32-rt|ot<<rt,k<<rt),X=R,R=31&(rt=U),R=32<=(63&rt)>>>0?(rt=0,F>>>R):(rt=F>>>R,((1<<R)-1&F)<<32-R|X>>>R),R|=W,F=rt|ot,rt=k,k=31&U,k=32<=(63&U)>>>0?(ot=0,H>>>k):(ot=H>>>k,((1<<k)-1&H)<<32-k|rt>>>k),H=ot),n[w>>2]=R,n[4+w>>2]=F,n[8+w>>2]=k,n[12+w>>2]=H}(g,m,f,T,v=65535&c|65536,15361-I|0),function(w,R,F,k,H,U){var X,W,rt=0;64&U?(k=R,R=31&(H=U+-64|0),32<=(63&H)>>>0?(H=k<<R,k=0):(H=(1<<R)-1&k>>>32-R|F<<R,k<<=R),F=R=0):U&&(W=k,k=31&(X=U),W=32<=(63&U)>>>0?(rt=W<<k,0):(rt=(1<<k)-1&W>>>32-k|H<<k,W<<k),k=F,H=31&(U=64-U|0),32<=(63&U)>>>0?(U=0,k>>>=H):(U=k>>>H,k=((1<<H)-1&k)<<32-H|R>>>H),k|=W,H=U|rt,U=R,R=31&X,R=32<=(63&X)>>>0?(rt=U<<R,0):(rt=(1<<R)-1&U>>>32-R|F<<R,U<<R),F=rt),n[w>>2]=R,n[4+w>>2]=F,n[8+w>>2]=k,n[12+w>>2]=H}(16+g|0,m,f,T,v,I+-15233|0),T=n[4+g>>2],m=n[8+g>>2],v=n[12+g>>2]<<4|m>>>28,b=m<<4|T>>>28,(0|(T=m=268435455&T))==134217728&1<=(f=n[g>>2]|((n[16+g>>2]|n[24+g>>2])!=0|(n[20+g>>2]|n[28+g>>2])!=0))>>>0|134217728<m>>>0?((m=b+1|0)>>>0<1&&(v=v+1|0),b=m):f|134217728^T||((m=b+(1&b)|0)>>>0<b>>>0&&(v=v+1|0),b=m))):(b=T<<4|f>>>28,v=524287&(v=c<<4|T>>>28)|2146959360),V=32+g|0,Lt(0,0|b),Lt(1,-2147483648&c|v),+ji()}(n[_>>2],n[_+4>>2],n[_+8>>2],n[_+12>>2]),qt[A>>3]=u},ft[13]=function(u){return 0},ft[14]=function(u,_,A){_|=0,A|=0;var m,f,T=0,c=0,p=0,g=0;for(V=f=V-32|0,T=n[28+(u|=0)>>2],n[16+f>>2]=T,p=n[u+20>>2],n[28+f>>2]=A,n[24+f>>2]=_,p=(n[20+f>>2]=_=p-T|0)+A|0,g=2,_=16+f|0;;){e:{if((c=(T=0)|U_(n[u+60>>2],0|_,0|g,12+f|0))&&(n[2086]=c,T=-1),(0|(T=T?n[12+f>>2]=-1:n[12+f>>2]))==(0|p))_=n[u+44>>2],n[u+28>>2]=_,n[u+20>>2]=_,n[u+16>>2]=_+n[u+48>>2],u=A;else{if(-1<(0|T))break e;n[u+28>>2]=0,n[u+16>>2]=0,n[u+20>>2]=0,n[u>>2]=32|n[u>>2],((u=0)|g)!=2&&(u=A-n[_+4>>2]|0)}return V=32+f|0,0|u}c=n[_+4>>2],n[(_=(m=c>>>0<T>>>0)?_+8|0:_)>>2]=(c=T-(m?c:0)|0)+n[_>>2],n[_+4>>2]=n[_+4>>2]-c,p=p-T|0,g=g-m|0}},ft[15]=function(u,_,A,m){return Xi=0},{d:function(){},e:function(){return 83886080},f:function(){return 5},g:function(u,_){return _|=0,V=_=V-16|0,u=(u|=0)?s0(u)?(yt(4,2150,0),0):dt[u+4|0]:(n[_+4>>2]=1444,n[_>>2]=2267,yt(4,1294,_),0),V=_+16|0,0|u},h:function(u,_){var A;return _|=0,V=A=V-48|0,u=(u|=0)?(u+63&-64)!=(0|u)?(n[36+A>>2]=1522,n[32+A>>2]=2284,yt(4,1294,32+A|0),0):(_+63&-64)==(0|_)&&_?function(m,f){var T,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0,Bt=0,Wt=0;V=b=(T=p=V)-704&-64;e:if(f>>>0<=1343)yt(4,1235,0);else if(s0(m))yt(4,1469,0);else if(p=dt[0|(Bt=m+4|0)]){if(!(6<=p>>>0)){(rt=(0|!dt[m+5|0])==1)||(mn(Bt,1),Y(m- -64|0,4,160)),Vi(b- -64|0,0,640),r0(m,b- -64|0),p=m+f|0,f=n[b+64>>2];t:{r:{i:{if(5<=(W=dt[m+4|0])>>>0){if(f>>>0<m>>>0|p>>>0<f>>>0||(v=f+256|0)>>>0<m>>>0)break r;if(v>>>0<=p>>>0)break i;break r}if(f>>>0<m>>>0|p>>>0<f>>>0||(v=f+128|0)>>>0<m>>>0|p>>>0<v>>>0)break r}if(!((g=n[b+68>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<v>>>0||(g=g- -64|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(F=n[f>>2]))<0||(v=n[b+72>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=(c=v)+(v=F<<2)|0)>>>0<m>>>0|p>>>0<g>>>0||(P=n[b+76>>2])>>>0<m>>>0|p>>>0<P>>>0|P>>>0<g>>>0||(c=(F<<6)+P|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+80>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+84>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+88>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+92>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+96>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+100>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+4>>2]))<0||(v=n[b+104>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(I=(g=v)+(v=c<<2)|0)>>>0<m>>>0|p>>>0<I>>>0||(g=n[b+108>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<I>>>0||(c=g+(c<<6)|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+112>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+116>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+120>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+124>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+128>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+132>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+136>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+8>>2]))<0||(v=n[b+140>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=(k=c<<2)+v|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+144>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+k|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+148>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+k|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+156>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+k|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+160>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+k|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+164>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+k|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+12>>2]))<0||(v=n[b+172>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=(H=c<<2)+v|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+176>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+H|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+180>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+H|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+188>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=v+H|0)>>>0<m>>>0|p>>>0<c>>>0||(0|(g=n[f+16>>2]))<0||(v=n[b+192>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(I=(c=v)+(v=g<<2)|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+196>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+200>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+204>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+208>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+(g<<6)|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+212>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+216>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+220>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+228>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+232>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+236>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+240>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+244>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+v|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+248>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(c=c+g|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+252>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+256>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+260>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+264>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+268>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+272>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(0|(I=n[f+20>>2]))<0||(g=n[b+276>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(U=(c=g)+(g=I<<2)|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+280>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(I=c+(I<<6)|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+284>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+288>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+292>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+296>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+300>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+308>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+312>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+g|0)>>>0<m>>>0|p>>>0<I>>>0||(0|(U=n[f+24>>2]))<0||(c=n[b+336>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+(U<<2)|0)>>>0<m>>>0|p>>>0<I>>>0||(0|(U=n[f+28>>2]))<0||(c=n[b+340>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=(Tt=U<<2)+c|0)>>>0<m>>>0|p>>>0<I>>>0||(c=n[b+344>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(I=c+Tt|0)>>>0<m>>>0|p>>>0<I>>>0||(0|(U=n[f+32>>2]))<0||(c=n[b+356>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<I>>>0||(U=(I=U<<2)+c|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+360>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+364>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+368>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+372>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+376>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(c=n[b+380>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(U=c+I|0)>>>0<m>>>0|p>>>0<U>>>0||(0|(w=n[f+36>>2]))<0||(c=n[b+392>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<U>>>0||(w=(U=w<<2)+c|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+396>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+U|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+400>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+U|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+40>>2]))<0||(c=n[b+412>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+44>>2]))<0||(c=n[b+424>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+48>>2]))<0||(c=n[b+428>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=(R<<=2)+c|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+432>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+R|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+52>>2]))<0||(c=n[b+416>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=(R<<=2)+c|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+420>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+R|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+56>>2]))<0||(c=n[b+552>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+60>>2]))<0||(c=n[b+556>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+64>>2]))<0||(c=n[b+560>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<1)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+68>>2]))<0||(c=n[b+564>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+72>>2]))<0||(c=n[b+568>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(R=(w=c)+(c=R<<2)|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+572>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+576>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+580>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+584>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(w=c+w|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+76>>2]))<0||(c=n[b+588>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(R=(w=R<<2)+c|0)>>>0<m>>>0|p>>>0<R>>>0||(c=n[b+592>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(c=n[b+596>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<R>>>0||(w=c+w|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+80>>2]))<0||(c=n[b+600>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(X=(w=c)+(c=R<<2)|0)>>>0<m>>>0|p>>>0<X>>>0||(w=n[b+604>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<X>>>0||(R=w+(R<<6)|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+608>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+612>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+616>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+620>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+624>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+628>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(R=c+w|0)>>>0<m>>>0|p>>>0<R>>>0||(w=n[b+632>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<R>>>0||(w=c+w|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+84>>2]))<0||(c=n[b+636>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<2)|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+640>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+(R<<1)|0)>>>0<m>>>0|p>>>0<w>>>0||(0|(R=n[f+88>>2]))<0||(c=n[b+644>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(c=c+(R<<2)|0)>>>0<m>>>0|p>>>0<c>>>0)){if(!(W>>>0<2)&&((w=n[b+168>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<c>>>0||(c=w+k|0)>>>0<m>>>0|p>>>0<c>>>0||!(W>>>0<4)&&((w=n[b+324>>2])>>>0<m>>>0|p>>>0<w>>>0|w>>>0<c>>>0||(w=g+w|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+328>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+g|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+332>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(w=c+g|0)>>>0<m>>>0|p>>>0<w>>>0||(c=n[b+152>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<w>>>0||(k=c+k|0)>>>0<m>>>0|p>>>0<k>>>0||(c=n[b+184>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<k>>>0||(k=c+H|0)>>>0<m>>>0|p>>>0<k>>>0||(c=n[b+224>>2])>>>0<m>>>0|p>>>0<c>>>0|c>>>0<k>>>0||(c=c+v|0)>>>0<m>>>0|p>>>0<c>>>0||(0|(k=n[f+92>>2]))<0||(v=n[b+648>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(k=(c=k<<2)+v|0)>>>0<m>>>0|p>>>0<k>>>0||(v=n[b+652>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<k>>>0||(k=c+v|0)>>>0<m>>>0|p>>>0<k>>>0||(v=n[b+656>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<k>>>0||(c=c+v|0)>>>0<m>>>0|p>>>0<c>>>0||(0|(k=n[f+96>>2]))<0||(v=n[b+660>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(k=(c=k<<2)+v|0)>>>0<m>>>0|p>>>0<k>>>0||(v=n[b+664>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<k>>>0||(k=c+v|0)>>>0<m>>>0|p>>>0<k>>>0||(v=n[b+668>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<k>>>0||(c=c+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+304>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+316>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+320>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+100>>2]))<0||(v=n[b+436>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+440>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+444>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+104>>2]))<0||(v=n[b+448>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=v)+(v=c<<2)|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+452>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+456>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+460>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(g=n[b+464>>2])>>>0<m>>>0|p>>>0<g>>>0|g>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+108>>2]))<0||(v=n[b+480>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+484>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+488>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+112>>2]))<0||(v=n[b+504>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+508>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+512>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+116>>2]))<0||(v=n[b+528>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+(c<<2)|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+120>>2]))<0||(v=n[b+532>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+536>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+540>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+124>>2]))<0||(v=n[b+544>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=(c<<=2)+v|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+548>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=c+v|0)>>>0<m>>>0|p>>>0<c>>>0)))break r;if(W>>>0<5||!((v=n[b+348>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=v+Tt|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+352>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+Tt|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+384>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+I|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+388>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+I|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+404>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+U|0)>>>0<m>>>0|p>>>0<g>>>0||(v=n[b+408>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(g=v+U|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+128>>2]))<0||(v=n[b+468>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+472>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+476>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+132>>2]))<0||(v=n[b+492>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+496>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+500>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(g=g+v|0)>>>0<m>>>0|p>>>0<g>>>0||(0|(c=n[f+136>>2]))<0||(v=n[b+516>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<g>>>0||(c=(g=c<<2)+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+520>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(c=g+v|0)>>>0<m>>>0|p>>>0<c>>>0||(v=n[b+524>>2])>>>0<m>>>0|p>>>0<v>>>0|v>>>0<c>>>0||(v=g+v|0)>>>0<m>>>0)&&v>>>0<=p>>>0)break t}}yt(4,1760,0),mn(Bt,1),Y(m- -64|0,4,160);break e}rt||(z_(m),ht[m+5|0]=0,f=n[b+64>>2],F=n[f>>2],P=n[b+76>>2],W=dt[m+4|0]);t:{if((m=0)<(0|F)){for(;;){if(63<ws((m<<6)+P|0)>>>0)break t;if((0|F)==(0|(m=m+1|0)))break}if(c=f+48|0,(p=0)<(0|(m=n[f>>2]))){for(v=n[f+48>>2],g=n[b+80>>2];;){if((0|(P=n[g+(p<<2)>>2]))<0|(0|v)<=(0|P))break t;if((0|m)==(0|(p=p+1|0)))break}for(U=f+24|0,v=n[f+24>>2],I=n[b+88>>2],F=n[b+84>>2],p=0;;){if((g=n[(P=p<<2)+I>>2])&&((0|g)<0|(0|v)<(0|g)||(0|(P=n[P+F>>2]))<0|(0|v)<=(0|P)||(g=g+P|0)>>>31|(0|v)<(0|g)))break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+92>>2];;){if(1<nr[v+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+96>>2];;){if(1<nr[v+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+100>>2];;){if((0|(g=n[v+(p<<2)>>2]))<-1|(0|m)<=(0|g))break t;if((0|m)==(0|(p=p+1|0)))break}}else U=f+24|0}else U=f+24|0,c=f+48|0;if((m=0)<(0|(p=n[f+4>>2]))){for(v=n[b+108>>2];;){if(63<ws(v+(m<<6)|0)>>>0)break t;if((0|p)==(0|(m=m+1|0)))break}if(I=(v=n[f+48>>2])+-1|0,!(((p=0)|(m=n[f+4>>2]))<=0)){for(g=n[b+112>>2];;){if((0|(P=n[g+(p<<2)>>2]))<0|(0|v)<=(0|P))break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+116>>2];;){if(1<nr[v+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+120>>2];;){if(1<nr[v+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(v=n[f>>2],p=0,g=n[b+124>>2];;){if((0|(P=n[g+(p<<2)>>2]))<-1|(0|v)<=(0|P))break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+128>>2];;){if((0|(g=n[v+(p<<2)>>2]))<-1|(0|m)<=(0|g))break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,v=n[b+132>>2];;){if(1<nr[v+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(g=f+8|0,P=f+12|0,F=n[b+136>>2],p=0;;){if(1<(H=n[(k=p<<2)+v>>2])>>>0||(0|(k=n[F+k>>2]))<0|(0|k)>=n[(H-1|0?g:P)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}}}else I=n[c>>2]+-1|0;if((m=0)<(0|(p=n[f+8>>2]))){for(v=n[b+140>>2];;){if((0|(g=n[v+(m<<2)>>2]))<0|(0|I)<(0|g))break t;if((0|p)==(0|(m=m+1|0)))break}for(Tt=f+28|0,v=n[f+28>>2],F=n[b+148>>2],k=n[b+144>>2],m=0;;){if((g=n[(P=m<<2)+F>>2])&&((0|g)<0|(0|v)<(0|g)||(0|(P=n[P+k>>2]))<0|(0|v)<=(0|P)||(g=g+P|0)>>>31|(0|v)<(0|g)))break t;if((0|p)==(0|(m=m+1|0)))break}for(m=0,g=n[b+156>>2],P=n[b+164>>2],F=n[b+160>>2];;){if((0|(k=n[(v=m<<2)+F>>2]))<1||(0|(H=n[v+P>>2]))<1||(0|(v=n[g+v>>2]))<1|(0|v)!=(0|K(H+1|0,k+1|0)))break t;if((0|p)==(0|(m=m+1|0)))break}}else Tt=f+28|0;if((m=0)<(0|(g=n[f+12>>2]))){for(p=n[b+172>>2];;){if((0|(v=n[p+(m<<2)>>2]))<0|(0|I)<(0|v))break t;if((0|g)==(0|(m=m+1|0)))break}for(w=f+32|0,p=n[f+32>>2],I=n[b+180>>2],F=n[b+176>>2],m=0;;){if((v=n[(P=m<<2)+I>>2])&&((0|v)<0|(0|p)<(0|v)||(0|(P=n[P+F>>2]))<0|(0|p)<=(0|P)||(v=v+P|0)>>>31|(0|p)<(0|v)))break t;if((0|g)==(0|(m=m+1|0)))break}}else w=f+32|0;v=f+16|0;r:{i:{if(!(((m=0)|(p=n[f+16>>2]))<=0)){for(g=n[b+208>>2];;){if(63<ws(g+(m<<6)|0)>>>0)break t;if((0|p)==(0|(m=m+1|0)))break}if(!(((p=0)|(m=n[v>>2]))<=0)){for(g=n[c>>2],P=n[b+212>>2];;){if((0|(I=n[P+(p<<2)>>2]))<0|(0|g)<=(0|I))break t;if((0|m)==(0|(p=p+1|0)))break}for(Bt=f+36|0,g=n[f+36>>2],F=n[b+220>>2],k=n[b+216>>2],p=0;;){if((P=n[(I=p<<2)+F>>2])&&((0|P)<0|(0|g)<(0|P)||(0|(I=n[I+k>>2]))<0|(0|g)<=(0|I)||(P=P+I|0)>>>31|(0|g)<(0|P)))break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,g=n[b+228>>2];;){if(1<nr[g+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,g=n[b+232>>2];;){if(1<nr[g+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(g=n[f>>2],p=0,P=n[b+236>>2];;){if((0|(I=n[P+(p<<2)>>2]))<-1|(0|g)<=(0|I))break t;if((0|m)==(0|(p=p+1|0)))break}for(g=n[f+4>>2],p=0,P=n[b+240>>2];;){if((0|(I=n[P+(p<<2)>>2]))<-1|(0|g)<=(0|I))break t;if((0|m)==(0|(p=p+1|0)))break}for(g=n[b+244>>2],p=0;;){if(n[g+(p<<2)>>2]<0)break t;if((0|m)==(0|(p=p+1|0)))break}break i}}P=f+68|0,Bt=f+36|0;break r}for(g=n[b+252>>2],p=0;;){if(n[g+(p<<2)>>2]<0)break t;if((0|m)==(0|(p=p+1|0)))break}for(P=n[f+60>>2],p=0,I=n[b+256>>2];;){if((F=n[(F=p<<2)+I>>2]+(n[g+F>>2]<<1)|0)>>>31|(0|P)<(0|F))break t;if((0|m)==(0|(p=p+1|0)))break}for(g=n[f+64>>2],F=n[b+264>>2],k=n[b+260>>2],p=0;;){if((P=n[(I=p<<2)+F>>2])&&((0|P)<0|(0|g)<(0|P)||(0|(I=n[I+k>>2]))<0|(0|g)<=(0|I)||(P=P+I|0)>>>31|(0|g)<(0|P)))break t;if((0|m)==(0|(p=p+1|0)))break}for(P=f+68|0,g=n[f+68>>2],k=n[b+272>>2],H=n[b+268>>2],p=0;;){if((I=n[(F=p<<2)+k>>2])&&((0|I)<0|(0|g)<(0|I)||(0|(F=n[F+H>>2]))<0|(0|g)<=(0|F)||(I=I+F|0)>>>31|(0|g)<(0|I)))break t;if((0|m)==(0|(p=p+1|0)))break}}r:{i:{if(!(((m=0)|(p=n[f+20>>2]))<=0)){for(g=n[b+280>>2];;){if(63<ws(g+(m<<6)|0)>>>0)break t;if((0|p)==(0|(m=m+1|0)))break}if(!(((m=0)|(p=n[f+20>>2]))<=0)){for(g=n[b+296>>2];;){if(1<nr[g+(m<<2)>>2])break t;if((0|p)==(0|(m=m+1|0)))break}for(g=n[b+300>>2],m=0;;){if(n[g+(m<<2)>>2]<0)break t;if((0|p)==(0|(m=m+1|0)))break}break i}}m=n[f+52>>2];break r}for(m=n[f+52>>2],k=n[b+312>>2],H=n[b+308>>2],I=0;;){if((g=n[(F=I<<2)+k>>2])&&((0|g)<0|(0|m)<(0|g)||(0|(F=n[F+H>>2]))<0|(0|m)<=(0|F)||(g=g+F|0)>>>31|(0|m)<(0|g)))break t;if((0|p)==(0|(I=I+1|0)))break}}if(g=n[f+40>>2],(p=0)<(0|(I=n[f+8>>2])))for(F=n[b+344>>2],k=n[b+156>>2];;){if((H=n[(H=p<<2)+F>>2]+(n[k+H>>2]<<1)|0)>>>31|(0|g)<(0|H))break t;if((0|I)==(0|(p=p+1|0)))break}if((p=0)<(0|(I=n[w>>2]))){for(F=n[b+376>>2];;){if(1<nr[F+(p<<2)>>2])break t;if((0|I)==(0|(p=p+1|0)))break}for(p=0,F=n[b+380>>2];;){if(1<nr[F+(p<<2)>>2])break t;if((0|I)==(0|(p=p+1|0)))break}}if((p=0)<(0|(I=n[v>>2])))for(F=n[b+400>>2],k=n[b+252>>2];;){if((H=n[(H=p<<2)+F>>2]+(n[k+H>>2]<<1)|0)>>>31|(0|g)<(0|H))break t;if((0|I)==(0|(p=p+1|0)))break}if((p=0)<(0|(g=n[f+44>>2])))for(F=n[b+424>>2];;){if((0|(k=n[F+(p<<2)>>2]))<0|(0|m)<=(0|k))break t;if((0|g)==(0|(p=p+1|0)))break}if(1<=(0|(k=n[c>>2])))for(p=0,H=n[b+432>>2],R=n[b+428>>2];;){if((c=n[(F=p<<2)+H>>2])&&((0|c)<0|(0|g)<(0|c)||(0|(F=n[R+F>>2]))<0|(0|g)<=(0|F)||(c=c+F|0)>>>31|(0|g)<(0|c)))break t;if((0|k)==(0|(p=p+1|0)))break}if(1<=(0|m))for(g=n[f+56>>2],p=0,k=n[b+420>>2],H=n[b+416>>2];;){if((c=n[(F=p<<2)+k>>2])&&((0|c)<0|(0|g)<(0|c)||(0|(F=n[F+H>>2]))<0|(0|g)<=(0|F)||(c=c+F|0)>>>31|(0|g)<(0|c)))break t;if((0|(p=p+1|0))==(0|m))break}if((m=0)<(0|(p=n[P>>2])))for(g=n[b+564>>2];;){if((0|(P=n[g+(m<<2)>>2]))<-1|(0|I)<=(0|P))break t;if((0|p)==(0|(m=m+1|0)))break}if(m=n[f+76>>2],1<=(0|(P=n[f+72>>2])))for(p=0,I=n[b+572>>2],F=n[b+568>>2];;){if((g=n[(c=p<<2)+I>>2])&&((0|g)<0|(0|m)<(0|g)||(0|(c=n[c+F>>2]))<0|(0|m)<=(0|c)||(g=c+g|0)>>>31|(0|m)<(0|g)))break t;if((0|P)==(0|(p=p+1|0)))break}if((p=0)<(0|m)){for(g=n[b+588>>2];;){if(1<nr[g+(p<<2)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(c=n[b+592>>2],p=0;;){if(1<(F=n[(I=p<<2)+g>>2])>>>0||(0|(I=n[c+I>>2]))<0|(0|I)>=n[(F-1|0?v:f)>>2])break t;if((0|m)==(0|(p=p+1|0)))break}for(p=0,g=n[b+596>>2];;){if((0|(c=n[g+(p<<2)>>2]))<-1|(0|P)<=(0|c))break t;if((0|m)==(0|(p=p+1|0)))break}}r:{if(!(((m=0)|(I=n[f+80>>2]))<=0)){for(p=n[b+604>>2];;){if(63<ws(p+(m<<6)|0)>>>0)break t;if((0|I)==(0|(m=m+1|0)))break}if(!(((m=0)|(I=n[f+80>>2]))<=0)){for(p=n[f+48>>2],g=n[b+608>>2];;){if((0|(P=n[g+(m<<2)>>2]))<0|(0|p)<=(0|P))break t;if((0|I)==(0|(m=m+1|0)))break}for(k=n[f+88>>2],P=n[b+616>>2],c=n[b+612>>2],m=0;;){if((p=n[(g=m<<2)+P>>2])&&((0|p)<0|(0|k)<(0|p)||(0|(g=n[c+g>>2]))<0|(0|k)<=(0|g)||(p=p+g|0)>>>31|(0|k)<(0|p)))break t;if((0|I)==(0|(m=m+1|0)))break}for(v=n[v>>2],P=n[b+620>>2],m=0;;){if((0|(p=n[P+(m<<2)>>2]))<0|(0|v)<=(0|p))break t;if((0|I)==(0|(m=m+1|0)))break}for(c=n[b+624>>2],m=0;;){if((0|(p=n[c+(m<<2)>>2]))<0|(0|v)<=(0|p))break t;if((0|I)==(0|(m=m+1|0)))break}for(p=n[f+84>>2],F=n[b+632>>2],H=n[b+628>>2],m=0;;){if((g=n[(R=m<<2)+F>>2])&&((0|g)<0|(0|p)<(0|g)||(0|(R=n[R+H>>2]))<0|(0|p)<=(0|R)||(g=g+R|0)>>>31|(0|p)<(0|g)))break t;if((0|I)==(0|(m=m+1|0)))break}for(X=n[b+640>>2],p=n[b+252>>2],g=0;;){if(0<(0|(rt=n[(m=g<<2)+F>>2])))for(R=X+(n[m+H>>2]<<1)|0,Wt=n[p+(n[m+c>>2]<<2)>>2],ot=n[p+(n[m+P>>2]<<2)>>2],m=0;;){if((0|Wt)<=pn[R+(2|(Pt=m<<1))>>1]|(0|ot)<=pn[R+Pt>>1])break t;if(!((0|(m=m+2|0))<(0|rt)))break}if((0|I)==(0|(g=g+1|0)))break}break r}}v=n[f+16>>2],k=n[f+88>>2]}if(!((255&W)>>>0<2)){if((m=0)<(0|(F=n[f+8>>2])))for(p=n[b+168>>2];;){if(1<nr[p+(m<<2)>>2])break t;if((0|F)==(0|(m=m+1|0)))break}if(!((255&W)>>>0<4)){if(P=n[f+56>>2],1<=(0|(H=n[f+20>>2])))for(c=n[b+332>>2],R=n[b+328>>2],m=0;;){if((p=n[(g=m<<2)+c>>2])&&((0|p)<0|(0|P)<(0|p)||(0|(g=n[g+R>>2]))<0|(0|P)<=(0|g)||(p=p+g|0)>>>31|(0|P)<(0|p)))break t;if((0|H)==(0|(m=m+1|0)))break}if((0|(m=n[f+92>>2]))!=n[f+96>>2])break t;if(1<=(0|F))for(R=n[b+152>>2],p=0,X=n[b+148>>2];;){if((g=n[(c=p<<2)+X>>2])&&((0|g)<0|(0|m)<(0|g)||(0|(c=n[c+R>>2]))<0|(0|m)<=(0|c)||(g=c+g|0)>>>31|(0|m)<(0|g)))break t;if((0|F)==(0|(p=p+1|0)))break}if(1<=(0|(Wt=n[f+12>>2])))for(R=n[b+184>>2],p=0,X=n[b+180>>2];;){if((g=n[(c=p<<2)+X>>2])&&((0|g)<0|(0|m)<(0|g)||(0|(c=n[c+R>>2]))<0|(0|m)<=(0|c)||(g=c+g|0)>>>31|(0|m)<(0|g)))break t;if((0|Wt)==(0|(p=p+1|0)))break}if(1<=(0|v))for(R=n[b+224>>2],p=0,X=n[b+220>>2];;){if((g=n[(c=p<<2)+X>>2])&&((0|g)<0|(0|m)<(0|g)||(0|(c=n[c+R>>2]))<0|(0|m)<=(0|c)||(g=c+g|0)>>>31|(0|m)<(0|g)))break t;if((0|v)==(0|(p=p+1|0)))break}if((p=0)<(0|H)){for(g=n[b+304>>2];;){if(1<nr[g+(p<<2)>>2])break t;if((0|H)==(0|(p=p+1|0)))break}for(g=n[f+100>>2],X=n[b+320>>2],rt=n[b+316>>2],p=0;;){if((c=n[(R=p<<2)+X>>2])&&((0|c)<0|(0|g)<(0|c)||(0|(R=n[R+rt>>2]))<0|(0|g)<=(0|R)||(c=c+R|0)>>>31|(0|g)<(0|c)))break t;if((0|H)==(0|(p=p+1|0)))break}}else g=n[f+100>>2];if(1<=(0|g)){for(R=n[b+440>>2],p=0,rt=n[b+436>>2];;){if((c=n[(X=p<<2)+R>>2])&&((0|c)<0|(0|P)<(0|c)||(0|(X=n[X+rt>>2]))<0|(0|P)<=(0|X)||(c=c+X|0)>>>31|(0|P)<(0|c)))break t;if((0|g)==(0|(p=p+1|0)))break}for(P=n[b+444>>2],p=0;;){if((0|(X=n[(c=p<<2)+P>>2]))<0|(0|X)>=n[c+R>>2])break t;if((0|g)==(0|(p=p+1|0)))break}}if((P=0)<(0|(p=n[f+104>>2]))){for(c=n[b+448>>2];;){if((0|(R=n[c+(P<<2)>>2]))<0|(0|g)<=(0|R))break t;if((0|p)==(0|(P=P+1|0)))break}for(c=n[f+116>>2],X=n[b+464>>2],rt=n[b+460>>2],g=0;;){if((P=n[(R=g<<2)+X>>2])&&((0|P)<0|(0|c)<(0|P)||(0|(R=n[R+rt>>2]))<0|(0|c)<=(0|R)||(P=P+R|0)>>>31|(0|c)<(0|P)))break t;if((0|p)==(0|(g=g+1|0)))break}}else c=n[f+116>>2];if((g=0)<(0|(R=n[f+108>>2]))){for(P=n[b+480>>2];;){if((0|(X=n[P+(g<<2)>>2]))<0|(0|F)<=(0|X))break t;if((0|R)==(0|(g=g+1|0)))break}for(X=n[b+488>>2],ot=n[b+484>>2],g=0;;){if((P=n[(F=g<<2)+X>>2])&&((0|P)<0|(0|p)<(0|P)||(0|(F=n[F+ot>>2]))<0|(0|p)<=(0|F)||(P=P+F|0)>>>31|(0|p)<(0|P)))break t;if((0|R)==(0|(g=g+1|0)))break}for(X=n[Tt>>2],g=n[b+456>>2],F=n[b+452>>2],P=0;;){if(Pt=n[ot+(P<<2)>>2]<<2,(rt=n[Pt+g>>2])&&((0|rt)<0|(0|X)<(0|rt)||(0|(Pt=n[F+Pt>>2]))<0|(0|X)<=(0|Pt)||(0|(rt=rt+Pt|0))<0|(0|X)<(0|rt)))break t;if((0|R)==(0|(P=P+1|0)))break}}else g=n[b+456>>2],F=n[b+452>>2];if((P=0)<(0|(R=n[f+112>>2]))){for(X=n[b+504>>2];;){if((0|(rt=n[X+(P<<2)>>2]))<0|(0|v)<=(0|rt))break t;if((0|R)==(0|(P=P+1|0)))break}for(ot=n[b+512>>2],rt=n[b+508>>2],v=0;;){if((P=n[(X=v<<2)+ot>>2])&&((0|P)<0|(0|p)<(0|P)||(0|(X=n[X+rt>>2]))<0|(0|p)<=(0|X)||(P=P+X|0)>>>31|(0|p)<(0|P)))break t;if((0|R)==(0|(v=v+1|0)))break}for(P=n[Bt>>2],v=0;;){if(ot=n[rt+(v<<2)>>2]<<2,(X=n[ot+g>>2])&&((0|X)<0|(0|P)<(0|X)||(0|(ot=n[F+ot>>2]))<0|(0|P)<=(0|ot)||(0|(X=X+ot|0))<0|(0|P)<(0|X)))break t;if((0|R)==(0|(v=v+1|0)))break}}if(P=n[f+120>>2],(v=0)<(0|c))for(R=n[b+528>>2];;){if((0|(X=n[R+(v<<2)>>2]))<0|(0|P)<=(0|X))break t;if((0|(v=v+1|0))==(0|c))break}if((v=0)<(0|P)){for(c=n[b+532>>2];;){if((0|(R=n[c+(v<<2)>>2]))<-1|(0|H)<=(0|R))break t;if((0|P)==(0|(v=v+1|0)))break}for(c=n[f+124>>2],X=n[b+540>>2],rt=n[b+536>>2],v=0;;){if((H=n[(R=v<<2)+X>>2])&&((0|H)<0|(0|c)<(0|H)||(0|(R=n[R+rt>>2]))<0|(0|c)<=(0|R)||(H=R+H|0)>>>31|(0|c)<(0|H)))break t;if((0|P)==(0|(v=v+1|0)))break}}if(!((255&W)>>>0<5)){if((v=0)<(0|(W=n[Tt>>2]))){for(P=n[b+348>>2];;){if((0|(c=n[P+(v<<2)>>2]))<0|(0|m)<(0|c))break t;if((0|W)==(0|(v=v+1|0)))break}for(P=n[b+352>>2],v=0;;){if((0|(c=n[P+(v<<2)>>2]))<0|(0|m)<(0|c))break t;if((0|W)==(0|(v=v+1|0)))break}}if((W=0)<(0|(v=n[w>>2]))){for(P=n[b+384>>2];;){if((0|(c=n[P+(W<<2)>>2]))<0|(0|m)<(0|c))break t;if((0|v)==(0|(W=W+1|0)))break}for(P=n[b+388>>2],W=0;;){if((0|(c=n[P+(W<<2)>>2]))<0|(0|m)<(0|c))break t;if((0|v)==(0|(W=W+1|0)))break}}if((W=0)<(0|(P=n[Bt>>2]))){for(c=n[b+404>>2];;){if((0|(H=n[c+(W<<2)>>2]))<0|(0|m)<(0|H))break t;if((0|P)==(0|(W=W+1|0)))break}for(c=n[b+408>>2],W=0;;){if((0|(H=n[c+(W<<2)>>2]))<0|(0|m)<(0|H))break t;if((0|P)==(0|(W=W+1|0)))break}}if((m=0)<(0|(W=n[f+128>>2]))){for(P=n[f>>2],c=n[b+468>>2];;){if((0|(H=n[c+(m<<2)>>2]))<0|(0|P)<=(0|H))break t;if((0|W)==(0|(m=m+1|0)))break}for(Tt=n[b+476>>2],H=n[b+472>>2],m=0;;){if((P=n[(c=m<<2)+Tt>>2])&&((0|P)<0|(0|p)<(0|P)||(0|(c=n[c+H>>2]))<0|(0|p)<=(0|c)||(P=c+P|0)>>>31|(0|p)<(0|P)))break t;if((0|W)==(0|(m=m+1|0)))break}for(P=n[U>>2],m=0;;){if(U=n[H+(m<<2)>>2]<<2,(c=n[U+g>>2])&&((0|c)<0|(0|P)<(0|c)||(0|(U=n[F+U>>2]))<0|(0|P)<=(0|U)||(0|(c=c+U|0))<0|(0|P)<(0|c)))break t;if((0|W)==(0|(m=m+1|0)))break}}if((m=0)<(0|(W=n[f+132>>2]))){for(P=n[b+492>>2];;){if((0|(c=n[P+(m<<2)>>2]))<0|(0|Wt)<=(0|c))break t;if((0|W)==(0|(m=m+1|0)))break}for(U=n[b+500>>2],c=n[b+496>>2],m=0;;){if((P=n[(H=m<<2)+U>>2])&&((0|P)<0|(0|p)<(0|P)||(0|(H=n[c+H>>2]))<0|(0|p)<=(0|H)||(P=P+H|0)>>>31|(0|p)<(0|P)))break t;if((0|W)==(0|(m=m+1|0)))break}for(m=0;;){if(H=n[c+(m<<2)>>2]<<2,(P=n[H+g>>2])&&((0|P)<0|(0|v)<(0|P)||(0|(H=n[F+H>>2]))<0|(0|v)<=(0|H)||(0|(P=P+H|0))<0|(0|v)<(0|P)))break t;if((0|W)==(0|(m=m+1|0)))break}}if(!(((m=0)|(f=n[f+136>>2]))<=0)){for(v=n[b+516>>2];;){if((0|(W=n[v+(m<<2)>>2]))<0|(0|I)<=(0|W))break t;if((0|f)==(0|(m=m+1|0)))break}for(P=n[b+524>>2],v=n[b+520>>2],m=0;;){if((b=n[(W=m<<2)+P>>2])&&((0|b)<0|(0|p)<(0|b)||(0|(W=n[v+W>>2]))<0|(0|p)<=(0|W)||(b=b+W|0)>>>31|(0|p)<(0|b)))break t;if((0|f)==(0|(m=m+1|0)))break}for(m=0;;){if(b=n[v+(m<<2)>>2]<<2,(p=n[b+g>>2])&&((0|p)<0|(0|k)<(0|p)||(0|(b=n[b+F>>2]))<0|(0|k)<=(0|b)||(0|(p=p+b|0))<0|(0|k)<(0|p)))break t;if((0|f)==(0|(m=m+1|0)))break}}}}}return V=T,1}return yt(4,1846,0),V=T,0}n[b+52>>2]=p,n[b+48>>2]=5,yt(4,1640,b+48|0)}else n[b+32>>2]=p,yt(4,1554,b+32|0);return V=T,0}(u,_):(n[20+A>>2]=1621,n[16+A>>2]=2284,yt(4,1294,16+A|0),0):(n[4+A>>2]=1444,n[A>>2]=2284,yt(4,1294,A),0),V=48+A|0,0|u},i:function(u){n[1805]=u|=0},j:function(u,_){var A;return _|=0,V=A=V-48|0,u=(u|=0)?(u+63&-64)!=(0|u)?(n[36+A>>2]=1522,n[32+A>>2]=2305,yt(4,1294,32+A|0),0):(_+63&-64)==(0|_)&&_?function(m){var f,T,c,p,g=0,v=0,b=0,I=0,P=0,w=0,R=0,F=0;n[24+(V=f=V-32|0)>>2]=0,n[16+f>>2]=5,n[20+f>>2]=0,i1(16+(V=p=V-272|0)|0,2227,n[12+p>>2]=16+f|0),function(k){var H;n[(V=H=V-16|0)>>2]=k,function(U,X){var W;n[12+(V=W=V-16|0)>>2]=X,r1(U,1432,X,0,0),V=16+W|0}(n[970],H),V=16+H|0}(16+p|0),V=272+p|0;e:{if(s0(m))yt(4,1932,0);else{if(!(6<=(b=dt[m+4|0])>>>0)){if((0|!dt[m+5|0])!=1?(mn(m+4|0,1),Y(m- -64|0,4,160),r0(m,m+704|(ht[m+5|0]=0)),z_(m)):r0(m,m+704|0),dt[7224]||(n[1807]=6,ht[7224]=1,n[1808]=7,n[1809]=8,n[1810]=9),v=n[m+704>>2],1<=(0|(b=n[v+16>>2]))){for(F=(I=n[m+912>>2])+(b<<2)|0,P=n[m+908>>2];;){R=n[m+1204>>2]+(n[P>>2]<<2)|0;t:if(!(((v=0)|(g=(b=n[I>>2])+-1|0))<1))r:for(;;){for(;;){if(n[(w=R+(v<<2)|0)>>2]<=-1){if(function(k,H,U){var X=0,W=0;i:if((0|k)!=(0|H)){if(!(k>>>0<H+U>>>0&&H>>>0<(W=k+U|0)>>>0))return Ti(k,H,U);if(X=3&(k^H),k>>>0<H>>>0){if(!X){if(3&k)for(;;){if(!U)break i;if(ht[0|k]=dt[0|H],H=H+1|0,U=U+-1|0,!(3&(k=k+1|0)))break}if(!(U>>>0<=3)){for(X=U;n[k>>2]=n[H>>2],H=H+4|0,k=k+4|0,3<(X=X+-4|0)>>>0;);U&=3}}if(U)for(;ht[0|k]=dt[0|H],k=k+1|0,H=H+1|0,U=U+-1|0;);}else{if(!X){if(3&W)for(;;){if(!U)break i;if(ht[0|(X=(U=U+-1|0)+k|0)]=dt[H+U|0],!(3&X))break}if(!(U>>>0<=3))for(;n[(U=U+-4|0)+k>>2]=n[H+U>>2],3<U>>>0;);}if(U)for(;ht[(U=U+-1|0)+k|0]=dt[H+U|0],U;);}}}(w,w+4|0,(-1^v)+b<<2),(0|v)<(0|(g=(b=g)+-1|0)))continue r;break t}if(!((0|(v=v+1|0))<(0|g)))break}break}if(v=I,0<(0|b)&&(b=n[R+(g<<2)>>2]<0?g:b),n[v>>2]=b,P=P+4|0,!((I=I+4|0)>>>0<F>>>0))break}v=n[m+704>>2]}if(1<=n[v>>2])for(g=0;n[n[m+712>>2]+(g<<2)>>2]=n[m+716>>2]+(g<<6),v=n[m+704>>2],(0|(g=g+1|0))<n[v>>2];);if(1<=n[v+4>>2])for(g=0;n[n[m+744>>2]+(g<<2)>>2]=n[m+748>>2]+(g<<6),v=n[m+704>>2],(0|(g=g+1|0))<n[v+4>>2];);if(1<=n[v+16>>2])for(g=0;n[(b=g<<2)+n[m+832>>2]>>2]=n[m+848>>2]+(g<<6),n[b+n[m+836>>2]>>2]=n[m+1196>>2]+(n[b+n[m+896>>2]>>2]<<2),n[b+n[m+840>>2]>>2]=n[m+1200>>2]+(n[b+n[m+900>>2]>>2]<<1),n[b+n[m+844>>2]>>2]=n[m+1204>>2]+(n[b+n[m+908>>2]>>2]<<2),v=n[m+704>>2],(0|(g=g+1|0))<n[v+16>>2];);if(1<=n[v+20>>2])for(g=0;n[n[m+916>>2]+(g<<2)>>2]=n[m+920>>2]+(g<<6),v=n[m+704>>2],(0|(g=g+1|0))<n[v+20>>2];);if(1<=n[v+80>>2])for(g=0;n[n[m+1240>>2]+(g<<2)>>2]=n[m+1244>>2]+(g<<6),v=n[m+704>>2],(0|(g=g+1|0))<n[v+80>>2];);if(1&ht[n[m+708>>2]+20|0]||(0|(I=n[v+16>>2]))<1)break e;for(g=n[m+904>>2],R=n[m+900>>2],w=n[m+1200>>2],P=0;;){if(0<(0|(F=n[(b=P<<2)+g>>2]+-1|0)))for(T=w+(n[b+R>>2]<<1)|0,v=0;c=pn[(b=T+(v<<1)|0)>>1],_o[b>>1]=pn[b+4>>1],_o[b+4>>1]=c,(0|(v=v+3|0))<(0|F););if((0|I)==(0|(P=P+1|0)))break}for(b=n[m+892>>2],P=n[m+896>>2],R=n[m+1196>>2],g=0;;){if(1<=(0|(w=n[(v=g<<2)+b>>2])))for(w=(v=R+(n[v+P>>2]<<2)|0)+(w<<3)|0,v=v+4|0;D[v>>2]=x(1)-D[v>>2],(v=v+8|0)>>>0<w>>>0;);if((0|I)==(0|(g=g+1|0)))break}break e}n[4+f>>2]=b,n[f>>2]=5,yt(4,2023,f)}m=0}return V=32+f|0,m}(u):(n[20+A>>2]=1621,n[16+A>>2]=2305,yt(4,1294,16+A|0),0):(n[4+A>>2]=1444,n[A>>2]=2305,yt(4,1294,A),0),V=48+A|0,0|u},k:function(u,_,A,m){var f;_|=0,A|=0,m|=0,V=f=V+-64|0,(u|=0)?_?A?m?(u=n[n[u>>2]+708>>2],n[_>>2]=n[u+12>>2],n[_+4>>2]=n[u+16>>2],n[A>>2]=n[u+4>>2],n[A+4>>2]=n[u+8>>2],n[m>>2]=n[u>>2]):(n[52+f>>2]=1995,n[48+f>>2]=2325,yt(4,1294,48+f|0)):(n[36+f>>2]=1903,n[32+f>>2]=2325,yt(4,1294,32+f|0)):(n[20+f>>2]=1819,n[16+f>>2]=2325,yt(4,1294,16+f|0)):(n[4+f>>2]=1740,n[f>>2]=2325,yt(4,1294,f)),V=64+f|0},l:V_,m:X_,n:function(u){var _;V=_=V-16|0,(u|=0)?G_(u):(n[4+_>>2]=1740,n[_>>2]=2387,yt(4,1294,_)),V=16+_|0},o:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+540>>2]:(n[4+_>>2]=1740,n[_>>2]=2402,yt(4,1294,_),-1),V=16+_|0,0|u},p:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+916>>2]:(n[4+_>>2]=1740,n[_>>2]=2423,yt(4,1294,_),0),V=16+_|0,0|u},q:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+548>>2]:(n[4+_>>2]=1740,n[_>>2]=2442,yt(4,1294,_),0),V=16+_|0,0|u},r:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+928>>2]:(n[4+_>>2]=1740,n[_>>2]=2463,yt(4,1294,_),0),V=16+_|0,0|u},s:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+924>>2]:(n[4+_>>2]=1740,n[_>>2]=2492,yt(4,1294,_),0),V=16+_|0,0|u},t:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+932>>2]:(n[4+_>>2]=1740,n[_>>2]=2521,yt(4,1294,_),0),V=16+_|0,0|u},u:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+552>>2]:(n[4+_>>2]=1740,n[_>>2]=2550,yt(4,1294,_),0),V=16+_|0,0|u},v:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+4>>2]:(n[4+_>>2]=1740,n[_>>2]=2572,yt(4,1294,_),-1),V=16+_|0,0|u},w:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+712>>2]:(n[4+_>>2]=1740,n[_>>2]=2588,yt(4,1294,_),0),V=16+_|0,0|u},x:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+52>>2]:(n[4+_>>2]=1740,n[_>>2]=2602,yt(4,1294,_),0),V=16+_|0,0|u},y:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+740>>2]:(n[4+_>>2]=1740,n[_>>2]=2622,yt(4,1294,_),0),V=16+_|0,0|u},z:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+332>>2]:(n[4+_>>2]=1740,n[_>>2]=2650,yt(4,1294,_),-1),V=16+_|0,0|u},A:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+832>>2]:(n[4+_>>2]=1740,n[_>>2]=2670,yt(4,1294,_),0),V=16+_|0,0|u},B:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+888>>2]:(n[4+_>>2]=1740,n[_>>2]=2688,yt(4,1294,_),0),V=16+_|0,0|u},C:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+432>>2]:(n[4+_>>2]=1740,n[_>>2]=2716,yt(4,1294,_),0),V=16+_|0,0|u},D:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+884>>2]:(n[4+_>>2]=1740,n[_>>2]=2743,yt(4,1294,_),0),V=16+_|0,0|u},E:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+440>>2]:(n[4+_>>2]=1740,n[_>>2]=2772,yt(4,1294,_),0),V=16+_|0,0|u},F:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+436>>2]:(n[4+_>>2]=1740,n[_>>2]=2797,yt(4,1294,_),0),V=16+_|0,0|u},G:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+448>>2]:(n[4+_>>2]=1740,n[_>>2]=2824,yt(4,1294,_),0),V=16+_|0,0|u},H:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+912>>2]:(n[4+_>>2]=1740,n[_>>2]=2848,yt(4,1294,_),0),V=16+_|0,0|u},I:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+844>>2]:(n[4+_>>2]=1740,n[_>>2]=2873,yt(4,1294,_),0),V=16+_|0,0|u},J:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+892>>2]:(n[4+_>>2]=1740,n[_>>2]=2893,yt(4,1294,_),0),V=16+_|0,0|u},K:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+444>>2]:(n[4+_>>2]=1740,n[_>>2]=2920,yt(4,1294,_),0),V=16+_|0,0|u},L:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+836>>2]:(n[4+_>>2]=1740,n[_>>2]=2950,yt(4,1294,_),0),V=16+_|0,0|u},M:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+904>>2]:(n[4+_>>2]=1740,n[_>>2]=2974,yt(4,1294,_),0),V=16+_|0,0|u},N:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+840>>2]:(n[4+_>>2]=1740,n[_>>2]=3e3,yt(4,1294,_),0),V=16+_|0,0|u},O:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+452>>2]:(n[4+_>>2]=1740,n[_>>2]=3022,yt(4,1294,_),0),V=16+_|0,0|u},P:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+456>>2]:(n[4+_>>2]=1740,n[_>>2]=3051,yt(4,1294,_),0),V=16+_|0,0|u},Q:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[n[u>>2]+876>>2]:(n[4+_>>2]=1740,n[_>>2]=3078,yt(4,1294,_),0),V=16+_|0,0|u},R:function(u){var _;V=_=V-16|0,(u|=0)?n[u+428>>2]=1:(n[4+_>>2]=1740,n[_>>2]=3110,yt(4,1294,_)),V=16+_|0},S:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+640>>2]:(n[4+_>>2]=1740,n[_>>2]=3139,yt(4,1294,_),0),V=16+_|0,0|u},T:function(u){var _;return V=_=V-16|0,u=(u|=0)?n[u+636>>2]:(n[4+_>>2]=1740,n[_>>2]=3164,yt(4,1294,_),0),V=16+_|0,0|u},U:function(u){var _;return i0(12+(V=_=V-16|0)|0,64,u|=0),V=16+_|0,n[12+_>>2]},V:function(u){var _,A,m=0;return V=A=V-16|0,!(u|=0)||i0(12+A|0,16,_=V_(u))||(m=X_(u,n[12+A>>2],_))||(n0(n[12+A>>2]),m=0),V=16+A|0,0|m},W:function(u){return 0|a0(u|=0)},X:function(u){n0(u|=0)},Y:function(u){var _;i0(12+(V=_=V-16|0)|0,64,u|=0),n0(n[12+_>>2]),V=16+_|0},Z:function(){return 0|V},_:function(u){return 0|(V=V-(0|u)&-16)},$:function(u){V=0|u},aa:function(u){return 0|(u=0|(u|=0),(A=0|h1())<(u=A+(u|=0)|0)&&u<65536&&(u=new ArrayBuffer(K(u,65536)),(_=new jt.Int8Array(u)).set(ht),ht=_,ht=new jt.Int8Array(u),_o=new jt.Int16Array(u),n=new jt.Int32Array(u),dt=new jt.Uint8Array(u),pn=new jt.Uint16Array(u),nr=new jt.Uint32Array(u),D=new jt.Float32Array(u),qt=new jt.Float64Array(u),ze=u,Ta.buffer=u),A);var _,A},ba:function(u,_){ft[u|=0](_|=0)}};function yt(u,_,A){var m;V=m=V-272|0,nr[1804]>u>>>0||(u=n[1805])&&(i1(16+m|0,_,n[12+m>>2]=A),ft[u](16+m|0)),V=272+m|0}function or(u,_,A){32&dt[0|u]||function(m,f,T){var c=0,p=0,g=0;e:{if(!(c=n[T+16>>2])){if(function(v){var b;return b=dt[v+74|0],ht[v+74|0]=b+-1|b,8&(b=n[v>>2])?(n[v>>2]=32|b,1):(n[v+4>>2]=0,n[v+8>>2]=0,b=n[v+44>>2],n[v+28>>2]=b,n[v+20>>2]=b,n[v+16>>2]=b+n[v+48>>2],0)}(T))break e;c=n[T+16>>2]}if(c-(g=n[T+20>>2])>>>0<f>>>0)return ft[n[T+36>>2]](T,m,f);t:if(!(ht[T+75|0]<0)){for(c=f;;){if(!(p=c))break t;if(dt[(c=p+-1|0)+m|0]==10)break}if(ft[n[T+36>>2]](T,m,p)>>>0<p>>>0)break e;f=f-p|0,m=m+p|0,g=n[T+20>>2]}Ti(g,m,f),n[T+20>>2]=n[T+20>>2]+f}}(_,A,u)}function Ir(u,_,A,m,f){var T,c,p;if(V=p=V-256|0,!(73728&f|(0|A)<=(0|m))){if(Vi(p,_,(T=(f=A-m|0)>>>0<256)?f:256),_=u,c=p,!T){for(A=A-m|0;or(u,p,256),255<(f=f+-256|0)>>>0;);f=255&A}or(_,c,f)}V=256+p|0}function Ti(u,_,A){var m,f=0;if(8192<=A>>>0)B_(0|u,0|_,0|A);else{if(m=u+A|0,3&(u^_))if(m>>>0<4)A=u;else if((f=m-4|0)>>>0<u>>>0)A=u;else for(A=u;ht[0|A]=dt[0|_],ht[A+1|0]=dt[_+1|0],ht[A+2|0]=dt[_+2|0],ht[A+3|0]=dt[_+3|0],_=_+4|0,(A=A+4|0)>>>0<=f>>>0;);else{e:if((0|A)<1)A=u;else if(3&u)for(A=u;;){if(ht[0|A]=dt[0|_],_=_+1|0,m>>>0<=(A=A+1|0)>>>0)break e;if(!(3&A))break}else A=u;if(!((u=-4&m)>>>0<64||(f=u+-64|0)>>>0<A>>>0))for(;n[A>>2]=n[_>>2],n[A+4>>2]=n[_+4>>2],n[A+8>>2]=n[_+8>>2],n[A+12>>2]=n[_+12>>2],n[A+16>>2]=n[_+16>>2],n[A+20>>2]=n[_+20>>2],n[A+24>>2]=n[_+24>>2],n[A+28>>2]=n[_+28>>2],n[A+32>>2]=n[_+32>>2],n[A+36>>2]=n[_+36>>2],n[A+40>>2]=n[_+40>>2],n[A+44>>2]=n[_+44>>2],n[A+48>>2]=n[_+48>>2],n[A+52>>2]=n[_+52>>2],n[A+56>>2]=n[_+56>>2],n[A+60>>2]=n[_+60>>2],_=_- -64|0,(A=A- -64|0)>>>0<=f>>>0;);if(!(u>>>0<=A>>>0))for(;n[A>>2]=n[_>>2],_=_+4|0,(A=A+4|0)>>>0<u>>>0;);}if(A>>>0<m>>>0)for(;ht[0|A]=dt[0|_],_=_+1|0,(0|m)!=(0|(A=A+1|0)););}}function _n(u){var _,A;return x((_=u*u)*_*(A=_*u)*(2718311493989822e-21*_-.00019839334836096632)+(A*(.008333329385889463*_-.16666666641626524)+u))}function Ei(u){var _;return x(-.499999997251031*(u*=u)+1+.04166662332373906*(_=u*u)+u*_*(2439044879627741e-20*u-.001388676377460993))}function Vi(u,_,A){var m,f,T,c;if(A&&(ht[(m=u+A|0)-1|0]=_,ht[0|u]=_,!(A>>>0<3||(ht[m-2|0]=_,ht[u+1|0]=_,ht[m-3|0]=_,ht[u+2|0]=_,A>>>0<7)||(ht[m-4|0]=_,ht[u+3|0]=_,A>>>0<9)||(f=(m=0-u&3)+u|0,_=K(255&_,16843009),n[f>>2]=_,n[(m=(A=A-m&-4)+f|0)-4>>2]=_,A>>>0<9)||(n[8+f>>2]=_,n[4+f>>2]=_,n[m-8>>2]=_,n[m-12>>2]=_,A>>>0<25)||(n[24+f>>2]=_,n[20+f>>2]=_,n[16+f>>2]=_,n[12+f>>2]=_,n[m-16>>2]=_,n[m-20>>2]=_,n[m-24>>2]=_,n[m-28>>2]=_,(A=A-(c=4&f|24)|0)>>>0<32))))for(T=m=_,_=f+c|0;n[_+24>>2]=T,n[_+28>>2]=m,n[_+16>>2]=T,n[_+20>>2]=m,n[_+8>>2]=T,n[_+12>>2]=m,n[_>>2]=T,n[_+4>>2]=m,_=_+32|0,31<(A=A+-32|0)>>>0;);return u}function mn(u,_){var A;if(u>>>0<(_=(u+_|0)-1|0)>>>0)for(;A=dt[0|u],ht[0|u]=dt[0|_],ht[0|_]=A,(u=u+1|0)>>>0<(_=_+-1|0)>>>0;);}function Ea(u){var _,A=h1();return(u=(_=n[2216])+u|0)>>>0<=A<<16>>>0||H_(0|u)?(n[2216]=u,_):(n[2086]=48,-1)}function mo(u,_,A,m,f,T,c){var p,g,v,b,I,P,w,R,F,k,H=0,U=x(0),X=x(0),W=x(0);if(x(0),x(0),x(0),x(0),V=k=V-16|0,1<=(0|u))for(P=K(u,12)+_|0;;){if(1<=(0|(g=n[_+4>>2])))for(w=(u=n[_+8>>2])+K(g,48)|0,g=(p=n[_>>2]<<4)+c|0,v=(8|p)+c|0,p=(4|p)+c|0;(H=n[u+8>>2])&&((R=H+-1|0)>>>0<=1?(F=(n[u+4>>2]<<2)+A|0,H=n[F+(n[u+12>>2]<<2)>>2]<<2,U=D[H+T>>2],I=D[f+H>>2],X=D[m+H>>2],R-1?(W=X,X=D[u+20>>2],D[g>>2]=D[g>>2]+x(D[u+44>>2]*x(W*X)),D[p>>2]=D[p>>2]+x(x(I*X)*D[u+44>>2]),D[v>>2]=D[v>>2]+x(x(U*X)*D[u+44>>2])):(H=n[(n[u+16>>2]<<2)+F>>2]<<2,R=D[H+T>>2],F=D[f+H>>2],W=X,X=D[u+20>>2],b=D[u+24>>2],D[g>>2]=D[g>>2]+x(D[u+44>>2]*x(x(W*X)+x(D[m+H>>2]*b))),D[p>>2]=D[p>>2]+x(x(x(I*X)+x(F*b))*D[u+44>>2]),D[v>>2]=D[v>>2]+x(x(x(U*X)+x(R*b))*D[u+44>>2]))):(n[k>>2]=H,yt(4,1024,k))),(u=u+48|0)>>>0<w>>>0;);if(u=(n[_>>2]<<4)+c|0,U=D[u>>2],D[u>>2]=U<x(0)?x(0):x(ar(U,x(1))),U=D[u+4>>2],D[u+4>>2]=U<x(0)?x(0):x(ar(U,x(1))),U=D[u+8>>2],D[u+8>>2]=U<x(0)?x(0):x(ar(U,x(1))),!((_=_+12|0)>>>0<P>>>0))break}V=16+k|0}function go(u,_,A){var m,f,T=0;if((0|_)==1&u>>>0<0|_>>>0<1)T=u;else for(;m=l1(T=u1(u,_,10),f=Xi,10),ht[0|(A=A+-1|0)]=u-m|48,m=(0|_)==9&4294967295<u>>>0|9<_>>>0,u=T,_=f,m;);if(T)for(;ht[0|(A=A+-1|0)]=T-K(u=(T>>>0)/10|0,10)|48,_=9<T>>>0,T=u,_;);return A}function Ps(u){return u+-48>>>0<10}function ws(u){var _;return(_=n1(u,64))?_-u|0:64}function mu(u,_){var A=0;return 1024<=(0|_)?(u*=898846567431158e293,_=(0|(A=_+-1023|0))<1024?A:(u*=898846567431158e293,((0|_)<3069?_:3069)+-2046|0)):-1023<(0|_)||(u*=22250738585072014e-324,_=-1023<(0|(A=_+1022|0))?A:(u*=22250738585072014e-324,(-3066<(0|_)?_:-3066)+2044|0)),Lt(0,0),Lt(1,_+1023<<20),u*+ji()}function gu(u,_){var A=0,m=u,f=_>>>0<=31?(A=n[u+4>>2],n[u>>2]):(A=n[u>>2],n[u+4>>2]=A,_=_+-32|(n[u>>2]=0),0);n[m>>2]=f<<_,n[u+4>>2]=A<<_|f>>>32-_}function vu(u,_,A,m,f){var T,c=0,p=0,g=0;V=T=V-240|0,c=n[_>>2],n[232+T>>2]=c,_=n[_+4>>2],n[T>>2]=u,p=1;e:{t:{r:{if(((n[236+T>>2]=_)||(0|c)!=1)&&(c=u-n[(A<<2)+f>>2]|0,!((0|ft[5](c,u))<1))){for(g=!m;;){i:{if(_=c,!(!g|(0|A)<2)&&(m=n[((A<<2)+f|0)-8>>2],-1<(0|ft[5](c=u+-4|0,_))||-1<(0|ft[5](c-m|0,_))))break i;if(n[(p<<2)+T>>2]=_,p=p+1|0,yu(232+T|0,u=s1(232+T|0)),A=u+A|0,!n[236+T>>2]&&n[232+T>>2]==1)break t;if(g=1,c=(u=_)-n[(A<<2)+f>>2]|(m=0),0<(0|ft[5](c,n[T>>2])))continue;break r}break}_=u;break t}_=u}if(m)break e}o1(T,p),l0(_,A,f)}V=240+T|0}function yu(u,_){var A=0,m=u,f=_>>>0<=31?(A=n[u>>2],n[u+4>>2]):(A=n[u+4>>2],n[u+4>>2]=0,n[u>>2]=A,_=_+-32|0,0);n[m+4>>2]=f>>>_,n[u>>2]=f<<32-_|A>>>_}function r0(u,_){var A=dt[u+4|0];n[_>>2]=n[u+64>>2]+u,n[_+4>>2]=n[u+68>>2]+u,n[_+8>>2]=n[u+72>>2]+u,n[_+12>>2]=n[u+76>>2]+u,n[_+16>>2]=n[u+80>>2]+u,n[_+20>>2]=n[u+84>>2]+u,n[_+24>>2]=n[u+88>>2]+u,n[_+28>>2]=n[u+92>>2]+u,n[_+32>>2]=n[u+96>>2]+u,n[_+36>>2]=n[u+100>>2]+u,n[_+40>>2]=n[u+104>>2]+u,n[_+44>>2]=n[u+108>>2]+u,n[_+48>>2]=n[u+112>>2]+u,n[_+52>>2]=n[u+116>>2]+u,n[_+56>>2]=n[u+120>>2]+u,n[_+60>>2]=n[u+124>>2]+u,n[_- -64>>2]=n[u+128>>2]+u,n[_+68>>2]=n[u+132>>2]+u,n[_+72>>2]=n[u+136>>2]+u,n[_+76>>2]=n[u+140>>2]+u,n[_+80>>2]=n[u+144>>2]+u,n[_+84>>2]=n[u+148>>2]+u,n[_+92>>2]=n[u+152>>2]+u,n[_+96>>2]=n[u+156>>2]+u,n[_+100>>2]=n[u+160>>2]+u,n[_+108>>2]=n[u+164>>2]+u,n[_+112>>2]=n[u+168>>2]+u,n[_+116>>2]=n[u+172>>2]+u,n[_+124>>2]=n[u+176>>2]+u,n[_+128>>2]=n[u+180>>2]+u,n[_+132>>2]=n[u+184>>2]+u,n[_+136>>2]=n[u+188>>2]+u,n[_+140>>2]=n[u+192>>2]+u,n[_+144>>2]=n[u+196>>2]+u,n[_+148>>2]=n[u+200>>2]+u,n[_+152>>2]=n[u+204>>2]+u,n[_+156>>2]=n[u+208>>2]+u,n[_+164>>2]=n[u+212>>2]+u,n[_+168>>2]=n[u+216>>2]+u,n[_+172>>2]=n[u+220>>2]+u,n[_+176>>2]=n[u+224>>2]+u,n[_+180>>2]=n[u+228>>2]+u,n[_+184>>2]=n[u+232>>2]+u,n[_+188>>2]=n[u+236>>2]+u,n[_+192>>2]=n[u+240>>2]+u,n[_+196>>2]=n[u+244>>2]+u,n[_+200>>2]=n[u+248>>2]+u,n[_+204>>2]=n[u+252>>2]+u,n[_+208>>2]=n[u+256>>2]+u,n[_+212>>2]=n[u+260>>2]+u,n[_+216>>2]=n[u+264>>2]+u,n[_+220>>2]=n[u+268>>2]+u,n[_+224>>2]=n[u+272>>2]+u,n[_+228>>2]=n[u+276>>2]+u,n[_+232>>2]=n[u+280>>2]+u,n[_+236>>2]=n[u+284>>2]+u,n[_+244>>2]=n[u+288>>2]+u,n[_+248>>2]=n[u+292>>2]+u,n[_+272>>2]=n[u+296>>2]+u,n[_+276>>2]=n[u+300>>2]+u,n[_+280>>2]=n[u+304>>2]+u,n[_+292>>2]=n[u+308>>2]+u,n[_+296>>2]=n[u+312>>2]+u,n[_+300>>2]=n[u+316>>2]+u,n[_+304>>2]=n[u+320>>2]+u,n[_+308>>2]=n[u+324>>2]+u,n[_+312>>2]=n[u+328>>2]+u,n[_+316>>2]=n[u+332>>2]+u,n[_+328>>2]=n[u+336>>2]+u,n[_+332>>2]=n[u+340>>2]+u,n[_+336>>2]=n[u+344>>2]+u,n[_+348>>2]=n[u+348>>2]+u,n[_+360>>2]=n[u+352>>2]+u,n[_+364>>2]=n[u+356>>2]+u,n[_+368>>2]=n[u+360>>2]+u,n[_+352>>2]=n[u+364>>2]+u,n[_+356>>2]=n[u+368>>2]+u,n[_+488>>2]=n[u+372>>2]+u,n[_+492>>2]=n[u+376>>2]+u,n[_+496>>2]=n[u+380>>2]+u,n[_+500>>2]=n[u+384>>2]+u,n[_+504>>2]=n[u+388>>2]+u,n[_+508>>2]=n[u+392>>2]+u,n[_+512>>2]=n[u+396>>2]+u,n[_+516>>2]=n[u+400>>2]+u,n[_+520>>2]=n[u+404>>2]+u,n[_+524>>2]=n[u+408>>2]+u,n[_+528>>2]=n[u+412>>2]+u,n[_+532>>2]=n[u+416>>2]+u,n[_+536>>2]=n[u+420>>2]+u,n[_+540>>2]=n[u+424>>2]+u,n[_+544>>2]=n[u+428>>2]+u,n[_+548>>2]=n[u+432>>2]+u,n[_+552>>2]=n[u+436>>2]+u,n[_+556>>2]=n[u+440>>2]+u,n[_+560>>2]=n[u+444>>2]+u,n[_+564>>2]=n[u+448>>2]+u,n[_+568>>2]=n[u+452>>2]+u,n[_+572>>2]=n[u+456>>2]+u,n[_+576>>2]=n[u+460>>2]+u,n[_+580>>2]=n[u+464>>2]+u,A>>>0<2||(n[_+104>>2]=n[u+468>>2]+u,A>>>0<4)||(n[_+260>>2]=n[u+472>>2]+u,n[_+264>>2]=n[u+476>>2]+u,n[_+268>>2]=n[u+480>>2]+u,n[_+88>>2]=n[u+484>>2]+u,n[_+120>>2]=n[u+488>>2]+u,n[_+160>>2]=n[u+492>>2]+u,n[_+584>>2]=n[u+496>>2]+u,n[_+588>>2]=n[u+500>>2]+u,n[_+592>>2]=n[u+504>>2]+u,n[_+596>>2]=n[u+508>>2]+u,n[_+600>>2]=n[u+512>>2]+u,n[_+604>>2]=n[u+516>>2]+u,n[_+240>>2]=n[u+520>>2]+u,n[_+252>>2]=n[u+524>>2]+u,n[_+256>>2]=n[u+528>>2]+u,n[_+372>>2]=n[u+532>>2]+u,n[_+376>>2]=n[u+536>>2]+u,n[_+380>>2]=n[u+540>>2]+u,n[_+384>>2]=n[u+544>>2]+u,n[_+388>>2]=n[u+548>>2]+u,n[_+392>>2]=n[u+552>>2]+u,n[_+396>>2]=n[u+556>>2]+u,n[_+400>>2]=n[u+560>>2]+u,n[_+416>>2]=n[u+564>>2]+u,n[_+420>>2]=n[u+568>>2]+u,n[_+424>>2]=n[u+572>>2]+u,n[_+440>>2]=n[u+576>>2]+u,n[_+444>>2]=n[u+580>>2]+u,n[_+448>>2]=n[u+584>>2]+u,n[_+464>>2]=n[u+588>>2]+u,n[_+468>>2]=n[u+592>>2]+u,n[_+472>>2]=n[u+596>>2]+u,n[_+476>>2]=n[u+600>>2]+u,n[_+480>>2]=n[u+604>>2]+u,n[_+484>>2]=n[u+608>>2]+u,(0|A)!=4&&(n[_+284>>2]=n[u+612>>2]+u,n[_+288>>2]=n[u+616>>2]+u,n[_+320>>2]=n[u+620>>2]+u,n[_+324>>2]=n[u+624>>2]+u,n[_+340>>2]=n[u+628>>2]+u,n[_+344>>2]=n[u+632>>2]+u,n[_+404>>2]=n[u+636>>2]+u,n[_+408>>2]=n[u+640>>2]+u,n[_+412>>2]=n[u+644>>2]+u,n[_+428>>2]=n[u+648>>2]+u,n[_+432>>2]=n[u+652>>2]+u,n[_+436>>2]=n[u+656>>2]+u,n[_+452>>2]=n[u+660>>2]+u,n[_+456>>2]=n[u+664>>2]+u,n[_+460>>2]=n[u+668>>2]+u))}function i0(u,_,A){var m=0;e:{if((0|_)==8)_=a0(A);else{if(m=28,3&_|(0|function(f){for(var T=0,c=0;c=T,f;)f&=f-1,T=T+1|0;return c}(_>>>2))!=1||(m=48,-64-_>>>0<A>>>0))break e;_=function(f,T){var c,p,g=0,v=0,b=0;if((v=f>>>0>(g=16)?f:16)+-1&v)for(;g=(f=g)<<1,f>>>0<v>>>0;);else f=v;return-64-f>>>0<=T>>>0?(n[2086]=48,0):(g=a0(12+((v=T>>>0<11?16:T+11&-8)+f|0)|0))?(T=g+-8|0,g&f+-1?(b=(-8&(p=n[(c=g+-4|0)>>2]))-(g=(f=15<(g=((f+g|0)-1&0-f)-8|0)-T>>>0?g:f+g|0)-T|0)|0,3&p?(n[f+4>>2]=b|1&n[f+4>>2]|2,n[4+(b=f+b|0)>>2]=1|n[4+b>>2],n[c>>2]=g|1&n[c>>2]|2,n[f+4>>2]=1|n[f+4>>2],J_(T,g)):(T=n[T>>2],n[f+4>>2]=b,n[f>>2]=T+g)):f=T,3&(T=n[f+4>>2])&&((g=-8&T)>>>0<=v+16>>>0||(n[f+4>>2]=v|1&T|2,n[(T=f+v|0)+4>>2]=3|(v=g-v|0),n[4+(g=f+g|0)>>2]=1|n[g+4>>2],J_(T,v))),f+8|0):0}(16<_>>>0?_:16,A)}if(!_)return 1;n[u>>2]=_,m=0}return m}function n0(u){var _,A=0,m=0,f=0,T=0,c=0,p=0,g=0;e:if(u){_=(f=u+-8|0)+(u=-8&(m=n[u+-4>>2]))|0;t:if(!(1&m)){if(!(3&m)||(f=f-(m=n[f>>2])|0)>>>0<nr[2091])break e;if(u=u+m|0,n[2092]!=(0|f))if(m>>>0<=255)T=n[f+8>>2],m>>>=3,(0|(A=n[f+12>>2]))==(0|T)?(g=n[2087]&Br(m),n[2087]=g):(n[T+12>>2]=A,n[A+8>>2]=T);else{if(p=n[f+24>>2],(0|f)!=(0|(m=n[f+12>>2])))A=n[f+8>>2],n[A+12>>2]=m,n[m+8>>2]=A;else if(A=(A=n[(T=f+20|0)>>2])||n[(T=f+16|0)>>2]){for(;c=T,(A=n[(T=(m=A)+20|0)>>2])||(T=m+16|0,A=n[m+16>>2]););n[c>>2]=0}else m=0;if(p){T=n[f+28>>2];r:{if(n[(A=8652+(T<<2)|0)>>2]==(0|f)){if(n[A>>2]=m)break r;g=n[2088]&Br(T),n[2088]=g;break t}if(!(n[p+(n[p+16>>2]==(0|f)?16:20)>>2]=m))break t}n[m+24>>2]=p,(A=n[f+16>>2])&&(n[m+16>>2]=A,n[A+24>>2]=m),(A=n[f+20>>2])&&(n[m+20>>2]=A,n[A+24>>2]=m)}}else if((3&(m=n[4+_>>2]))==3)return n[2089]=u,n[4+_>>2]=-2&m,n[f+4>>2]=1|u,n[u+f>>2]=u}if(!(_>>>0<=f>>>0)&&1&(m=n[4+_>>2])){t:{if(!(2&m)){if(n[2093]==(0|_)){if(n[2093]=f,u=n[2090]+u|0,n[2090]=u,n[f+4>>2]=1|u,n[2092]!=(0|f))break e;return n[2089]=0,n[2092]=0}if(n[2092]==(0|_))return n[2092]=f,u=n[2089]+u|0,n[2089]=u,n[f+4>>2]=1|u,n[u+f>>2]=u;u=(-8&m)+u|0;r:if(m>>>0<=255)m>>>=3,(0|(A=n[8+_>>2]))==(0|(T=n[12+_>>2]))?(g=n[2087]&Br(m),n[2087]=g):(n[A+12>>2]=T,n[T+8>>2]=A);else{if(p=n[24+_>>2],(0|_)!=(0|(m=n[12+_>>2])))A=n[8+_>>2],n[A+12>>2]=m,n[m+8>>2]=A;else if(A=(A=n[(T=20+_|0)>>2])||n[(T=16+_|0)>>2]){for(;c=T,(A=n[(T=(m=A)+20|0)>>2])||(T=m+16|0,A=n[m+16>>2]););n[c>>2]=0}else m=0;if(p){T=n[28+_>>2];i:{if(n[(A=8652+(T<<2)|0)>>2]==(0|_)){if(n[A>>2]=m)break i;g=n[2088]&Br(T),n[2088]=g;break r}if(!(n[p+(n[p+16>>2]==(0|_)?16:20)>>2]=m))break r}n[m+24>>2]=p,(A=n[16+_>>2])&&(n[m+16>>2]=A,n[A+24>>2]=m),(A=n[20+_>>2])&&(n[m+20>>2]=A,n[A+24>>2]=m)}}if(n[f+4>>2]=1|u,n[u+f>>2]=u,n[2092]!=(0|f))break t;return n[2089]=u}n[4+_>>2]=-2&m,n[f+4>>2]=1|u,n[u+f>>2]=u}if(u>>>0<=255)return m=8388+((u>>>=3)<<3)|0,u=(A=n[2087])&(u=1<<u)?n[m+8>>2]:(n[2087]=u|A,m),n[m+8>>2]=f,n[u+12>>2]=f,n[f+12>>2]=m,n[f+8>>2]=u;n[f+16>>2]=0,A=n[f+20>>2]=0,(T=u>>>8)&&(A=31,16777215<u>>>0||(A=T,A=28+((A=((A=(A<<=T=T+1048320>>>16&8)<<(p=A+520192>>>16&4))<<(c=A+245760>>>16&2)>>>15)-(c|T|p)|0)<<1|u>>>A+21&1)|0)),c=8652+((n[(m=f)+28>>2]=A)<<2)|0;t:if((T=n[2088])&(m=1<<A)){T=u<<((0|A)==31?0:25-(A>>>1)|0),m=n[c>>2];r:{for(;;){if((-8&n[(A=m)+4>>2])==(0|u))break r;if(m=T>>>29,T<<=1,!(m=n[16+(c=A+(4&m)|0)>>2]))break}n[c+16>>2]=f,n[f+12>>2]=f,n[f+24>>2]=A,n[f+8>>2]=f;break t}u=n[A+8>>2],n[u+12>>2]=f,n[A+8>>2]=f,n[f+24>>2]=0,n[f+12>>2]=A,n[f+8>>2]=u}else n[2088]=m|T,n[c>>2]=f,n[f+12>>2]=f,n[f+24>>2]=c,n[f+8>>2]=f;if(u=n[2095]+-1|0,!(n[2095]=u)){for(f=8804;f=(u=n[f>>2])+8|0,u;);n[2095]=-1}}}}function a0(u){var _,A=0,m=0,f=0,T=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0;V=_=V-16|0;e:{t:{r:{i:{n:{o:{a:{c:{f:{l:{s:{if(u>>>0<=244){if(3&(A=(c=n[2087])>>>(u=(p=u>>>0<11?16:u+11&-8)>>>3))){u=(A=n[8396+(T=(m=u+(1&(-1^A))|0)<<3)>>2])+8|0,(0|(f=n[A+8>>2]))==(0|(T=T+8388|0))?(P=Br(m)&c,n[2087]=P):(n[f+12>>2]=T,n[T+8>>2]=f),n[A+4>>2]=3|(m<<=3),n[4+(A=A+m|0)>>2]=1|n[A+4>>2];break e}if(p>>>0<=(v=n[2089])>>>0)break s;if(A){m=A=(u=(0-(u=(0-(m=2<<u)|m)&A<<u)&u)-1|0)>>>12&16,A=n[8396+(f=(m=((m=(m|=A=(u>>>=A)>>>5&8)|(A=(u>>>=A)>>>2&4)|(A=(u>>>=A)>>>1&2))|(A=(u>>>=A)>>>1&1))+(u>>>A)|0)<<3)>>2],(0|(u=n[A+8>>2]))==(0|(f=f+8388|0))?(c=Br(m)&c,n[2087]=c):(n[u+12>>2]=f,n[f+8>>2]=u),u=A+8|0,n[A+4>>2]=3|p,n[4+(g=A+p|0)>>2]=1|(T=(m<<=3)-p|0),n[A+m>>2]=T,v&&(A=8388+((m=v>>>3)<<3)|0,f=n[2092],m=(m=1<<m)&c?n[A+8>>2]:(n[2087]=m|c,A),n[A+8>>2]=f,n[m+12>>2]=f,n[f+12>>2]=A,n[f+8>>2]=m),n[2092]=g,n[2089]=T;break e}if(!(I=n[2088]))break s;for(m=A=(u=(I&0-I)-1|0)>>>12&16,A=n[8652+(((m=(m|=A=(u>>>=A)>>>5&8)|(A=(u>>>=A)>>>2&4)|(A=(u>>>=A)>>>1&2))|(A=(u>>>=A)>>>1&1))+(u>>>A)<<2)>>2],f=(-8&n[A+4>>2])-p|0,m=A;u=(u=n[m+16>>2])||n[m+20>>2];)f=(m=(T=(-8&n[u+4>>2])-p|0)>>>0<f>>>0)?T:f,A=m?u:A,m=u;if(b=n[A+24>>2],(0|(T=n[A+12>>2]))!=(0|A)){u=n[A+8>>2],n[u+12>>2]=T,n[T+8>>2]=u;break t}if(!(u=n[(m=A+20|0)>>2])){if(!(u=n[A+16>>2]))break l;m=A+16|0}for(;g=m,(u=n[(m=(T=u)+20|0)>>2])||(m=T+16|0,u=n[T+16>>2]););n[g>>2]=0;break t}if(p=-1,!(4294967231<u>>>0)&&(p=-8&(A=u+11|0),v=n[2088])){m=0-p|0,c=0,(A>>>=8)&&(c=31,16777215<p>>>0||(c=28+((u=((c=(A<<=f=A+1048320>>>16&8)<<(u=A+520192>>>16&4))<<(A=c+245760>>>16&2)>>>15)-(A|u|f)|0)<<1|p>>>u+21&1)|0));d:{p:{if(f=n[8652+(c<<2)>>2])for(A=p<<((0|c)==31?0:25-(c>>>1)|0),u=0;;){if(!(m>>>0<=(g=(-8&n[f+4>>2])-p|0)>>>0||(T=f,m=g))){m=0,u=f;break p}if(g=n[f+20>>2],f=n[16+((A>>>29&4)+f|0)>>2],u=g&&(0|g)!=(0|f)?g:u,A<<=(0|f)!=0,!f)break}else u=0;if(!(u|T)){if(!(u=(0-(u=2<<c)|u)&v))break s;f=A=(u=(u&0-u)-1|0)>>>12&16,u=n[8652+(((f=(f|=A=(u>>>=A)>>>5&8)|(A=(u>>>=A)>>>2&4)|(A=(u>>>=A)>>>1&2))|(A=(u>>>=A)>>>1&1))+(u>>>A)<<2)>>2]}if(!u)break d}for(;m=(A=(f=(-8&n[u+4>>2])-p|0)>>>0<m>>>0)?f:m,T=A?u:T,u=(A=n[u+16>>2])||n[u+20>>2];);}if(!(!T|m>>>0>=n[2089]-p>>>0)){if(g=n[T+24>>2],(0|T)!=(0|(A=n[T+12>>2]))){u=n[T+8>>2],n[u+12>>2]=A,n[A+8>>2]=u;break r}if(!(u=n[(f=T+20|0)>>2])){if(!(u=n[T+16>>2]))break f;f=T+16|0}for(;c=f,(u=n[(f=(A=u)+20|0)>>2])||(f=A+16|0,u=n[A+16>>2]););n[c>>2]=0;break r}}}if(p>>>0<=(A=n[2089])>>>0){u=n[2092],16<=(m=A-p|0)>>>0?(n[2089]=m,n[2092]=f=u+p|0,n[f+4>>2]=1|m,n[u+A>>2]=m,n[u+4>>2]=3|p):(n[2092]=0,n[2089]=0,n[u+4>>2]=3|A,n[4+(A=u+A|0)>>2]=1|n[A+4>>2]),u=u+8|0;break e}if(p>>>0<(f=n[2090])>>>0){n[2090]=A=f-p|0,u=n[2093],n[2093]=m=u+p|0,n[m+4>>2]=1|A,n[u+4>>2]=3|p,u=u+8|0;break e}if((m=(c=(m=T=p+47|(u=0))+(A=n[2205]?n[2207]:(n[2208]=-1,n[2209]=-1,n[2206]=4096,n[2207]=4096,n[2205]=12+_&-16^1431655768,n[2210]=0,n[2198]=0,4096))|0)&(g=0-A|0))>>>0<=p>>>0||(A=n[2197])&&(b=(v=n[2195])+m|0)>>>0<=v>>>0|A>>>0<b>>>0)break e;if(4&dt[8792])break o;s:{d:{if(A=n[2093])for(u=8796;;){if((v=n[u>>2])+n[u+4>>2]>>>0>A>>>0&&v>>>0<=A>>>0)break d;if(!(u=n[u+8>>2]))break}if((0|(A=Ea(0)))==-1||(c=m,(c=(f=(u=n[2206])+-1|0)&A?(m-A|0)+(A+f&0-u)|0:c)>>>0<=p>>>0|2147483646<c>>>0)||(u=n[2197])&&(g=(f=n[2195])+c|0)>>>0<=f>>>0|u>>>0<g>>>0)break a;if((0|A)!=(0|(u=Ea(c))))break s;break n}if(2147483646<(c=g&c-f)>>>0)break a;if((0|(A=Ea(c)))==(n[u>>2]+n[u+4>>2]|0))break c;u=A}if(!(p+48>>>0<=c>>>0|2147483646<c>>>0|(0|(A=u))==-1)){if(2147483646<(u=(u=n[2207])+(T-c|0)&0-u)>>>0)break n;if((0|Ea(u))!=-1){c=u+c|0;break n}Ea(0-c|0);break a}if((0|A)!=-1)break n;break a}T=0;break t}A=0;break r}if((0|A)!=-1)break n}n[2198]=4|n[2198]}if(2147483646<m>>>0||(A=Ea(m),(u=Ea(0))>>>0<=A>>>0|(0|A)==-1|(0|u)==-1)||(c=u-A|0)>>>0<=p+40>>>0)break i}u=n[2195]+c|0,(n[2195]=u)>>>0>nr[2196]&&(n[2196]=u);n:{o:{a:{if(m=n[2093]){for(u=8796;;){if(((f=n[u>>2])+(T=n[u+4>>2])|0)==(0|A))break a;if(!(u=n[u+8>>2]))break}break o}for((u=n[2091])>>>0<=A>>>0&&u||(n[2091]=A),u=0,n[2200]=c,n[2199]=A,n[2095]=-1,n[2096]=n[2205],n[2202]=0;n[8396+(m=u<<3)>>2]=f=m+8388|0,n[m+8400>>2]=f,(0|(u=u+1|0))!=32;);n[2090]=f=(u=c+-40|0)-(m=A+8&7?-8-A&7:0)|0,n[2093]=m=A+m|0,n[m+4>>2]=1|f,n[4+(u+A|0)>>2]=40,n[2094]=n[2209];break n}if(!(8&dt[u+12|0]|A>>>0<=m>>>0|m>>>0<f>>>0)){n[u+4>>2]=T+c,n[2093]=A=(u=m+8&7?-8-m&7:0)+m|0,f=n[2090]+c|0,n[2090]=u=f-u|0,n[A+4>>2]=1|u,n[4+(m+f|0)>>2]=40,n[2094]=n[2209];break n}}A>>>0<(T=n[2091])>>>0&&(n[2091]=A,T=0),f=A+c|0,u=8796;o:{a:{c:{f:{l:{s:{for(;(0|f)!=n[u>>2];)if(!(u=n[u+8>>2]))break s;if(!(8&dt[u+12|0]))break l}for(u=8796;;){if((f=n[u>>2])>>>0<=m>>>0&&m>>>0<(T=f+n[u+4>>2]|0)>>>0)break f;u=n[u+8>>2]}}if(n[u>>2]=A,n[u+4>>2]=n[u+4>>2]+c,n[4+(b=(A+8&7?-8-A&7:0)+A|0)>>2]=3|p,u=((A=f+(f+8&7?-8-f&7:0)|0)-b|0)-p|0,g=p+b|0,(0|A)==(0|m)){n[2093]=g,u=n[2090]+u|0,n[2090]=u,n[g+4>>2]=1|u;break a}if(n[2092]==(0|A)){n[2092]=g,u=n[2089]+u|0,n[2089]=u,n[g+4>>2]=1|u,n[u+g>>2]=u;break a}if((3&(m=n[A+4>>2]))==1){I=-8&m;l:if(m>>>0<=255)T=m>>>3,m=n[A+8>>2],(0|(f=n[A+12>>2]))==(0|m)?(P=n[2087]&Br(T),n[2087]=P):(n[m+12>>2]=f,n[f+8>>2]=m);else{if(v=n[A+24>>2],(0|(c=n[A+12>>2]))!=(0|A))m=n[A+8>>2],n[m+12>>2]=c,n[c+8>>2]=m;else if(p=(p=n[(f=A+20|0)>>2])||n[(f=A+16|0)>>2]){for(;m=f,(p=n[(f=(c=p)+20|0)>>2])||(f=c+16|0,p=n[c+16>>2]););n[m>>2]=0}else c=0;if(v){m=n[A+28>>2];s:{if(n[(f=8652+(m<<2)|0)>>2]==(0|A)){if(n[f>>2]=c)break s;P=n[2088]&Br(m),n[2088]=P;break l}if(!(n[v+(n[v+16>>2]==(0|A)?16:20)>>2]=c))break l}n[c+24>>2]=v,(m=n[A+16>>2])&&(n[c+16>>2]=m,n[m+24>>2]=c),(m=n[A+20>>2])&&(n[c+20>>2]=m,n[m+24>>2]=c)}}A=A+I|0,u=u+I|0}if(n[A+4>>2]=-2&n[A+4>>2],n[g+4>>2]=1|u,(n[u+g>>2]=u)>>>0<=255){u=8388+((A=u>>>3)<<3)|0,A=(m=n[2087])&(A=1<<A)?n[u+8>>2]:(n[2087]=A|m,u),n[u+8>>2]=g,n[A+12>>2]=g,n[g+12>>2]=u,n[g+8>>2]=A;break a}if(A=0,(f=u>>>8)&&(A=31,16777215<u>>>0||(A=28+((A=((p=(f<<=T=f+1048320>>>16&8)<<(A=f+520192>>>16&4))<<(f=p+245760>>>16&2)>>>15)-(f|A|T)|0)<<1|u>>>A+21&1)|0)),n[(m=g)+28>>2]=A,n[g+16>>2]=0,m=8652+(A<<2)|(n[g+20>>2]=0),(f=n[2088])&(T=1<<A)){for(f=u<<((0|A)==31?0:25-(A>>>1)|0),A=n[m>>2];;){if((-8&n[(m=A)+4>>2])==(0|u))break c;if(A=f>>>29,f<<=1,!(A=n[16+(T=(4&A)+m|0)>>2]))break}n[T+16>>2]=g}else n[2088]=f|T,n[m>>2]=g;n[g+24>>2]=m,n[g+12>>2]=g,n[g+8>>2]=g;break a}for(n[2090]=g=(u=c+-40|0)-(f=A+8&7?-8-A&7:0)|0,n[2093]=f=A+f|0,n[f+4>>2]=1|g,n[4+(u+A|0)>>2]=40,n[2094]=n[2209],n[(f=(u=(T+(T+-39&7?39-T&7:0)|0)-47|0)>>>0<m+16>>>0?m:u)+4>>2]=27,u=n[2202],n[f+16>>2]=n[2201],n[f+20>>2]=u,u=n[2200],n[f+8>>2]=n[2199],n[f+12>>2]=u,n[2201]=f+8,n[2200]=c,n[2199]=A,u=f+24|(n[2202]=0);n[u+4>>2]=7,A=u+8|0,u=u+4|0,A>>>0<T>>>0;);if((0|m)==(0|f))break n;if(n[f+4>>2]=-2&n[f+4>>2],n[m+4>>2]=1|(T=f-m|0),(n[f>>2]=T)>>>0<=255){u=8388+((A=T>>>3)<<3)|0,A=(f=n[2087])&(A=1<<A)?n[u+8>>2]:(n[2087]=A|f,u),n[u+8>>2]=m,n[A+12>>2]=m,n[m+12>>2]=u,n[m+8>>2]=A;break n}if(n[m+16>>2]=0,u=n[m+20>>2]=0,(f=T>>>8)&&(u=31,16777215<T>>>0||(u=28+((u=((g=(f<<=c=f+1048320>>>16&8)<<(u=f+520192>>>16&4))<<(f=g+245760>>>16&2)>>>15)-(f|u|c)|0)<<1|T>>>u+21&1)|0)),A=8652+((n[(A=m)+28>>2]=u)<<2)|0,(f=n[2088])&(c=1<<u)){for(u=T<<((0|u)==31?0:25-(u>>>1)|0),A=n[A>>2];;){if((0|T)==(-8&n[(f=A)+4>>2]))break o;if(A=u>>>29,u<<=1,!(A=n[16+(c=f+(4&A)|0)>>2]))break}n[c+16>>2]=m,n[m+24>>2]=f}else n[2088]=f|c,n[A>>2]=m,n[m+24>>2]=A;n[m+12>>2]=m,n[m+8>>2]=m;break n}u=n[m+8>>2],n[u+12>>2]=g,n[m+8>>2]=g,n[g+24>>2]=0,n[g+12>>2]=m,n[g+8>>2]=u}u=b+8|0;break e}u=n[f+8>>2],n[u+12>>2]=m,n[f+8>>2]=m,n[m+24>>2]=0,n[m+12>>2]=f,n[m+8>>2]=u}if(!((u=n[2090])>>>0<=p>>>0)){n[2090]=A=u-p|0,u=n[2093],n[2093]=m=u+p|0,n[m+4>>2]=1|A,n[u+4>>2]=3|p,u=u+8|0;break e}}n[2086]=48,u=0;break e}r:if(g){u=n[T+28>>2];i:{if(n[(f=8652+(u<<2)|0)>>2]==(0|T)){if(n[f>>2]=A)break i;v=Br(u)&v,n[2088]=v;break r}if(!(n[g+(n[g+16>>2]==(0|T)?16:20)>>2]=A))break r}n[A+24>>2]=g,(u=n[T+16>>2])&&(n[A+16>>2]=u,n[u+24>>2]=A),(u=n[T+20>>2])&&(n[A+20>>2]=u,n[u+24>>2]=A)}r:if(m>>>0<=15)n[T+4>>2]=3|(u=m+p|0),n[4+(u=u+T|0)>>2]=1|n[u+4>>2];else if(n[T+4>>2]=3|p,n[4+(f=T+p|0)>>2]=1|m,(n[m+f>>2]=m)>>>0<=255)u=8388+((A=m>>>3)<<3)|0,A=(m=n[2087])&(A=1<<A)?n[u+8>>2]:(n[2087]=A|m,u),n[u+8>>2]=f,n[A+12>>2]=f,n[f+12>>2]=u,n[f+8>>2]=A;else{u=0,(p=m>>>8)&&(u=31,16777215<m>>>0||(u=28+((u=((g=(p<<=c=p+1048320>>>16&8)<<(u=p+520192>>>16&4))<<(p=g+245760>>>16&2)>>>15)-(p|u|c)|0)<<1|m>>>u+21&1)|0)),n[(A=f)+28>>2]=u,n[f+16>>2]=0,A=8652+(u<<2)|(n[f+20>>2]=0);i:{if((p=1<<u)&v){for(u=m<<((0|u)==31?0:25-(u>>>1)|0),p=n[A>>2];;){if((-8&n[(A=p)+4>>2])==(0|m))break i;if(p=u>>>29,u<<=1,!(p=n[16+(c=(4&p)+A|0)>>2]))break}n[c+16>>2]=f}else n[2088]=p|v,n[A>>2]=f;n[f+24>>2]=A,n[f+12>>2]=f,n[f+8>>2]=f;break r}u=n[A+8>>2],n[u+12>>2]=f,n[A+8>>2]=f,n[f+24>>2]=0,n[f+12>>2]=A,n[f+8>>2]=u}u=T+8|0;break e}t:if(b){u=n[A+28>>2];r:{if(n[(m=8652+(u<<2)|0)>>2]==(0|A)){if(n[m>>2]=T)break r;P=Br(u)&I,n[2088]=P;break t}if(!(n[b+(n[b+16>>2]==(0|A)?16:20)>>2]=T))break t}n[T+24>>2]=b,(u=n[A+16>>2])&&(n[T+16>>2]=u,n[u+24>>2]=T),(u=n[A+20>>2])&&(n[T+20>>2]=u,n[u+24>>2]=T)}f>>>0<=15?(n[A+4>>2]=3|(u=f+p|0),n[4+(u=u+A|0)>>2]=1|n[u+4>>2]):(n[A+4>>2]=3|p,n[4+(p=A+p|0)>>2]=1|f,n[f+p>>2]=f,v&&(u=8388+((m=v>>>3)<<3)|0,T=n[2092],m=(m=1<<m)&c?n[u+8>>2]:(n[2087]=m|c,u),n[u+8>>2]=T,n[m+12>>2]=T,n[T+12>>2]=u,n[T+8>>2]=m),n[2092]=p,n[2089]=f),u=A+8|0}return V=16+_|0,u}function o0(u,_,A,m,f,T,c){var p,g,v,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0,W=0,rt=0;n[76+(V=v=V-80|0)>>2]=_,g=55+v|0,p=56+v|0,_=0;e:{t:{r:for(;;){(0|U)<0||(U=(2147483647-U|0)<(0|_)?(n[2086]=61,-1):_+U|0);i:{n:{o:{a:{c:{f:{l:{s:{d:{p:{g:{v:{_:{if(w=n[76+v>>2],P=dt[0|(_=w)]){for(;;){y:{b:{u:if(b=255&P){if((0|b)!=37)break b;for(P=_;;){if(dt[_+1|0]!=37)break u;if(n[76+v>>2]=b=_+2|0,P=P+1|0,I=dt[_+2|0],_=b,(0|I)!=37)break}}else P=_;if(_=P-w|0,u&&or(u,w,_),_)continue r;X=-1,R=!Ps(ht[n[76+(b=v)>>2]+(P=1)|0]),_=n[76+v>>2],R|dt[_+2|0]!=36||(X=ht[_+1|0]+-48|0,W=1,P=3),n[b+76>>2]=_=P+_|0;u:if(31<(I=(k=ht[(P=0)|_])+-32|0)>>>0)b=_;else if(b=_,75913&(I=1<<I))for(;;){if(n[76+v>>2]=b=_+1|0,P|=I,31<(I=(k=ht[_+1|0])+-32|0)>>>0)break u;if(_=b,!(75913&(I=1<<I)))break}if((0|k)==42){if(R=v,Ps(ht[b+1|0])&&(_=n[76+v>>2],dt[_+2|0]==36))n[((ht[_+1|0]<<2)+f|0)-192>>2]=10,H=n[((ht[_+1|0]<<3)+m|0)-384>>2],W=1,_=_+3|0;else{if(W)break t;H=W=0,u&&(_=n[A>>2],n[A>>2]=_+4,H=n[_>>2]),_=n[76+v>>2]+1|0}n[R+76>>2]=_,-1<(0|H)||(H=0-H|0,P|=8192)}else{if((0|(H=e1(76+v|0)))<0)break t;_=n[76+v>>2]}if(I=-1,dt[0|_]==46)if(dt[_+1|0]==42)if(Ps(ht[_+2|0])&&(_=n[76+v>>2],dt[_+3|0]==36))n[((ht[_+2|0]<<2)+f|0)-192>>2]=10,I=n[((ht[_+2|0]<<3)+m|0)-384>>2],n[76+v>>2]=_=_+4|0;else{if(W)break t;I=u?(_=n[A>>2],n[A>>2]=_+4,n[_>>2]):0,_=n[76+v>>2]+2|0,n[76+v>>2]=_}else n[76+v>>2]=_+1,I=e1(76+v|0),_=n[76+v>>2];for(b=0;;){if(rt=b,F=-1,57<ht[0|_]+-65>>>0)break e;if(n[76+v>>2]=k=_+1|0,b=ht[0|_],_=k,!((b=dt[3295+(b+K(rt,58)|0)|0])+-1>>>0<8))break}if(!b)break e;u:{h:{m:{if((0|b)==19){if((0|X)<=-1)break m;break e}if((0|X)<0)break h;n[(X<<2)+f>>2]=b,b=n[4+(_=(X<<3)+m|0)>>2],n[64+v>>2]=n[_>>2],n[68+v>>2]=b}if(_=0,u)break u;continue r}if(!u)break i;t1(64+v|0,b,A,c),k=n[76+v>>2]}if(R=-65537&P,P=8192&P?R:P,X=3336,b=p,_=ht[k+-1|(F=0)],(k=(_=rt&&(15&_)==3?-33&_:_)+-88|0)>>>0<=32)break y;u:{h:{m:{x:{if(6<(R=_+-65|0)>>>0){if((0|_)!=83)break n;if(!I)break x;b=n[64+v>>2];break h}switch(R-1|0){case 1:break m;case 0:case 2:break n;default:break _}}Ir(u,32,H,_=0,P);break u}n[12+v>>2]=0,n[8+v>>2]=n[64+v>>2],n[64+v>>2]=8+v,I=-1,b=8+v|0}_=0;h:{for(;;){if(!(w=n[b>>2]))break h;if((R=(0|(w=Z_(4+v|0,w)))<0)|I-_>>>0<w>>>0)break;if(b=b+4|0,!((_=_+w|0)>>>0<I>>>0))break h}if(F=-1,R)break e}if(Ir(u,32,H,_,P),_)for(I=0,b=n[64+v>>2];;){if(!(w=n[b>>2])||(0|_)<(0|(I=(w=Z_(4+v|0,w))+I|0)))break u;if(or(u,4+v|0,w),b=b+4|0,!(I>>>0<_>>>0))break}else _=0}Ir(u,32,H,_,8192^P),_=(0|_)<(0|H)?H:_;continue r}n[76+v>>2]=b=_+1|0,P=dt[_+1|0],_=b;continue}break}switch(k-1|0){case 28:break c;case 21:break f;case 23:break s;case 22:break d;case 11:case 16:break p;case 10:break g;case 26:break v;case 8:case 12:case 13:case 14:break _;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break n;default:break l}}if(F=U,u)break e;if(!W)break i;for(_=1;;){if(u=n[(_<<2)+f>>2]){if(t1((_<<3)+m|0,u,A,c),(0|(_=_+(F=1)|0))!=10)continue;break e}break}if(F=1,9<_>>>0||(F=-1,n[(_<<2)+f>>2]))break e;for(;!n[((_=_+1|0)<<2)+f>>2]&&(0|_)!=10;);F=_>>>0<10?-1:1;break e}_=0|ft[T](u,qt[64+v>>3],H,I,P,_);continue}b=(_=n1(w=(_=n[64+v>>2])||3346,I))||I+w|0,P=R,I=_?_-w|0:I;break n}ht[55+v|0]=n[64+v>>2],I=1,w=g,P=R;break n}if(_=R=n[68+v>>2],w=n[64+v>>2],(0|_)<-1||(0|_)<=-1&&!(4294967295<w>>>0)){_=0-(_+(0<w>>>0)|0)|0,n[64+v>>2]=w=0-w|0,n[68+v>>2]=_,F=1,X=3336;break a}if(2048&P){F=1,X=3337;break a}X=(F=1&P)?3338:3336;break a}if(w=function(ot,Tt,Pt){if(ot|Tt)for(;ht[0|(Pt=Pt+-1|0)]=7&ot|48,(ot=(7&Tt)<<29|ot>>>3)|(Tt>>>=3););return Pt}(n[64+v>>2],n[68+v>>2],p),!(8&P))break o;I=(0|(_=p-w|0))<(0|I)?I:_+1|0;break o}I=8<I>>>0?I:8,P|=8,_=120}if(w=function(ot,Tt,Pt,Bt){if(ot|Tt)for(;ht[0|(Pt=Pt+-1|0)]=dt[3824+(15&ot)|0]|Bt,(ot=(15&Tt)<<28|ot>>>4)|(Tt>>>=4););return Pt}(n[64+v>>2],n[68+v>>2],p,32&_),!(8&P)|!(n[64+v>>2]|n[68+v>>2]))break o;X=3336+(_>>>4)|0,F=2;break o}if(7<(b=255&rt)>>>(_=0))continue;switch(b-1|0){default:case 0:n[n[64+v>>2]>>2]=U;continue;case 1:b=n[64+v>>2],n[b>>2]=U,n[b+4>>2]=U>>31;continue;case 2:_o[n[64+v>>2]>>1]=U;continue;case 3:ht[n[64+v>>2]]=U;continue;case 5:n[n[64+v>>2]>>2]=U;continue;case 4:continue;case 6:}b=n[64+v>>2],n[b>>2]=U,n[b+4>>2]=U>>31;continue}w=n[64+v>>2],_=n[68+v>>2],X=3336}w=go(w,_,p)}P=-1<(0|I)?-65537&P:P,I=!!((R=_=n[68+v>>2])|(k=n[64+v>>2]))|I?(0|(_=!(R|k)+(p-w|0)|0))<(0|I)?I:_:(w=p,0)}Ir(u,32,_=(0|H)<(0|(b=(I=(0|I)<(0|(R=b-w|0))?R:I)+F|0))?b:H,b,P),or(u,X,F),Ir(u,48,_,b,65536^P),Ir(u,48,I,R,0),or(u,w,R),Ir(u,32,_,b,8192^P);continue}break}F=0;break e}F=-1}return V=80+v|0,F}function s0(u){var _,A=0,T=0,f=0,m=0,f=4,T=1439;e:if(A=dt[0|u]){for(;!((0|(_=dt[0|T]))!=(0|A)||!(f=f+-1|0)|!_);)if(T=T+1|0,A=dt[u+1|0],u=u+1|0,!A)break e;m=A}return(255&m)-dt[0|T]|0}function l0(u,_,A){var m,f,T=0,c=0,p=0;n[(V=f=V-240|0)>>2]=u,c=1;e:if(!((0|_)<2))for(T=u;;){if(T=(m=T+-4|0)-n[((p=_+-2|0)<<2)+A>>2]|0,0<=(0|ft[5](u,T))&&-1<(0|ft[5](u,m))||(u=(c<<2)+f|0,0<=(0|ft[5](T,m))?(n[u>>2]=T,p=_+-1|0):T=n[u>>2]=m,c=c+1|0,(0|p)<2))break e;u=n[f>>2],_=p}o1(f,c),V=240+f|0}function G_(u){var _,A,m=0;if(x(0),function(f){var T,c;n[f+428>>2]&&(c=n[f+332>>2],Ti(n[f+460>>2],n[f+436>>2],T=c<<2),Ti(n[f+464>>2],n[f+440>>2],T),Ti(n[f+468>>2],n[f+448>>2],T),dt[n[f>>2]+4|0]<4||(Ti(n[f+472>>2],n[f+452>>2],T=c<<4),Ti(n[f+476>>2],n[f+456>>2],T)))}(u),function(f){var T,c,p,g=0,v=x(0),b=x(0),I=0,P=x(0);if(x(0),x(0),1<=(0|(I=n[f>>2])))for(p=(g=n[f+4>>2])+K(I,52)|0,f=n[f+12>>2];v=D[f>>2],D[g+44>>2]!=(v=(T=n[g+16>>2])?(b=v,v=D[g+4>>2],P=D[g+12>>2],b=x(x(b-v)/P),c=x(qc(b)),I=x(He(c))<x(2147483648)?~~c:-2147483648,x(v+x(P*x(b-x(0|I))))):(P=D[g+4>>2],b=D[g+8>>2],v<P?P:b<v?b:v))?(D[g+44>>2]=v,n[g+48>>2]=1):n[g+48>>2]=0,T||(D[f>>2]=v),f=f+4|0,(g=g+52|0)>>>0<p>>>0;);}(u+540|0),function(f){var T,c,p,g,v,b,I=0,P=0,w=x(0),R=0,F=x(0),k=(x(0),x(0),0),H=x(0),U=0,X=0,W=0;if(x(0),1<=(0|(R=n[f+540>>2])))for(v=(k=n[f+544>>2])+K(R,52)|0,b=n[f+644>>2];;){e:if(!(n[k>>2]||(0|(R=n[k+32>>2]))<1))if(p=(f=n[k+28>>2])+K(R,28)|0,g=D[k+24>>2],c=D[k+20>>2],T=D[k+44>>2],b)for(;;){H=x(X=0);t:{r:{i:{if((0|(P=n[f>>2]))<1)I=R=0;else if(U=n[f+4>>2],F=D[U>>2],w=x(F-c),(0|P)==1)R=T<x(c+F)^1|w<T^1,I=0;else{if(T<w){R=1,I=0;break r}if(R=0,T<x(c+F))I=0;else{if(I=1,w=D[U+4>>2],!(T<x(c+w)))for(;;){if((0|P)==(0|(I=I+1|0)))break i;if(F=w,w=D[U+(I<<2)>>2],T<x(c+w))break}x(w-c)<T||(I=I+-1|0,(w=x(w-F))<g)||(H=x(x(T-F)/w))}}if(R)break r;if(U=P=1,n[f+16>>2])break t;break r}I=P+-1|0,R=1}U=(P=(F=D[f+12>>2])!=H)&(H==x(0)|F==x(0))|n[f+8>>2]!=(0|I),X=R}if(n[f+20>>2]=U,n[f+24>>2]=P,D[f+12>>2]=H,n[f+16>>2]=X,n[f+8>>2]=I,!((f=f+28|0)>>>0<p>>>0))break}else{if(!n[k+48>>2]){for(;;)if(n[f+20>>2]=0,!((f=f+28|(n[f+24>>2]=0))>>>0<p>>>0))break e}for(;;){H=x(X=0);t:{r:{i:{n:if(!(((P=0)|(I=n[(U=f)>>2]))<1)){if(R=n[f+4>>2],F=D[R>>2],w=x(F-c),(0|I)!=1){if(!(T<w)){if(P=0,T<x(c+F))break n;P=1;o:if(w=D[R+4>>2],!(T<x(c+w))){for(I=I+-1|0;F=w,(0|I)!=(0|P);)if(w=D[R+((P=P+1|0)<<2)>>2],T<x(c+w))break o;R=1;break r}if(R=0,x(w-c)<T){I=P;break i}if(I=P+-1|0,(w=x(w-F))<g)break i;H=x(x(T-F)/w);break i}R=1,I=0;break r}P=T<x(c+F)^1|w<T^1}R=P,I=0}if(!R&&(W=P=1,n[f+16>>2]))break t}X=R,W=(P=(F=D[f+12>>2])!=H)&(H==x(0)|F==x(0))|n[f+8>>2]!=(0|I)}if(n[U+20>>2]=W,n[f+24>>2]=P,D[f+12>>2]=H,n[f+16>>2]=X,n[f+8>>2]=I,!((f=f+28|0)>>>0<p>>>0))break}}if(!((k=k+52|0)>>>0<v>>>0))break}}(u),function(f){var T,c,p,g,v,b=0,I=x(0),P=0,w=0,R=x(0),F=0,k=x(0);if(x(0),!(dt[n[f>>2]+4|0]<4||(0|(b=n[f+540>>2]))<1))for(g=(F=n[f+544>>2])+K(b,52)|0,v=n[f+644>>2];;){e:if(n[F>>2]==1&&!((0|(b=n[F+40>>2]))<1))if(c=(f=n[F+36>>2])+K(b,28)|0,T=D[F+44>>2],v)for(;;){k=x(b=0);t:if(!((0|(w=n[f>>2]))<2||(P=n[f+4>>2],T<=(I=D[P>>2])))){b=1;r:if(!(T<(R=D[P+4>>2]))){for(;I=R,(0|w)!=(0|(b=b+1|0));)if(T<(R=D[P+(b<<2)>>2]))break r;b=w+-1|0;break t}k=x(x(T-I)/x(R-I)),b=b+-1|0}if(I=D[f+16>>2],D[f+16>>2]=k,w=n[f+12>>2],n[f+12>>2]=b,n[f+24>>2]=P=I!=k,n[f+20>>2]=P&(k==x(0)|I==x(0))|(0|b)!=(0|w),!((f=f+28|0)>>>0<c>>>0))break}else{if(!n[F+48>>2]){for(;;)if(n[f+20>>2]=0,!((f=f+28|(n[f+24>>2]=0))>>>0<c>>>0))break e}for(;;){k=x(w=0);t:if(!((0|(p=n[f>>2]))<2||(P=n[f+4>>2],T<=(I=D[P>>2])))){if(b=1,!(T<(R=D[P+4>>2])))for(w=p+-1|0;;){if(I=R,(0|b)==(0|w))break t;if(T<(R=D[P+((b=b+1|0)<<2)>>2]))break}k=x(x(T-I)/x(R-I)),w=b+-1|0}if(I=D[f+16>>2],D[f+16>>2]=k,b=n[f+12>>2],n[f+12>>2]=w,n[f+24>>2]=P=I!=k,n[f+20>>2]=P&(k==x(0)|I==x(0))|(0|b)!=(0|w),!((f=f+28|0)>>>0<c>>>0))break}}if(!((F=F+52|0)>>>0<g>>>0))break}}(u),function(f){var T,c,p,g,v,b,I,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=x(0),W=0,rt=0,ot=0,Tt=0,Pt=0;if(1<=(0|(w=n[f+564>>2])))for(b=(k=n[f+568>>2])+K(w,36)|0,g=n[f+644>>2];;){e:{if(!(H=((R=F=w=0)|(c=n[k+4>>2]))<1))for(W=n[k>>2],f=Tt=0;;){if(P=n[W+(f<<2)>>2],n[P+16>>2]){P=1,Pt=0;break e}if(R=R||n[P+24>>2],w=w||n[P+20>>2],F=(D[P+12>>2]!=x(0))+F|0,(0|c)==(0|(f=f+1|0)))break}if(P=0,(Tt=g?1:R)|(Pt=g?1:w)&&(n[k+12>>2]=W=1<<F,(0|F)!=31)){for(w=n[k+20>>2],v=n[k>>2],R=(f=n[k+16>>2])+(U=W<<2)|0,R=Vi(f,0,4+((-1^f)+((f=f+4|0)>>>0<R>>>0?R:f)|0)&-4),U=w+U|0,f=w;n[f>>2]=1065353216,(f=f+4|0)>>>0<U>>>0;);if(!H){if(H=0,U=P=1,F)for(;;){if(F=n[(H<<2)+v>>2],rt=n[F+8>>2],ot=K(rt,P),(X=D[F+12>>2])!=x(f=0)){for(n[R>>2]=ot+n[R>>2],D[w>>2]=x(x(1)-X)*D[w>>2],rt=K(rt+(f=1)|0,P);X=D[F+12>>2],I=n[(p=(T=f<<2)+R|0)>>2],n[p>>2]=I+((p=f&U)?rt:ot),D[(T=w+T|0)>>2]=(p?X:x(x(1)-X))*D[T>>2],(0|W)!=(0|(f=f+1|0)););U<<=1}else for(;n[(rt=R+(f<<2)|0)>>2]=ot+n[rt>>2],(0|W)!=(0|(f=f+1|0)););if(P=K(n[F>>2],P),(0|c)==(0|(H=H+1|0)))break}else for(;;){if(F=n[(H<<2)+v>>2],U=K(n[F+8>>2],P),(X=D[F+12>>2])!=x(f=0))n[R>>2]=U+n[R>>2],D[w>>2]=x(x(1)-X)*D[w>>2];else for(;n[(ot=R+(f<<2)|0)>>2]=U+n[ot>>2],(0|W)!=(0|(f=f+1|0)););if(P=K(n[F>>2],P),(0|c)==(0|(H=H+1|0)))break}P=0}}}if(n[k+32>>2]=P,n[k+24>>2]=Pt,n[k+28>>2]=Tt,!((k=k+36|0)>>>0<b>>>0))break}}(u),function(f){var T,c,p,g,v=x(0),b=0,I=0,P=0,w=0,R=0,F=x(0),k=x(0),H=x(0),U=0,X=0,W=0;if(!(dt[n[f>>2]+4|0]<4||(0|(b=n[f+588>>2]))<1))for(g=(P=n[f+592>>2])+K(b,48)|0,T=n[f+644>>2];;){if(f=n[P>>2],(X=T?1:n[f+20>>2])|(W=T?1:n[f+24>>2])){e:{t:{R=P,w=n[f+8>>2],b=n[f+12>>2],v=D[f+16>>2],f=(0|w)!=(0|b);r:{if(v!=x(0)){if(f=b+1|0,(0|b)==(0|w)){n[P+8>>2]=X=1,v=x(x(1)-v),W=1;break r}f=(0|f)==(0|w)?1:2}if(n[R+8>>2]=f,!W)break t;f=b}D[P+24>>2]=v,D[P+20>>2]=x(1)-v;break e}W=0,f=b}X?(n[P+12>>2]=f,n[P+16>>2]=f+1):X=0}else X=W=0;e:if((0|(c=n[P+36>>2]))<1)H=x(1);else{if(p=n[P+40>>2],f=0,H=x(1),!T)for(;;){t:{r:{if(b=n[(f<<2)+p>>2],I=n[b>>2]){if(!n[I+48>>2]){v=D[b+16>>2];break t}if((0|(w=n[b+12>>2]))<1){v=x(1),D[b+16>>2]=1;break t}if(U=n[b+8>>2],(0|w)!=1&&(F=D[I+44>>2],R=n[b+4>>2],!(F<=(k=D[R>>2]))))break r;v=D[U>>2],D[b+16>>2]=v;break t}n[b+16>>2]=1065353216,v=x(1);break t}I=1;r:if(!(F<(v=D[R+4>>2]))){for(;k=v,(0|w)!=(0|(I=I+1|0));)if(F<(v=D[R+(I<<2)>>2]))break r;v=D[(U+(w<<2)|0)-4>>2],D[b+16>>2]=v;break t}R=b,v=x(x(F-k)/x(v-k)),v=x(x(v*D[(b=U+(I<<2)|0)>>2])+x(D[b+-4>>2]*x(x(1)-v))),D[R+16>>2]=v}if(H=H<v?H:v,(0|c)==(0|(f=f+1|0)))break e}for(;;){b=n[(f<<2)+p>>2],I=n[b>>2],v=x(1);t:if(I&&(U=n[b+12>>2],v=x(1),!((0|U)<1))&&(w=n[b+8>>2],v=D[w>>2],(0|U)!=1)){r:{if(F=D[I+44>>2],R=n[b+4>>2],F<=(k=D[R>>2])){v=D[w>>2];break t}if(I=1,!(F<(v=D[R+4>>2]))){for(;k=v,(0|U)!=(0|(I=I+1|0));)if(F<(v=D[R+(I<<2)>>2]))break r;v=D[(w+(U<<2)|0)-4>>2];break t}}v=x(x(F-k)/x(v-k)),v=x(x(v*D[(I=w+(I<<2)|0)>>2])+x(D[I+-4>>2]*x(x(1)-v)))}if(H=H<(D[b+16>>2]=v)?H:v,(0|c)==(0|(f=f+1|0)))break}}if(n[P+32>>2]=W,n[P+28>>2]=X,D[P+44>>2]=H,!((P=P+48|0)>>>0<g>>>0))break}}(u),1<=(0|(_=n[u+4>>2])))for(_=(m=n[u+52>>2])+(_<<2)|0;A=D[m>>2],D[m>>2]=A<x(0)?x(0):x(ar(A,x(1))),(m=m+4|0)>>>0<_>>>0;);(function(f){var T,c,p,g=0,v=0;if(1<=(0|(v=n[f+4>>2])))for(p=(g=n[f+8>>2])+K(v,12)|0,f=T=n[f+40>>2];v=0,n[g+8>>2]&&(c=n[g+4>>2],!n[(c<<2)+T>>2]&&(0|c)!=-1||(v=!n[n[g>>2]+32>>2])),n[f>>2]=v,f=f+4|0,(g=g+12|0)>>>0<p>>>0;);})(u),function(f){var T,c,p,g,v,b,I,P=0,w=0,R=0,F=0,k=0;if(1<=(0|(c=n[f+4>>2])))for(g=n[f+8>>2],p=n[f>>2],v=n[p+724>>2];;){if(T=n[K(F,12)+g>>2],(n[T+28>>2]||n[T+24>>2])&&(n[(P=F<<2)+n[f+28>>2]>>2]=n[T+12>>2],n[T+24>>2])&&!((0|(R=n[T+12>>2]))<1))for(R=(w=n[T+16>>2])+(R<<2)|0,b=n[P+v>>2],P=n[f+36>>2]+(k<<2)|0,I=n[p+976>>2];n[P>>2]=n[(n[w>>2]+b<<2)+I>>2],P=P+4|0,(w=w+4|0)>>>0<R>>>0;);if(n[T+28>>2]&&!((0|(P=n[T+12>>2]))<1))for(R=(w=n[T+20>>2])+(P<<2)|0,P=n[f+32>>2]+(k<<2)|0;n[P>>2]=n[w>>2],P=P+4|0,(w=w+4|0)>>>0<R>>>0;);if(k=n[T+8>>2]+k|0,(0|c)==(0|(F=F+1|0)))break}}(u),ft[n[1808]](u+12|0,n[u+36>>2],n[u+44>>2],n[u+40>>2]),function(f){var T,c,p,g,v,b,I=0,P=0,w=0;if(1<=(0|(w=n[f+304>>2])))for(p=(I=n[f+308>>2])+(w<<5)|0,g=n[f+264>>2],v=n[f+144>>2],b=n[f+40>>2],w=c=n[f+312>>2];T=w,P=0,f=P=!n[I+28>>2]||(0|(f=n[I+4>>2]))!=-1&&(P=0,!n[(f<<2)+b>>2])||(0|(f=n[I+8>>2]))!=-1&&(P=0,!n[(f<<2)+c>>2])?P:!n[n[I>>2]+32>>2],n[T>>2]=f,(T=n[I+12>>2])>>>0<=1?T-1?n[(n[I+16>>2]<<2)+v>>2]=f:n[(n[I+16>>2]<<2)+g>>2]=f:yt(4,1372,0),w=w+4|0,(I=I+32|0)>>>0<p>>>0;);}(u),function(f){var T,c,p,g,v,b,I,P,w,R=0,F=0,k=0,H=0,It=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0,Bt=0,Wt=0,It=n[f>>2];if(1<=(0|(W=n[f+56>>2]))){for(rt=n[f+60>>2],ot=n[It+1052>>2],Tt=n[It+784>>2];;){if(R=n[rt+K(U,24)>>2],(n[R+28>>2]||n[R+24>>2])&&(n[(F=U<<2)+n[f+80>>2]>>2]=n[R+12>>2],n[R+24>>2])&&!((0|(H=n[R+12>>2]))<1))for(Pt=(k=n[R+16>>2])+(H<<2)|0,Bt=n[F+Tt>>2],F=(H=X<<2)+n[f+92>>2]|0,H=H+n[f+88>>2]|0;Wt=Bt+n[k>>2]<<2,n[F>>2]=ot+(n[Wt+n[It+984>>2]>>2]<<2),n[H>>2]=n[Wt+n[It+980>>2]>>2],H=H+4|0,F=F+4|0,(k=k+4|0)>>>0<Pt>>>0;);if(n[R+28>>2]&&!((0|(F=n[R+12>>2]))<1))for(H=(k=n[R+20>>2])+(F<<2)|0,F=n[f+84>>2]+(X<<2)|0;n[F>>2]=n[k>>2],F=F+4|0,(k=k+4|0)>>>0<H>>>0;);if(X=n[R+8>>2]+X|0,(0|W)==(0|(U=U+1|0)))break}It=n[f>>2]}if(!(dt[It+4|0]<4||(0|(Bt=n[f+56>>2]))<1))for(Wt=n[It+792>>2],T=n[f+60>>2],k=X=0;;){if(U=n[K(k,24)+T>>2],n[U+24>>2]&&!((0|(R=n[U+12>>2]))<1))for(c=(F=n[U+16>>2])+(R<<2)|0,p=n[Wt+(k<<2)>>2],H=(R=X<<2)+n[f+96>>2]|0,W=R+n[f+100>>2]|0,rt=R+n[f+104>>2]|0,ot=R+n[f+108>>2]|0,Tt=R+n[f+112>>2]|0,Pt=R+n[f+116>>2]|0,g=n[It+1308>>2],v=n[It+1304>>2],b=n[It+1300>>2],I=n[It+1296>>2],P=n[It+1292>>2],w=n[It+1288>>2];R=n[F>>2]+p<<2,n[H>>2]=n[R+w>>2],n[W>>2]=n[R+P>>2],n[rt>>2]=n[R+I>>2],n[ot>>2]=n[R+b>>2],n[Tt>>2]=n[R+v>>2],n[Pt>>2]=n[R+g>>2],Pt=Pt+4|0,Tt=Tt+4|0,ot=ot+4|0,rt=rt+4|0,W=W+4|0,H=H+4|0,(F=F+4|0)>>>0<c>>>0;);if(X=n[U+8>>2]+X|0,(0|Bt)==(0|(k=k+1|0)))break}}(u),function(f){var T=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0,Bt=0,Wt=n[f+168>>2],It=n[f>>2];if(1<=(0|(H=n[f+164>>2])))for(X=n[It+816>>2];;){if(p=n[K(I,12)+Wt>>2],(n[p+28>>2]||n[p+24>>2])&&(n[(P=I<<2)+n[f+188>>2]>>2]=n[p+12>>2],n[p+24>>2])){if(c=n[p+16>>2],U=n[P+X>>2],1<=(0|(T=n[p+12>>2])))for(W=c+(T<<2)|0,g=(T=b<<2)+n[f+200>>2]|0,w=T+n[f+204>>2]|0,R=T+n[f+208>>2]|0,F=T+n[f+212>>2]|0,k=T+n[f+196>>2]|0,rt=n[It+996>>2],ot=n[It+1012>>2],Tt=n[It+1008>>2],Pt=n[It+1004>>2],Bt=n[It+1e3>>2],T=c;v=U+n[T>>2]<<2,n[g>>2]=n[v+Bt>>2],n[w>>2]=n[v+Pt>>2],n[R>>2]=n[v+Tt>>2],n[F>>2]=n[v+ot>>2],n[k>>2]=n[v+rt>>2],k=k+4|0,F=F+4|0,R=R+4|0,w=w+4|0,g=g+4|0,(T=T+4|0)>>>0<W>>>0;);T=U+n[c>>2]<<2,n[P+n[f+288>>2]>>2]=n[T+n[It+1016>>2]>>2],n[P+n[f+292>>2]>>2]=n[T+n[It+1020>>2]>>2]}if(n[p+28>>2]&&!((0|(c=n[p+12>>2]))<1))for(c=(T=n[p+20>>2])+(c<<2)|0,g=n[f+192>>2]+(b<<2)|0;n[g>>2]=n[T>>2],g=g+4|0,(T=T+4|0)>>>0<c>>>0;);if(b=n[p+8>>2]+b|0,(0|H)==(0|(I=I+1|0)))break}if(!(dt[It+4|0]<4||(0|(P=n[f+164>>2]))<1))for(U=n[It+824>>2],b=p=0;;){if(v=n[K(b,12)+Wt>>2],n[v+24>>2]&&!((0|(T=n[v+12>>2]))<1))for(H=(g=n[v+16>>2])+(T<<2)|0,X=n[U+(b<<2)>>2],w=(c=p<<2)+n[f+216>>2]|0,R=c+n[f+220>>2]|0,F=c+n[f+224>>2]|0,k=c+n[f+228>>2]|0,T=c+n[f+232>>2]|0,I=c+n[f+236>>2]|0,W=n[It+1308>>2],rt=n[It+1304>>2],ot=n[It+1300>>2],Tt=n[It+1296>>2],Pt=n[It+1292>>2],Bt=n[It+1288>>2];c=X+n[g>>2]<<2,n[w>>2]=n[c+Bt>>2],n[R>>2]=n[c+Pt>>2],n[F>>2]=n[c+Tt>>2],n[k>>2]=n[c+ot>>2],n[T>>2]=n[c+rt>>2],n[I>>2]=n[c+W>>2],I=I+4|0,T=T+4|0,k=k+4|0,F=F+4|0,R=R+4|0,w=w+4|0,(g=g+4|0)>>>0<H>>>0;);if(p=n[v+8>>2]+p|0,(0|P)==(0|(b=b+1|0)))break}}(u),function(f){var T,w=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=f- -64|0;if(ft[n[1807]](w,n[f+88>>2],n[f+148>>2],n[f+144>>2]),ft[n[1809]](w,n[f+92>>2],n[f+152>>2],n[n[f>>2]+796>>2],2,n[f+144>>2]),!(dt[n[f>>2]+4|0]<4||(ft[n[1807]](w,n[f+96>>2],n[f+120>>2],n[f+144>>2]),ft[n[1807]](w,n[f+100>>2],n[f+124>>2],n[f+144>>2]),ft[n[1807]](w,n[f+104>>2],n[f+128>>2],n[f+144>>2]),ft[n[1807]](w,n[f+108>>2],n[f+132>>2],n[f+144>>2]),ft[n[1807]](w,n[f+112>>2],n[f+136>>2],n[f+144>>2]),ft[n[1807]](w,n[f+116>>2],n[f+140>>2],n[f+144>>2]),(0|(b=n[f+56>>2]))<1))){for(I=n[f+128>>2],P=n[f+124>>2],T=n[f+120>>2],c=n[f+156>>2],w=0;n[(p=g<<2)+c>>2]=n[(v=w<<2)+T>>2],n[c+(4|p)>>2]=n[v+P>>2],n[c+(8|p)>>2]=n[v+I>>2],g=g+4|0,(0|b)!=(0|(w=w+1|0)););for(c=n[f+160>>2],v=n[f+140>>2],I=n[f+136>>2],P=n[f+132>>2],w=f=0;n[(g=f<<2)+c>>2]=n[(p=w<<2)+P>>2],n[c+(4|g)>>2]=n[p+I>>2],n[c+(8|g)>>2]=n[p+v>>2],f=f+4|0,(0|b)!=(0|(w=w+1|0)););}}(u),function(f){var T,w=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=f+172|0;if(ft[n[1807]](w,n[f+196>>2],n[f+268>>2],n[f+264>>2]),ft[n[1807]](w,n[f+200>>2],n[f+284>>2],n[f+264>>2]),ft[n[1807]](w,n[f+204>>2],n[f+276>>2],n[f+264>>2]),ft[n[1807]](w,n[f+208>>2],n[f+280>>2],n[f+264>>2]),ft[n[1807]](w,n[f+212>>2],n[f+272>>2],n[f+264>>2]),!(dt[n[f>>2]+4|0]<4||(ft[n[1807]](w,n[f+216>>2],n[f+240>>2],n[f+264>>2]),ft[n[1807]](w,n[f+220>>2],n[f+244>>2],n[f+264>>2]),ft[n[1807]](w,n[f+224>>2],n[f+248>>2],n[f+264>>2]),ft[n[1807]](w,n[f+228>>2],n[f+252>>2],n[f+264>>2]),ft[n[1807]](w,n[f+232>>2],n[f+256>>2],n[f+264>>2]),ft[n[1807]](w,n[f+236>>2],n[f+260>>2],n[f+264>>2]),(0|(b=n[f+164>>2]))<1))){for(I=n[f+248>>2],P=n[f+244>>2],T=n[f+240>>2],c=n[f+296>>2],w=0;n[(p=g<<2)+c>>2]=n[(v=w<<2)+T>>2],n[c+(4|p)>>2]=n[v+P>>2],n[c+(8|p)>>2]=n[v+I>>2],g=g+4|0,(0|b)!=(0|(w=w+1|0)););for(c=n[f+300>>2],v=n[f+260>>2],I=n[f+256>>2],P=n[f+252>>2],w=f=0;n[(g=f<<2)+c>>2]=n[(p=w<<2)+P>>2],n[c+(4|g)>>2]=n[p+I>>2],n[c+(8|g)>>2]=n[p+v>>2],f=f+4|0,(0|b)!=(0|(w=w+1|0)););}}(u),function(f){var T,c,p,g=0,v=0,b=0;if(1<=(0|(v=n[f+332>>2])))for(T=(g=n[f+336>>2])+K(v,20)|0,c=n[f+312>>2],p=n[f+40>>2],f=n[f+424>>2];v=0,n[g+12>>2]&&(b=n[g+4>>2],n[(b<<2)+p>>2]||(0|b)==-1)&&(b=n[g+8>>2],n[(b<<2)+c>>2]||(0|b)==-1)&&(v=!n[n[g>>2]+32>>2]),n[f>>2]=v,f=f+4|0,(g=g+20|0)>>>0<T>>>0;);}(u),function(f){var T,c,p,g,v,b,I,P,w=0,R=0,F=0,It=0,k=0,H=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0,Bt=0,Wt=0,It=n[f>>2];if(1<=(0|(rt=n[f+332>>2]))){for(ot=n[f+336>>2],Tt=n[It+1052>>2],Pt=n[It+856>>2];;){if(w=n[ot+K(U,20)>>2],(n[w+28>>2]||n[w+24>>2])&&(n[(R=U<<2)+n[f+356>>2]>>2]=n[w+12>>2],n[w+24>>2])&&!((0|(k=n[w+12>>2]))<1))for(Bt=(F=n[w+16>>2])+(k<<2)|0,Wt=n[R+Pt>>2],R=(H=X<<2)+n[f+372>>2]|0,k=H+n[f+364>>2]|0,H=H+n[f+368>>2]|0;W=Wt+n[F>>2]<<2,n[R>>2]=Tt+(n[W+n[It+1040>>2]>>2]<<2),n[k>>2]=n[W+n[It+1032>>2]>>2],n[H>>2]=n[W+n[It+1036>>2]>>2],H=H+4|0,k=k+4|0,R=R+4|0,(F=F+4|0)>>>0<Bt>>>0;);if(n[w+28>>2]&&!((0|(R=n[w+12>>2]))<1))for(k=(F=n[w+20>>2])+(R<<2)|0,R=n[f+360>>2]+(X<<2)|0;n[R>>2]=n[F>>2],R=R+4|0,(F=F+4|0)>>>0<k>>>0;);if(X=n[w+8>>2]+X|0,(0|rt)==(0|(U=U+1|0)))break}It=n[f>>2]}if(!(dt[It+4|0]<4||(0|(Pt=n[f+332>>2]))<1))for(Bt=n[It+864>>2],Wt=n[f+336>>2],F=X=0;;){if(U=n[Wt+K(F,20)>>2],n[U+24>>2]&&!((0|(w=n[U+12>>2]))<1))for(T=(R=n[U+16>>2])+(w<<2)|0,c=n[Bt+(F<<2)>>2],k=(w=X<<2)+n[f+376>>2]|0,H=w+n[f+380>>2]|0,W=w+n[f+384>>2]|0,rt=w+n[f+388>>2]|0,ot=w+n[f+392>>2]|0,Tt=w+n[f+396>>2]|0,p=n[It+1308>>2],g=n[It+1304>>2],v=n[It+1300>>2],b=n[It+1296>>2],I=n[It+1292>>2],P=n[It+1288>>2];w=n[R>>2]+c<<2,n[k>>2]=n[w+P>>2],n[H>>2]=n[w+I>>2],n[W>>2]=n[w+b>>2],n[rt>>2]=n[w+v>>2],n[ot>>2]=n[w+g>>2],n[Tt>>2]=n[w+p>>2],Tt=Tt+4|0,ot=ot+4|0,rt=rt+4|0,W=W+4|0,H=H+4|0,k=k+4|0,(R=R+4|0)>>>0<T>>>0;);if(X=n[U+8>>2]+X|0,(0|Pt)==(0|(F=F+1|0)))break}}(u),function(f){var T,w=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=f+340|0;if(ft[n[1807]](w,n[f+364>>2],n[f+448>>2],n[f+424>>2]),ft[n[1808]](w,n[f+368>>2],n[f+440>>2],n[f+424>>2]),ft[n[1809]](w,n[f+372>>2],n[f+444>>2],n[n[f>>2]+892>>2],2,n[f+424>>2]),!(dt[n[f>>2]+4|0]<4||(ft[n[1807]](w,n[f+376>>2],n[f+400>>2],n[f+424>>2]),ft[n[1807]](w,n[f+380>>2],n[f+404>>2],n[f+424>>2]),ft[n[1807]](w,n[f+384>>2],n[f+408>>2],n[f+424>>2]),ft[n[1807]](w,n[f+388>>2],n[f+412>>2],n[f+424>>2]),ft[n[1807]](w,n[f+392>>2],n[f+416>>2],n[f+424>>2]),ft[n[1807]](w,n[f+396>>2],n[f+420>>2],n[f+424>>2]),(0|(b=n[f+332>>2]))<1))){for(I=n[f+408>>2],P=n[f+404>>2],T=n[f+400>>2],c=n[f+452>>2],w=0;n[(p=g<<2)+c>>2]=n[(v=w<<2)+T>>2],n[c+(4|p)>>2]=n[v+P>>2],n[c+(8|p)>>2]=n[v+I>>2],g=g+4|0,(0|b)!=(0|(w=w+1|0)););for(c=n[f+456>>2],v=n[f+420>>2],I=n[f+416>>2],P=n[f+412>>2],w=f=0;n[(g=f<<2)+c>>2]=n[(p=w<<2)+P>>2],n[c+(4|g)>>2]=n[p+I>>2],n[c+(8|g)>>2]=n[p+v>>2],f=f+4|0,(0|b)!=(0|(w=w+1|0)););}}(u),function(f){var T,c,p,g,v,b,I,P=0,w=0,R=0,F=0,k=0;if(1<=(0|(c=n[f+500>>2])))for(g=n[f+504>>2],p=n[f>>2],v=n[p+1252>>2];;){if(T=n[K(F,24)+g>>2],(n[T+28>>2]||n[T+24>>2])&&(n[(P=F<<2)+n[f+524>>2]>>2]=n[T+12>>2],n[T+24>>2])&&!((0|(R=n[T+12>>2]))<1))for(R=(w=n[T+16>>2])+(R<<2)|0,b=n[P+v>>2],P=n[f+532>>2]+(k<<2)|0,I=n[p+1284>>2];n[P>>2]=n[(n[w>>2]+b<<2)+I>>2],P=P+4|0,(w=w+4|0)>>>0<R>>>0;);if(n[T+28>>2]&&!((0|(P=n[T+12>>2]))<1))for(R=(w=n[T+20>>2])+(P<<2)|0,P=n[f+528>>2]+(k<<2)|0;n[P>>2]=n[w>>2],P=P+4|0,(w=w+4|0)>>>0<R>>>0;);if(k=n[T+8>>2]+k|0,(0|c)==(0|(F=F+1|0)))break}}(u),ft[n[1807]](u+508|0,n[u+532>>2],n[u+536>>2],0),function(f){var T,c,p,g,v,b,I=x(0),P=0,w=0,R=0,F=0;if(x(0),V=T=V-16|0,R=n[f>>2],!(dt[R+4|0]<5||(0|(F=n[f+596>>2]))<1))for(g=(w=n[f+600>>2])+K(F,12)|0,v=n[f+44>>2],F=n[R+976>>2];;){if(R=(n[w>>2]<<2)+v|0,I=x(n[R>>2]),1<=(0|(P=n[w+4>>2])))for(b=(f=n[w+8>>2])+K(P,48)|0;(P=n[f+8>>2])&&((c=P+-1|0)>>>0<=1?(P=n[f+4>>2],p=D[F+(P+n[f+12>>2]<<2)>>2],I=x(c-1?I+x(D[f+44>>2]*x(p*D[f+20>>2])):I+x(D[f+44>>2]*x(x(p*D[f+20>>2])+x(D[F+(P+n[f+16>>2]<<2)>>2]*D[f+24>>2]))))):(n[T>>2]=P,yt(4,1024,T))),(f=f+48|0)>>>0<b>>>0;);if(I=(I=x(I+x(.0010000000474974513)))<x(0)?x(0):x(ar(I,x(1e3))),f=x(He(I))<x(2147483648)?~~I:-2147483648,n[R>>2]=f,!((w=w+12|0)>>>0<g>>>0))break}V=16+T|0}(u),function(f){var T,c,p,g,v,b,I,P,w,R=0,F=0,k=0,H=0,U=0,X=x(0);if(V=T=V-16|0,R=n[f>>2],!(dt[R+4|0]<4||(j_(f,n[f+604>>2],n[f+608>>2],n[R+984>>2],n[f+152>>2],n[R+796>>2]),F=n[f>>2],dt[F+4|0]<5))){if(k=n[f+608>>2],v=n[F+992>>2],b=n[F+988>>2],1<=(0|(R=n[f+604>>2]))){for(I=K(R,12)+k|0,P=n[f+148>>2],c=n[F+980>>2];;){if(p=(n[k>>2]<<2)+P|0,U=n[p>>2],1<=(0|(H=n[k+4>>2])))for(w=(R=n[k+8>>2])+K(H,48)|0;(H=n[R+8>>2])&&((g=H+-1|0)>>>0<=1?(H=n[R+4>>2],X=D[(H+n[R+12>>2]<<2)+c>>2],ee(x(g-1?x(D[R+44>>2]*x(X*D[R+20>>2]))+(Lt(0,U),Ht()):x(D[R+44>>2]*x(x(X*D[R+20>>2])+x(D[(H+n[R+16>>2]<<2)+c>>2]*D[R+24>>2])))+(Lt(0,U),Ht()))),U=Ot[0]):(n[T>>2]=H,yt(4,1024,T))),(R=R+48|0)>>>0<w>>>0;);if(Lt(0,U),X=Ht(),D[p>>2]=X<x(0)?x(0):x(ar(X,x(1))),!((k=k+12|0)>>>0<I>>>0))break}k=n[f+608>>2],R=n[f+604>>2]}mo(R,k,b,n[F+1288>>2],n[F+1292>>2],n[F+1296>>2],n[f+156>>2]),mo(n[f+604>>2],n[f+608>>2],v,n[F+1300>>2],n[F+1304>>2],n[F+1308>>2],n[f+160>>2])}V=16+T|0}(u),function(f){var T,c=0,p=0,g=0,v=0,b=0,I=x(0),P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0;if(V=T=V-80|0,b=n[f>>2],!(dt[b+4|0]<5)){if(H=n[b+1028>>2],U=n[b+1024>>2],g=p=n[f+616>>2],!((0|(c=n[f+612>>2]))<1)){for(w=K(c,12)+p|0,R=n[f+276>>2],P=n[b+1004>>2];;){if(F=R+(n[p>>2]<<2)|0,g=n[F>>2],1<=(0|(v=n[p+4>>2])))for(X=(c=n[p+8>>2])+K(v,48)|0;(v=n[c+8>>2])&&((k=v+-1|0)>>>0<=1?(v=n[c+4>>2],I=D[P+(v+n[c+12>>2]<<2)>>2],ee(x(k-1?x(D[c+44>>2]*x(I*D[c+20>>2]))+(Lt(0,g),Ht()):x(D[c+44>>2]*x(x(I*D[c+20>>2])+x(D[P+(v+n[c+16>>2]<<2)>>2]*D[c+24>>2])))+(Lt(0,g),Ht()))),g=Ot[0]):(n[64+T>>2]=v,yt(4,1024,64+T|0))),(c=c+48|0)>>>0<X>>>0;);if(n[F>>2]=g,!((p=p+12|0)>>>0<w>>>0))break}if(g=p=n[f+616>>2],!((0|(c=n[f+612>>2]))<1)){for(w=K(c,12)+p|0,R=n[f+280>>2],P=n[n[f>>2]+1008>>2];;){if(F=R+(n[p>>2]<<2)|0,g=n[F>>2],1<=(0|(v=n[p+4>>2])))for(X=(c=n[p+8>>2])+K(v,48)|0;(v=n[c+8>>2])&&((k=v+-1|0)>>>0<=1?(v=n[c+4>>2],I=D[P+(v+n[c+12>>2]<<2)>>2],ee(x(k-1?x(D[c+44>>2]*x(I*D[c+20>>2]))+(Lt(0,g),Ht()):x(D[c+44>>2]*x(x(I*D[c+20>>2])+x(D[P+(v+n[c+16>>2]<<2)>>2]*D[c+24>>2])))+(Lt(0,g),Ht()))),g=Ot[0]):(n[48+T>>2]=v,yt(4,1024,48+T|0))),(c=c+48|0)>>>0<X>>>0;);if(n[F>>2]=g,!((p=p+12|0)>>>0<w>>>0))break}if(g=p=n[f+616>>2],!((0|(c=n[f+612>>2]))<1)){for(w=K(c,12)+p|0,R=n[f+268>>2],P=n[n[f>>2]+996>>2];;){if(F=R+(n[p>>2]<<2)|0,g=n[F>>2],1<=(0|(v=n[p+4>>2])))for(X=(c=n[p+8>>2])+K(v,48)|0;(v=n[c+8>>2])&&((k=v+-1|0)>>>0<=1?(v=n[c+4>>2],I=D[P+(v+n[c+12>>2]<<2)>>2],ee(x(k-1?x(D[c+44>>2]*x(I*D[c+20>>2]))+(Lt(0,g),Ht()):x(D[c+44>>2]*x(x(I*D[c+20>>2])+x(D[P+(v+n[c+16>>2]<<2)>>2]*D[c+24>>2])))+(Lt(0,g),Ht()))),g=Ot[0]):(n[32+T>>2]=v,yt(4,1024,32+T|0))),(c=c+48|0)>>>0<X>>>0;);if(Lt(0,g),I=Ht(),D[F>>2]=I<x(0)?x(0):x(ar(I,x(1))),!((p=p+12|0)>>>0<w>>>0))break}c=n[f+612>>2],g=n[f+616>>2]}}}if(mo(c,g,U,n[b+1288>>2],n[b+1292>>2],n[b+1296>>2],n[f+296>>2]),mo(n[f+612>>2],n[f+616>>2],H,n[b+1300>>2],n[b+1304>>2],n[b+1308>>2],n[f+300>>2]),!((0|(c=n[f+612>>2]))<1)){for(v=(p=n[f+616>>2])+K(c,12)|0,H=n[f+284>>2],b=n[n[f>>2]+1e3>>2];;){if(U=H+(n[p>>2]<<2)|0,g=n[U>>2],1<=(0|(P=n[p+4>>2])))for(w=(c=n[p+8>>2])+K(P,48)|0;(P=n[c+8>>2])&&((R=P+-1|0)>>>0<=1?(P=n[c+4>>2],I=D[b+(P+n[c+12>>2]<<2)>>2],ee(x(R-1?x(D[c+44>>2]*x(I*D[c+20>>2]))+(Lt(0,g),Ht()):x(D[c+44>>2]*x(x(I*D[c+20>>2])+x(D[b+(P+n[c+16>>2]<<2)>>2]*D[c+24>>2])))+(Lt(0,g),Ht()))),g=Ot[0]):(n[16+T>>2]=P,yt(4,1024,16+T|0))),(c=c+48|0)>>>0<w>>>0;);if(Lt(0,g),I=Ht(),D[U>>2]=I<x(-3600)?x(-3600):x(ar(I,x(3600))),!((p=p+12|0)>>>0<v>>>0))break}if(!((0|(c=n[f+612>>2]))<1))for(P=(p=n[f+616>>2])+K(c,12)|0,v=n[f+272>>2],f=n[n[f>>2]+1012>>2];;){if(H=v+(n[p>>2]<<2)|0,g=n[H>>2],1<=(0|(b=n[p+4>>2])))for(U=(c=n[p+8>>2])+K(b,48)|0;(b=n[c+8>>2])&&((w=b+-1|0)>>>0<=1?(b=n[c+4>>2],I=D[f+(b+n[c+12>>2]<<2)>>2],ee(x(w-1?x(D[c+44>>2]*x(I*D[c+20>>2]))+(Lt(0,g),Ht()):x(D[c+44>>2]*x(x(I*D[c+20>>2])+x(D[f+(b+n[c+16>>2]<<2)>>2]*D[c+24>>2])))+(Lt(0,g),Ht()))),g=Ot[0]):(n[T>>2]=b,yt(4,1024,T))),(c=c+48|0)>>>0<U>>>0;);if(Lt(0,g),I=Ht(),D[H>>2]=I<x(9999999747378752e-20)?x(9999999747378752e-20):x(ar(I,x(100))),!((p=p+12|0)>>>0<P>>>0))break}}}V=80+T|0}(u),function(f){var T,c,p,g,v,b=0,I=0,P=0,w=0,R=x(0),F=0,k=0,H=0,U=0,X=0,W=0;if(x(0),V=T=V-32|0,P=n[f>>2],!(dt[P+4|0]<4||(j_(f,n[f+620>>2],n[f+624>>2],n[P+1040>>2],n[f+444>>2],n[P+892>>2]),F=n[f>>2],dt[F+4|0]<5))){if(g=n[F+1048>>2],v=n[F+1044>>2],P=w=n[f+624>>2],!((0|(b=n[f+620>>2]))<1)){for(X=K(b,12)+w|0,W=n[f+440>>2],k=n[F+1036>>2];;){if(P=W+(n[w>>2]<<2)|0,R=x(n[P>>2]),1<=(0|(I=n[w+4>>2])))for(H=(b=n[w+8>>2])+K(I,48)|0;(I=n[b+8>>2])&&((U=I+-1|0)>>>0<=1?(I=n[b+4>>2],c=D[k+(I+n[b+12>>2]<<2)>>2],R=x(U-1?R+x(D[b+44>>2]*x(c*D[b+20>>2])):R+x(D[b+44>>2]*x(x(c*D[b+20>>2])+x(D[k+(I+n[b+16>>2]<<2)>>2]*D[b+24>>2]))))):(n[16+T>>2]=I,yt(4,1024,16+T|0))),(b=b+48|0)>>>0<H>>>0;);if(R=(R=x(R+x(.0010000000474974513)))<x(0)?x(0):x(ar(R,x(1e3))),b=x(He(R))<x(2147483648)?~~R:-2147483648,n[P>>2]=b,!((w=w+12|0)>>>0<X>>>0))break}if(P=w=n[f+624>>2],!((0|(b=n[f+620>>2]))<1)){for(X=K(b,12)+w|0,W=n[f+448>>2],k=n[n[f>>2]+1032>>2];;){if(H=W+(n[w>>2]<<2)|0,P=n[H>>2],1<=(0|(I=n[w+4>>2])))for(U=(b=n[w+8>>2])+K(I,48)|0;(I=n[b+8>>2])&&((p=I+-1|0)>>>0<=1?(I=n[b+4>>2],R=D[k+(I+n[b+12>>2]<<2)>>2],ee(x(p-1?x(D[b+44>>2]*x(R*D[b+20>>2]))+(Lt(0,P),Ht()):x(D[b+44>>2]*x(x(R*D[b+20>>2])+x(D[k+(I+n[b+16>>2]<<2)>>2]*D[b+24>>2])))+(Lt(0,P),Ht()))),P=Ot[0]):(n[T>>2]=I,yt(4,1024,T))),(b=b+48|0)>>>0<U>>>0;);if(Lt(0,P),R=Ht(),D[H>>2]=R<x(0)?x(0):x(ar(R,x(1))),!((w=w+12|0)>>>0<X>>>0))break}b=n[f+620>>2],P=n[f+624>>2]}}mo(b,P,v,n[F+1288>>2],n[F+1292>>2],n[F+1296>>2],n[f+452>>2]),mo(n[f+620>>2],n[f+624>>2],g,n[F+1300>>2],n[F+1304>>2],n[F+1308>>2],n[f+456>>2])}V=32+T|0}(u),function(f){var T,c,p,g,v,b,I=0,P=0,w=0,R=0,F=x(0);if(V=T=V-16|0,P=n[f>>2],!(dt[P+4|0]<5||(0|(R=n[f+628>>2]))<1))for(g=(w=n[f+632>>2])+K(R,12)|0,v=n[f+536>>2],R=n[P+1284>>2];;){if(c=(n[w>>2]<<2)+v|0,P=n[c>>2],1<=(0|(I=n[w+4>>2])))for(b=(f=n[w+8>>2])+K(I,48)|0;(I=n[f+8>>2])&&((p=I+-1|0)>>>0<=1?(I=n[f+4>>2],F=D[R+(I+n[f+12>>2]<<2)>>2],ee(x(p-1?x(D[f+44>>2]*x(F*D[f+20>>2]))+(Lt(0,P),Ht()):x(D[f+44>>2]*x(x(F*D[f+20>>2])+x(D[R+(I+n[f+16>>2]<<2)>>2]*D[f+24>>2])))+(Lt(0,P),Ht()))),P=Ot[0]):(n[T>>2]=I,yt(4,1024,T))),(f=f+48|0)>>>0<b>>>0;);if(Lt(0,P),F=Ht(),D[c>>2]=F<x(0)?x(0):x(ar(F,x(1))),!((w=w+12|0)>>>0<g>>>0))break}V=16+T|0}(u),function(f){var T,c,p=0,g=0,v=0,b=x(0),I=0;if(1<=(0|(p=n[f+4>>2])))for(c=(g=n[f+8>>2])+K(p,12)|0,p=n[f+40>>2],v=n[f+52>>2],f=T=n[f+48>>2];n[p>>2]&&(b=D[v>>2],D[f>>2]=b,(0|(I=n[g+4>>2]))!=-1)&&(D[f>>2]=b*D[(I<<2)+T>>2]),f=f+4|0,v=v+4|0,p=p+4|0,(g=g+12|0)>>>0<c>>>0;);}(u),function(f){var T,c=0,p=0,g=0;if(1<=(0|(T=n[f+304>>2])))for(c=n[f+308>>2],p=n[f+312>>2];n[p>>2]&&ft[n[c+20>>2]](f,g),p=p+4|0,c=c+32|0,(0|T)!=(0|(g=g+1|0)););}(u),function(f){var T,c,p,g,v,b=0,I=0,P=(x(0),x(0),0),w=0,R=0,F=(x(0),0),k=0,H=0;if(1<=(0|(b=n[f+332>>2])))for(k=(I=n[f+336>>2])+K(b,20)|0,H=n[f+308>>2],F=n[f+316>>2],v=n[f+48>>2],b=n[f+448>>2],P=n[f+444>>2],R=n[f+424>>2];n[R>>2]&&((0|(w=n[I+4>>2]))!=-1&&(D[b>>2]=D[(w<<2)+v>>2]*D[b>>2]),(0|(w=n[I+8>>2]))!=-1)&&(D[b>>2]=D[F+(w<<2)>>2]*D[b>>2],g=n[P>>2],ft[n[24+(H+(w<<5)|0)>>2]](f,w,g,g,n[I+16>>2])),P=P+4|0,b=b+4|0,R=R+4|0,(I=I+20|0)>>>0<k>>>0;);if(!(dt[n[f>>2]+4|0]<4||(0|(b=n[f+332>>2]))<1))for(w=(P=n[f+336>>2])+K(b,20)|0,k=n[f+328>>2],H=n[f+324>>2],I=n[f+452>>2],b=n[f+456>>2],R=n[f+424>>2];n[R>>2]&&(0|(f=n[P+8>>2]))!=-1&&(f=(F=f<<4)+H|0,T=x(D[I>>2]*D[f>>2]),D[I>>2]=T,c=x(D[I+4>>2]*D[f+4>>2]),D[I+4>>2]=c,p=D[f+8>>2],n[I+12>>2]=1065353216,D[I+4>>2]=c<x(0)?x(0):x(ar(c,x(1))),D[I>>2]=T<x(0)?x(0):x(ar(T,x(1))),T=x(p*D[I+8>>2]),D[I+8>>2]=T<x(0)?x(0):x(ar(T,x(1))),T=D[b>>2],c=D[(f=k+F|0)>>2],T=x(x(T+c)-x(T*c)),D[b>>2]=T,c=D[b+4>>2],p=D[f+4>>2],c=x(x(c+p)-x(c*p)),D[b+4>>2]=c,p=D[f+8>>2],n[b+12>>2]=1065353216,D[b+4>>2]=c<x(0)?x(0):x(ar(c,x(1))),D[b>>2]=T<x(0)?x(0):x(ar(T,x(1))),T=D[b+8>>2],T=x(x(p+T)-x(T*p)),D[b+8>>2]=T<x(0)?x(0):x(ar(T,x(1)))),b=b+16|0,I=I+16|0,R=R+4|0,(P=P+20|0)>>>0<w>>>0;);}(u),function(f){var T,c,p,g,v,b,I,P,w,R,F,k,H,U,X,W,rt,ot,Tt,Pt,Bt=0;if(x(0),x(0),x(0),x(0),x(0),x(0),x(0),1<=(0|(P=n[f+500>>2])))for(Tt=n[f+536>>2],w=n[f+444>>2],Pt=n[f+504>>2];;){if(f=K(Bt,24)+Pt|0,0<(0|(R=n[f+12>>2])))for(p=D[(Bt<<2)+Tt>>2],F=n[f+20>>2],k=n[f+16>>2],H=n[(n[f+4>>2]<<2)+w>>2],U=n[(n[f+8>>2]<<2)+w>>2],f=0;X=D[((T=1|f)<<2)+k>>2],c=pn[(f<<1)+F>>1]<<3&262136,g=D[(W=(4|c)+H|0)>>2],T=pn[(T<<1)+F>>1]<<3&262136,v=D[(rt=(4|T)+U|0)>>2],b=D[(c=c+H|0)>>2],ot=D[(f<<2)+k>>2],I=D[(T=T+U|0)>>2],D[c>>2]=b+x(p*x(ot*x(I-b))),D[W>>2]=g+x(p*x(ot*x(v-g))),D[T>>2]=I+x(p*x(X*x(b-I))),D[rt>>2]=v+x(p*x(X*x(g-v))),(0|(f=f+2|0))<(0|R););if(!((0|(Bt=Bt+1|0))<(0|P)))break}}(u),ft[n[1810]](u),function(f){var T,c,p,g,v=0,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0;if(!((0|(T=n[f+480>>2]))<1)){for(P=(c=n[f+484>>2])+K(T,28)|0,F=n[f+424>>2],k=n[f+40>>2],w=n[f+44>>2],X=n[f+440>>2],v=c;;){if(1<=(0|(R=n[v+4>>2])))for(U=v+20|0,H=n[v+12>>2],b=0;p=n[4+(I=H+(b<<4)|0)>>2]<<2,I=n[(g=I)>>2]==1,n[g+12>>2]=n[(n[(I?k:F)+p>>2]?(I?w:X)+p|0:U)>>2],(0|(b=b+1|0))<(0|R););if(!((v=v+28|0)>>>0<P>>>0))break}if(!((0|T)<1))for(X=n[f+436>>2],k=0;;){if(P=K(k,28)+c|0,!(n[(F=P)+24>>2]<1)){for(I=n[f+488>>2],b=0;n[I+(b<<2)>>2]=-1,(0|(b=b+1|0))<(0|(v=n[F+24>>2])););if(!((0|v)<1))for(v=n[f+496>>2],b=0;n[v+(b<<2)>>2]=-1,(0|(b=b+1|0))<n[F+24>>2];);}if(!(n[P+4>>2]<1)){for(w=n[f+492>>2],b=0;n[w+(b<<2)>>2]=-1,(0|(b=b+1|0))<(0|(v=n[P+4>>2])););if(!((0|v)<1))for(R=n[P+12>>2],U=n[f+496>>2],b=0;H=n[12+(R+(b<<4)|0)>>2]-n[P+20>>2]<<2,v=(0|(v=n[(I=H+U|0)>>2]))==-1?H+n[f+488>>2]|0:w+(v<<2)|0,n[v>>2]=b,(0|(b=(n[I>>2]=b)+1|0))<n[P+4>>2];);}if(1<=(0|(v=n[F+24>>2])))for(w=n[P+8>>2],U=n[f+488>>2],R=0;;){if((0|(b=n[U+(R<<2)>>2]))!=-1){for(H=n[f+492>>2],I=n[P+12>>2];w=(v=n[(v=I+(b<<4)|0)>>2]==1?(v=K(n[v+8>>2],28)+c|0,n[v+8>>2]=w,n[v>>2]):(n[X+(n[v+4>>2]<<2)>>2]=w,1))+w|0,(0|b)<(0|(v=n[H+(b<<2)>>2]))&&(0|(b=v))!=-1;);v=n[F+24>>2]}if(!((0|(R=R+1|0))<(0|v)))break}if((0|T)==(0|(k=k+1|0)))break}}}(u),function(f){var T=0,c=0,p=0,g=0,v=0,b=x(0),I=0,P=0,w=n[f+332>>2];if(n[f+644>>2]){if(!(((n[f+428>>2]=0)|w)<1))for(;T=126,I=n[f+432>>2]+p|0,!n[(c=p<<2)+n[f+424>>2]>>2]|D[c+n[f+448>>2]>>2]==x(0)||(T=127),ht[0|I]=T,(0|w)!=(0|(p=p+1|0)););}else if(n[f+428>>2]){if(T=dt[n[f>>2]+4|0],!(((n[f+428>>2]=0)|w)<1))if(4<=T>>>0)for(;b=D[(T=p<<2)+n[f+448>>2]>>2],g=n[T+n[f+424>>2]>>2],c=b!=x(0)&(0|g)!=0,I=n[f+432>>2]+p|0,c=(0|c)==(1&ht[0|I])?c:2|c,c=b!=D[T+n[f+468>>2]>>2]?4|c:c,c=n[T+n[f+440>>2]>>2]==n[T+n[f+464>>2]>>2]?c:8|c,T=n[T+n[f+436>>2]>>2]==n[T+n[f+460>>2]>>2]?c:16|c,T=g?32|T:T,g=(c=P<<2)+n[f+452>>2]|0,v=c+n[f+472>>2]|0,(D[g>>2]!=D[v>>2]|D[g+4>>2]!=D[v+4>>2]|(D[g+8>>2]!=D[v+8>>2]|D[g+12>>2]!=D[v+12>>2])||(g=c+n[f+456>>2]|0,c=c+n[f+476>>2]|0,D[g>>2]!=D[c>>2]|D[g+4>>2]!=D[c+4>>2]|D[g+8>>2]!=D[c+8>>2])||D[g+12>>2]!=D[c+12>>2])&&(T|=64),ht[0|I]=T,P=P+4|0,(0|w)!=(0|(p=p+1|0)););else for(;b=D[(T=p<<2)+n[f+448>>2]>>2],g=n[T+n[f+424>>2]>>2],c=b!=x(0)&(0|g)!=0,v=n[f+432>>2]+p|0,c=(0|c)==(1&ht[0|v])?c:2|c,c=b!=D[T+n[f+468>>2]>>2]?4|c:c,c=n[T+n[f+440>>2]>>2]==n[T+n[f+464>>2]>>2]?c:8|c,T=n[T+n[f+436>>2]>>2]==n[T+n[f+460>>2]>>2]?c:16|c,ht[0|v]=g?32|T:T,(0|w)!=(0|(p=p+1|0)););}else if(!((0|w)<1))for(;!n[(T=p<<2)+n[f+424>>2]>>2]|D[T+n[f+448>>2]>>2]==x(0)?(T=n[f+432>>2]+p|0,ht[0|T]=254&dt[0|T]):(T=n[f+432>>2]+p|0,ht[0|T]=1|dt[0|T]),(0|w)!=(0|(p=p+1|0)););}(u),n[u+644>>2]=0}function j_(u,_,A,m,f,T){var c,p,g,v,b,I,P,w=0,R=0,F=0,k=0;if(V=I=V-32|0,1<=(0|_))for(b=K(_,12)+A|0;;){if(!((0|(w=n[A+4>>2]))<1))if(c=(_=n[A+8>>2])+K(w,48)|0,w=n[A>>2]<<2,1<=(0|(P=n[w+T>>2])))for(P<<=1,p=n[n[u>>2]+1052>>2],g=n[f+w>>2];;){e:if(w=n[_+8>>2]){t:{if((R=w+-1|0)>>>0<=1){if(w=(n[_+4>>2]<<2)+m|0,k=(n[w+(n[_+12>>2]<<2)>>2]<<2)+p|0,R-1)break t;for(F=(n[w+(n[_+16>>2]<<2)>>2]<<2)+p|0,w=0;D[(v=(R=w<<2)+g|0)>>2]=D[v>>2]+x(D[_+44>>2]*x(x(D[R+k>>2]*D[_+20>>2])+x(D[R+F>>2]*D[_+24>>2]))),(0|P)!=(0|(w=w+1|0)););break e}n[I>>2]=w,yt(4,1024,I);break e}for(w=0;D[(F=(R=w<<2)+g|0)>>2]=D[F>>2]+x(D[_+44>>2]*x(D[R+k>>2]*D[_+20>>2])),(0|P)!=(0|(w=w+1|0)););}if(!((_=_+48|0)>>>0<c>>>0))break}else for(;3<=(w=n[_+8>>2])>>>0&&(n[16+I>>2]=w,yt(4,1024,16+I|0)),(_=_+48|0)>>>0<c>>>0;);if(!((A=A+12|0)>>>0<b>>>0))break}V=32+I|0}function X_(u,_,A){var m;_|=0,A|=0,V=m=V+-64|0;e:{if(u|=0)if(_)if((_+15&-16)!=(0|_))n[52+m>>2]=1522,n[48+m>>2]=2361,yt(4,1294,48+m|0);else{if(_=function(f,T,c){var p,g=0,v=0,b=0,I=0,P=0,w=0,R=0,F=0,k=0,H=0,U=0,X=0,W=0,rt=x(0),ot=0,Tt=0,Pt=0,Bt=0,Wt=0;if(Vi(16+(V=p=V-576|0)|0,0,560),q_(f,16+p|0,12+p|0),(I=n[12+p>>2])>>>0<=c>>>0){if(g=(v=Vi(T,0,I))+n[16+p>>2]|0,n[g+8>>2]=v+n[20+p>>2],n[g+40>>2]=v+n[24+p>>2],n[g+44>>2]=v+n[28+p>>2],n[g+48>>2]=v+n[32+p>>2],n[g+52>>2]=v+n[36+p>>2],n[g+16>>2]=v+n[40+p>>2],n[g+24>>2]=v+n[44+p>>2],n[g+28>>2]=v+n[48+p>>2],n[g+32>>2]=v+n[52+p>>2],n[g+36>>2]=v+n[56+p>>2],T=n[f+704>>2],n[g+308>>2]=v+n[60+p>>2],n[g+312>>2]=v+n[64+p>>2],n[g+316>>2]=v+n[68+p>>2],n[g+320>>2]=v+n[72+p>>2],n[g+324>>2]=v+n[76+p>>2],n[g+328>>2]=v+n[80+p>>2],n[g+60>>2]=v+n[84+p>>2],n[g+144>>2]=v+n[88+p>>2],n[g+148>>2]=v+n[92+p>>2],c=v+n[96+p>>2]|0,n[g+152>>2]=c,!((0|(I=n[T+8>>2]))<1)&&(T=v+n[100+p>>2]|0,n[c>>2]=T,(0|I)!=1))for(c=1;T=(15+(n[n[f+796>>2]+(b<<2)>>2]<<3)&-16)+T|0,n[n[g+152>>2]+(c<<2)>>2]=T,(0|I)!=(0|(c=(b=c)+1|0)););if(n[g+156>>2]=v+n[104+p>>2],n[g+160>>2]=v+n[108+p>>2],n[g+68>>2]=v+n[112+p>>2],n[g+76>>2]=v+n[116+p>>2],n[g+80>>2]=v+n[120+p>>2],n[g+84>>2]=v+n[124+p>>2],n[g+88>>2]=v+n[128+p>>2],n[g+92>>2]=v+n[132+p>>2],n[g+96>>2]=v+n[136+p>>2],n[g+100>>2]=v+n[140+p>>2],n[g+104>>2]=v+n[144+p>>2],n[g+108>>2]=v+n[148+p>>2],n[g+112>>2]=v+n[152+p>>2],n[g+116>>2]=v+n[156+p>>2],n[g+120>>2]=v+n[160+p>>2],n[g+124>>2]=v+n[164+p>>2],n[g+128>>2]=v+n[168+p>>2],n[g+132>>2]=v+n[172+p>>2],n[g+136>>2]=v+n[176+p>>2],n[g+140>>2]=v+n[180+p>>2],n[g+168>>2]=v+n[184+p>>2],n[g+264>>2]=v+n[188+p>>2],n[g+268>>2]=v+n[192+p>>2],n[g+272>>2]=v+n[196+p>>2],n[g+276>>2]=v+n[200+p>>2],n[g+280>>2]=v+n[204+p>>2],n[g+284>>2]=v+n[208+p>>2],n[g+288>>2]=v+n[212+p>>2],n[g+292>>2]=v+n[216+p>>2],n[g+296>>2]=v+n[220+p>>2],n[g+300>>2]=v+n[224+p>>2],n[g+176>>2]=v+n[228+p>>2],n[g+184>>2]=v+n[232+p>>2],n[g+188>>2]=v+n[236+p>>2],n[g+192>>2]=v+n[240+p>>2],n[g+196>>2]=v+n[244+p>>2],n[g+200>>2]=v+n[248+p>>2],n[g+204>>2]=v+n[252+p>>2],n[g+208>>2]=v+n[256+p>>2],n[g+212>>2]=v+n[260+p>>2],n[g+216>>2]=v+n[264+p>>2],n[g+220>>2]=v+n[268+p>>2],n[g+224>>2]=v+n[272+p>>2],n[g+228>>2]=v+n[276+p>>2],n[g+232>>2]=v+n[280+p>>2],n[g+236>>2]=v+n[284+p>>2],n[g+240>>2]=v+n[288+p>>2],n[g+244>>2]=v+n[292+p>>2],n[g+248>>2]=v+n[296+p>>2],n[g+252>>2]=v+n[300+p>>2],n[g+256>>2]=v+n[304+p>>2],n[g+260>>2]=v+n[308+p>>2],T=n[f+704>>2],n[g+336>>2]=v+n[312+p>>2],n[g+424>>2]=v+n[316+p>>2],n[g+432>>2]=v+n[320+p>>2],n[g+436>>2]=v+n[324+p>>2],n[g+440>>2]=v+n[328+p>>2],c=v+n[332+p>>2]|0,n[g+444>>2]=c,!((0|(I=n[T+16>>2]))<1)&&(b=v+n[336+p>>2]|0,n[c>>2]=b,(c=1)!=(0|I)))for(T=0;b=(15+(n[n[f+892>>2]+(T<<2)>>2]<<3)&-16)+b|0,n[n[g+444>>2]+(c<<2)>>2]=b,(0|I)!=(0|(c=(T=c)+1|0)););if(n[g+448>>2]=v+n[340+p>>2],n[g+452>>2]=v+n[344+p>>2],n[g+456>>2]=v+n[348+p>>2],n[g+460>>2]=v+n[352+p>>2],n[g+464>>2]=v+n[356+p>>2],n[g+468>>2]=v+n[360+p>>2],n[g+472>>2]=v+n[364+p>>2],n[g+476>>2]=v+n[368+p>>2],n[g+344>>2]=v+n[372+p>>2],n[g+352>>2]=v+n[376+p>>2],n[g+356>>2]=v+n[380+p>>2],n[g+360>>2]=v+n[384+p>>2],n[g+364>>2]=v+n[388+p>>2],n[g+368>>2]=v+n[392+p>>2],n[g+372>>2]=v+n[396+p>>2],n[g+376>>2]=v+n[400+p>>2],n[g+380>>2]=v+n[404+p>>2],n[g+384>>2]=v+n[408+p>>2],n[g+388>>2]=v+n[412+p>>2],n[g+392>>2]=v+n[416+p>>2],n[g+396>>2]=v+n[420+p>>2],n[g+400>>2]=v+n[424+p>>2],n[g+404>>2]=v+n[428+p>>2],n[g+408>>2]=v+n[432+p>>2],n[g+412>>2]=v+n[436+p>>2],n[g+416>>2]=v+n[440+p>>2],n[g+420>>2]=v+n[444+p>>2],T=n[448+p>>2],c=n[452+p>>2],n[g+552>>2]=v+n[456+p>>2],n[g+548>>2]=c+v,n[g+544>>2]=T+v,n[g+560>>2]=v+n[460+p>>2],T=n[f+704>>2],R=v+n[464+p>>2]|0,n[g+568>>2]=R,1<=(0|(w=n[T+48>>2])))for(b=v+n[468+p>>2]|0,T=v+n[472+p>>2]|0,P=v+n[476+p>>2]|0,F=n[f+1072>>2],c=0;I=R+K(c,36)|0,n[I+20>>2]=P,n[I+16>>2]=T,n[I>>2]=b,b=((I=n[F+(c<<2)>>2])<<2)+b|0,P=(I=1<<I<<2)+P|0,T=T+I|0,(0|w)!=(0|(c=c+1|0)););if(T=n[f+704>>2],I=v+n[516+p>>2]|0,n[g+484>>2]=I,1<=(0|(T=n[T+72>>2])))for(b=v+n[520+p>>2]|0,P=n[f+1212>>2],c=0;n[12+(I+K(c,28)|0)>>2]=b,b=(n[P+(c<<2)>>2]<<4)+b|0,(0|T)!=(0|(c=c+1|0)););n[g+488>>2]=v+n[524+p>>2],n[g+492>>2]=v+n[528+p>>2],n[g+496>>2]=v+n[532+p>>2],n[g+504>>2]=v+n[536+p>>2],n[g+536>>2]=v+n[540+p>>2],n[g+512>>2]=v+n[544+p>>2],n[g+520>>2]=v+n[548+p>>2],n[g+524>>2]=v+n[552+p>>2],n[g+528>>2]=v+n[556+p>>2],n[g+532>>2]=v+n[560+p>>2];t:{if(4<=(w=dt[f+4|0])>>>0){if(n[g+576>>2]=v+n[480+p>>2],n[g+584>>2]=v+n[484+p>>2],T=n[f+704>>2],c=n[492+p>>2],I=v+n[488+p>>2]|0,n[g+592>>2]=I,1<=(0|(T=n[T+104>>2])))for(b=c+v|0,P=n[f+1104>>2],c=0;n[40+(I+K(c,48)|0)>>2]=b,b=(n[P+(c<<2)>>2]<<2)+b|0,(0|T)!=(0|(c=c+1|0)););n[g+608>>2]=v+n[500+p>>2],n[g+624>>2]=v+n[508+p>>2]}else{if(T=n[572+p>>2],c=n[568+p>>2],n[g+636>>2]=v+n[564+p>>2],n[g+640>>2]=c+v,n[n[f+704>>2]+20>>2]<1)break t;for(I=T+v|0,R=0;;){r:{if((0|(b=n[(T=R<<2)+n[f+952>>2]>>2]))<=0)T=T+n[g+636>>2]|0;else{for(P=b+(c=n[T+n[f+948>>2]>>2])|0,F=n[f+1060>>2],b=0;b=n[F+(c<<2)>>2]+b|0,(0|(c=c+1|0))<(0|P););if(T=T+n[g+636>>2]|0,c=I,b)break r}c=b=0}if(n[T>>2]=c,I=(b<<2)+I|0,!((0|(R=R+1|0))<n[n[f+704>>2]+20>>2]))break}}w>>>0<5||(n[g+600>>2]=v+n[496+p>>2],n[g+616>>2]=v+n[504+p>>2],n[g+632>>2]=v+n[512+p>>2])}n[g+644>>2]=1,n[g>>2]=f,n[g+648>>2]=1&ht[n[f+708>>2]+20|0],v=n[f+704>>2],R=n[v+20>>2];t:if(!((0|(n[g+540>>2]=R))<1)){if(T=R+-1|0,F=n[f+952>>2],k=n[f+940>>2],H=n[f+932>>2],U=n[f+936>>2],X=n[f+924>>2],W=n[f+928>>2],ot=n[g+552>>2],Pt=n[g+544>>2],w>>>0<4){for(;;)if(c=Pt+K(T,52)|0,b=(I=T<<2)+W|(n[c>>2]=0),n[c+4>>2]=n[b>>2],n[c+8>>2]=n[(P=I+X|0)>>2],D[c+12>>2]=D[P>>2]-D[b>>2],n[c+16>>2]=n[I+U>>2],n[c+44>>2]=n[(b=I+H|0)>>2],rt=W_(x(n[I+k>>2])),D[c+20>>2]=rt,D[c+24>>2]=rt*x(1.5),Tt=n[I+F>>2],P=0,P=(n[c+32>>2]=Tt)?n[g+560>>2]+K(n[I+n[f+948>>2]>>2],28)|0:P,n[c+48>>2]=1,n[c+28>>2]=P,n[I+ot>>2]=n[b>>2],c=0<(0|T),T=T+-1|0,!c)break t}for(Tt=n[f+960>>2],Wt=n[f+944>>2];c=Pt+K(T,52)|0,n[c>>2]=n[(b=T<<2)+Wt>>2],n[c+4>>2]=n[(I=b+W|0)>>2],n[c+8>>2]=n[(P=b+X|0)>>2],D[c+12>>2]=D[P>>2]-D[I>>2],n[c+16>>2]=n[b+U>>2],n[c+44>>2]=n[(Bt=b+H|0)>>2],rt=W_(x(n[b+k>>2])),D[c+20>>2]=rt,D[c+24>>2]=rt*x(1.5),P=n[b+F>>2],n[c+32>>2]=P,n[c+28>>2]=P?n[g+560>>2]+K(n[b+n[f+948>>2]>>2],28)|0:0,I=n[b+Tt>>2],I=(n[c+40>>2]=I)?n[g+584>>2]+K(n[b+n[f+956>>2]>>2],28)|0:0,n[c+48>>2]=1,n[c+36>>2]=I,n[b+ot>>2]=n[Bt>>2],c=0<(0|T),T=T+-1|0,c;);}if(4<=w>>>0?(n[g+548>>2]=n[f+944>>2],I=f):(Vi(n[g+548>>2],0,R<<2),I=n[g>>2],v=n[I+704>>2]),b=n[v+52>>2],1<=(0|(n[g+556>>2]=b)))for(c=n[I+1056>>2],P=n[I+1192>>2],R=n[I+1060>>2],w=n[g+560>>2];T=w+K(b=b+-1|0,28)|0,n[T>>2]=n[(F=b<<2)+R>>2],F=n[c+F>>2],n[T+24>>2]=1,n[T+16>>2]=0,n[T+20>>2]=1,n[T+8>>2]=0,n[T+12>>2]=0,n[T+4>>2]=P+(F<<2),0<(0|b););if(b=n[v+48>>2],1<=(0|(n[g+564>>2]=b))){for(;;){if(T=n[g+568>>2]+K(b=b+-1|0,36)|0,P=n[(v=b<<2)+n[I+1072>>2]>>2],1<=(0|(n[T+4>>2]=P)))for(c=0;n[n[T>>2]+(c<<2)>>2]=n[g+560>>2]+K(n[n[I+1064>>2]+(n[v+n[I+1068>>2]>>2]+c<<2)>>2],28),(0|P)!=(0|(c=c+1|0)););if(n[T+24>>2]=1,n[T+28>>2]=1,n[T+8>>2]=1<<P,!(0<(0|b)))break}I=n[g>>2],v=n[I+704>>2]}if(T=n[v>>2],(0|(n[g+4>>2]=T))<1)c=0;else{for(F=n[I+732>>2],k=n[I+736>>2],H=n[I+740>>2],P=n[I+720>>2],U=n[g+52>>2],R=n[g+568>>2],X=n[g+8>>2],b=T;w=X+K(b=b+-1|0,12)|0,n[w>>2]=R+K(n[(c=b<<2)+P>>2],36),n[w+4>>2]=n[c+H>>2],n[w+8>>2]=n[c+k>>2],D[c+U>>2]=n[c+F>>2]?x(1):x(0),0<(0|b););for(w=n[g+16>>2],c=0;b=n[8+(R+K(n[(F=(T=T+-1|0)<<2)+P>>2],36)|0)>>2],c=c+(n[w+F>>2]=b)|0,0<(0|T););T=n[g+4>>2]}if(n[g+12>>2]=T,n[g+20>>2]=c,T=n[v+4>>2],1<=(0|(n[g+304>>2]=T))){for(;c=n[g+308>>2]+((T=T+-1|0)<<5)|0,n[c>>2]=n[g+568>>2]+K(n[(b=T<<2)+n[I+752>>2]>>2],36),n[c+4>>2]=n[b+n[I+764>>2]>>2],n[c+8>>2]=n[b+n[I+768>>2]>>2],P=n[b+n[I+772>>2]>>2],n[c+12>>2]=P,v=n[b+n[I+776>>2]>>2],n[c+16>>2]=v,n[c+28>>2]=n[b+n[I+760>>2]>>2],P>>>0<=1?P-1?(n[20+(n[g+60>>2]+K(v,24)|0)>>2]=T,n[c+24>>2]=1,n[c+20>>2]=2):(n[8+(n[g+168>>2]+K(v,12)|0)>>2]=T,n[c+24>>2]=3,n[c+20>>2]=4):yt(4,1179,0),0<(0|T););I=n[g>>2],v=n[I+704>>2]}b=n[v+8>>2];t:if(!((0|(n[g+56>>2]=b))<1)){if(c=b+-1|0,R=n[I+796>>2],w=n[I+804>>2],F=n[I+800>>2],k=n[I+780>>2],H=n[g+568>>2],U=n[g+60>>2],dt[I+4|0]<2){for(;;)if(T=U+K(c,24)|0,n[T>>2]=H+K(n[(P=c<<2)+k>>2],36),n[T+4>>2]=n[P+F>>2],n[T+8>>2]=n[P+w>>2],P=n[P+R>>2],n[T+12>>2]=0,n[T+16>>2]=P,T=0<(0|c),c=c+-1|0,!T)break t}for(X=n[I+808>>2];T=U+K(c,24)|0,n[T>>2]=H+K(n[(P=c<<2)+k>>2],36),n[T+4>>2]=n[P+F>>2],n[T+8>>2]=n[P+w>>2],n[T+16>>2]=n[P+R>>2],n[T+12>>2]=n[P+X>>2],T=0<(0|c),c=c+-1|0,T;);}if(c=n[v+12>>2],1<=(0|(n[g+164>>2]=c)))for(P=n[I+828>>2],R=n[I+812>>2],w=n[g+568>>2],F=n[g+168>>2],T=c;k=F+K(T=T+-1|0,12)|0,n[k>>2]=w+K(n[(H=T<<2)+R>>2],36),n[k+4>>2]=n[P+H>>2],0<(0|T););if(((T=0)|b)<1)P=0;else{for(R=n[g+68>>2],w=n[g+60>>2],P=0;c=n[n[w+K(b=b+-1|0,24)>>2]+8>>2],P=(n[R+(b<<2)>>2]=c)+P|0,0<(0|b););c=n[g+164>>2],b=n[g+56>>2]}if(n[g+64>>2]=b,n[g+72>>2]=P,b=g,1<=(0|c)){for(R=n[g+176>>2],w=n[g+168>>2];P=n[n[w+K(c=c+-1|0,12)>>2]+8>>2],T=T+(n[R+(c<<2)>>2]=P)|0,0<(0|c););c=n[g+164>>2]}if(n[b+172>>2]=c,n[g+180>>2]=T,P=n[v+16>>2],1<=(0|(n[g+332>>2]=P))){for(F=n[I+872>>2],k=n[I+892>>2],H=n[I+880>>2],U=n[I+876>>2],R=n[I+852>>2],w=n[g+568>>2],X=n[g+336>>2],T=P;c=X+K(T=T+-1|0,20)|0,n[c>>2]=w+K(n[(b=T<<2)+R>>2],36),n[c+4>>2]=n[b+U>>2],n[c+8>>2]=n[b+H>>2],n[c+16>>2]=n[b+k>>2],n[c+12>>2]=n[b+F>>2],0<(0|T););for(b=n[g+344>>2],c=0;T=n[8+(w+K(n[(F=(P=P+-1|0)<<2)+R>>2],36)|0)>>2],c=(n[b+F>>2]=T)+c|0,0<(0|P););if(n[g+348>>2]=c,P=n[g+332>>2],!((0|(n[g+340>>2]=P))<1))for(c=P<<2,b=n[g+456>>2],R=n[g+452>>2];n[(w=(T=c+-4|0)<<2)+R>>2]=1065353216,n[(F=(c<<=2)-4|0)+R>>2]=1065353216,n[(k=(c=c+-12|0)+R|0)>>2]=1065353216,n[k+4>>2]=1065353216,n[b+w>>2]=0,n[b+F>>2]=1065353216,n[(c=c+b|0)>>2]=0,n[c+4>>2]=0,c=T,0<(0|(P=P+-1|0)););}else n[g+340>>2]=P,n[g+348>>2]=0;if(P=n[v+72>>2],1<=(0|(n[g+480>>2]=P)))for(F=n[I+1208>>2],k=n[I+1224>>2],H=n[I+1220>>2],U=n[I+1216>>2],X=n[I+1212>>2],W=n[g+484>>2],b=0;;){if(T=W+K(b,28)|0,R=n[(c=b<<2)+X>>2],n[T+4>>2]=R,n[T>>2]=n[c+U>>2],w=n[c+H>>2],n[T+16>>2]=w,ot=n[c+k>>2],n[T+20>>2]=ot,n[T+8>>2]=0,n[T+24>>2]=1+(w-ot|0),1<=(0|R))for(ot=n[c+F>>2],Pt=n[T+12>>2],Tt=n[I+1236>>2],Wt=n[I+1228>>2],Bt=n[I+1232>>2],c=0;n[4+(T=Pt+(c<<4)|0)>>2]=n[(w=c+ot<<2)+Bt>>2],n[T>>2]=n[w+Wt>>2],w=n[w+Tt>>2],n[T+12>>2]=0,n[T+8>>2]=w,(0|R)!=(0|(c=c+1|0)););if((0|P)==(0|(b=b+1|0)))break}if(c=n[v+80>>2],(0|(n[g+500>>2]=c))<1)b=0;else{for(w=n[I+1280>>2],F=n[I+1268>>2],k=n[I+1276>>2],H=n[I+1272>>2],U=n[I+1264>>2],X=n[I+1260>>2],P=n[I+1248>>2],R=n[g+568>>2],W=n[g+504>>2];T=W+K(c=c+-1|0,24)|0,n[T>>2]=R+K(n[(b=c<<2)+P>>2],36),n[T+4>>2]=n[b+X>>2],n[T+8>>2]=n[b+U>>2],n[T+12>>2]=n[b+H>>2],b=n[b+F>>2],n[T+20>>2]=w+(b<<1),n[T+16>>2]=k+(b<<2),0<(0|c););if((0|(c=n[g+500>>2]))<1)b=0;else{for(w=n[g+512>>2],b=0;T=n[8+(R+K(n[(F=(c=c+-1|0)<<2)+P>>2],36)|0)>>2],b=(n[w+F>>2]=T)+b|0,0<(0|c););c=n[g+500>>2]}}n[g+508>>2]=c,n[g+516>>2]=b;t:if(4<=dt[f+4|0]){if(!((P=dt[I+4|0])>>>0<4)){if(c=n[v+120>>2],1<=(0|(n[g+572>>2]=c))){for(w=n[I+1172>>2],F=n[g+576>>2];P=(0|(v=n[(T=(c=c+-1|0)<<2)+w>>2]))<0?v=R=b=0:(b=(P=n[T+n[I+1176>>2]>>2]<<2)+n[I+1188>>2]|0,R=n[T+n[I+1180>>2]>>2],v=n[g+544>>2]+K(v,52)|0,P+n[I+1184>>2]|0),T=F+K(c,20)|0,n[T+12>>2]=R,n[T+8>>2]=b,n[T+4>>2]=P,n[T>>2]=v,0<(0|c););if(I=n[g>>2],(P=dt[I+4|0])>>>0<4)break t}if(v=n[I+704>>2],b=n[v+100>>2],1<=(0|(n[g+580>>2]=b)))for(R=n[I+1084>>2],w=n[I+1076>>2],F=n[I+1192>>2],k=n[I+1080>>2],H=n[g+584>>2];T=H+K(b=b+-1|0,28)|0,n[T>>2]=n[(c=b<<2)+k>>2],n[T+4>>2]=F+(n[c+w>>2]<<2),c=n[c+R>>2],n[T+20>>2]=1,n[T+24>>2]=1,n[T+12>>2]=0,n[T+16>>2]=0,n[T+8>>2]=c,0<(0|b););if(b=n[v+104>>2],1<=(0|(n[g+588>>2]=b))){for(;;){if(T=n[g+592>>2]+K(b=b+-1|0,48)|0,n[T>>2]=n[g+584>>2]+K(n[(P=b<<2)+n[I+1088>>2]>>2],28),c=n[P+n[I+1092>>2]>>2],n[T+28>>2]=1,n[T+32>>2]=1,n[T+8>>2]=0,n[T+4>>2]=c,v=n[P+n[I+1104>>2]>>2],1<=(0|(n[T+36>>2]=v)))for(c=0;n[n[T+40>>2]+(c<<2)>>2]=n[g+576>>2]+K(n[n[I+1168>>2]+(n[P+n[I+1100>>2]>>2]+c<<2)>>2],20),(0|v)!=(0|(c=c+1|0)););if(!(1<=(0|b)))break}I=n[g>>2],P=dt[I+4|0]}if(!(P>>>0<4)){if(P=n[f+704>>2],c=n[P+108>>2],1<=(0|(n[g+604>>2]=c)))for(v=n[f+1124>>2],R=n[f+1128>>2],w=n[f+1120>>2],F=n[g+592>>2],k=n[g+608>>2];T=k+K(c=c+-1|0,12)|0,n[T>>2]=n[(b=c<<2)+w>>2],n[T+4>>2]=n[b+R>>2],n[T+8>>2]=F+K(n[v+b>>2],48),0<(0|c););if(c=n[P+112>>2],1<=(0|(n[g+620>>2]=c)))for(P=n[f+1148>>2],v=n[f+1152>>2],R=n[f+1144>>2],w=n[g+592>>2],F=n[g+624>>2];T=F+K(c=c+-1|0,12)|0,n[T>>2]=n[(b=c<<2)+R>>2],n[T+4>>2]=n[v+b>>2],n[T+8>>2]=w+K(n[b+P>>2],48),0<(0|c););if(b=n[I+1192>>2],T=n[n[I+704>>2]+20>>2],n[g+640>>2]=n[I+972>>2],P=n[I+964>>2],n[g+636>>2]=P,!((0|T)<(c=1))&&(n[P>>2]=b+(n[n[I+968>>2]>>2]<<2),(0|T)!=1))for(;n[(P=c<<2)+n[g+636>>2]>>2]=b+(n[P+n[I+968>>2]>>2]<<2),(0|T)!=(0|(c=c+1|0)););}}}else if(!(n[v+20>>2]<1))for(v=0;;){if(b=n[(R=v<<2)+n[g+636>>2]>>2],1<=((T=0)|(c=n[R+n[I+952>>2]>>2])))for(k=c+(w=n[R+n[I+948>>2]>>2])|0,H=n[I+1060>>2],U=n[I+1056>>2];;){if(1<=(0|(F=n[(c=w<<2)+H>>2])))for(X=F+(P=n[c+U>>2])|0,W=n[I+1192>>2];;){F=b+(T<<2)|0,rt=D[W+(P<<2)>>2],c=b;r:{if(0<(0|T))for(;;){if(D[c>>2]==rt)break r;if(!((c=c+4|0)>>>0<F>>>0))break}D[F>>2]=rt,T=T+1|0}if(!((0|(P=P+1|0))<(0|X)))break}if(!((0|(w=w+1|0))<(0|k)))break}if(function(It,oe){var nt,Et,wt=0,Nt=0,Ft=0;n[8+(V=nt=V-208|0)>>2]=1,n[12+nt>>2]=0;r:if(Et=oe<<2){for(n[16+nt>>2]=4,Ft=oe=n[20+nt>>2]=4,wt=2;oe=(Ft+4|0)+(Nt=oe)|0,n[(16+nt|0)+(wt<<2)>>2]=oe,wt=wt+1|0,Ft=Nt,oe>>>0<Et>>>0;);if((Nt=(It+Et|0)-4|0)>>>0<=It>>>0)oe=wt=1;else for(oe=wt=1;oe=(3&wt)==3?(l0(It,oe,16+nt|0),yu(8+nt|0,2),oe+2|0):(nr[(16+nt|0)+((Ft=oe+-1|0)<<2)>>2]>=Nt-It>>>0?vu(It,8+nt|0,oe,0,16+nt|0):l0(It,oe,16+nt|0),(0|oe)==1?(gu(8+nt|0,1),0):(gu(8+nt|0,Ft),1)),wt=1|n[8+nt>>2],n[8+nt>>2]=wt,(It=It+4|0)>>>0<Nt>>>0;);for(vu(It,8+nt|0,oe,0,16+nt|0);;){i:{n:{o:{if(!((0|oe)!=1|(0|wt)!=1)){if(n[12+nt>>2])break o;break r}if(1<(0|oe))break n}yu(8+nt|0,Nt=s1(8+nt|0)),wt=n[8+nt>>2],oe=oe+Nt|0;break i}gu(8+nt|0,2),n[8+nt>>2]=7^n[8+nt>>2],yu(8+nt|0,1),vu((Ft=It+-4|0)-n[(16+nt|0)+((Nt=oe+-2|0)<<2)>>2]|0,8+nt|0,oe+-1|0,1,16+nt|0),gu(8+nt|0,1),wt=1|n[8+nt>>2],n[8+nt>>2]=wt,vu(Ft,8+nt|0,Nt,1,16+nt|0),oe=Nt}It=It+-4|0}}V=208+nt|0}(b,T),n[R+n[g+640>>2]>>2]=T,!((0|(v=v+1|0))<n[n[I+704>>2]+20>>2]))break}if(!(dt[f+4|0]<5|dt[n[g>>2]+4|0]<4)){if(T=n[f+704>>2],c=n[T+128>>2],1<=(0|(n[g+596>>2]=c)))for(P=n[f+1112>>2],v=n[f+1116>>2],R=n[f+1108>>2],w=n[g+592>>2],F=n[g+600>>2];I=F+K(c=c+-1|0,12)|0,n[I>>2]=n[(b=c<<2)+R>>2],n[I+4>>2]=n[v+b>>2],n[I+8>>2]=w+K(n[b+P>>2],48),0<(0|c););if(c=n[T+132>>2],1<=(0|(n[g+612>>2]=c)))for(P=n[f+1136>>2],v=n[f+1140>>2],R=n[f+1132>>2],w=n[g+592>>2],F=n[g+616>>2];I=F+K(c=c+-1|0,12)|0,n[I>>2]=n[(b=c<<2)+R>>2],n[I+4>>2]=n[v+b>>2],n[I+8>>2]=w+K(n[b+P>>2],48),0<(0|c););if(c=n[T+136>>2],!((0|(n[g+628>>2]=c))<1))for(I=n[f+1160>>2],b=n[f+1164>>2],P=n[f+1156>>2],v=n[g+592>>2],R=n[g+632>>2];f=R+K(c=c+-1|0,12)|0,n[f>>2]=n[(T=c<<2)+P>>2],n[f+4>>2]=n[T+b>>2],n[f+8>>2]=v+K(n[T+I>>2],48),0<(0|c););}G_(g)}return V=576+p|0,g}(u,_,A))break e;n[36+m>>2]=2209,n[32+m>>2]=2361,yt(4,1294,32+m|0)}else n[20+m>>2]=1444,n[16+m>>2]=2361,yt(4,1294,16+m|0);else n[4+m>>2]=2132,n[m>>2]=2361,yt(4,1294,m);_=0}return V=64+m|0,0|_}function V_(u){var _;return V=_=V-16|0,u=(u|=0)?function(A){var m;return Vi(16+(V=m=V-576|0)|0,0,560),q_(A,16+m|0,12+m|0),V=576+m|0,n[12+m>>2]}(u):(n[4+_>>2]=2132,n[_>>2]=2343,yt(4,1294,_),0),V=16+_|0,0|u}function z_(u){var _=dt[u+4|0];Y(n[u+704>>2],4,64),mn(n[u+708>>2],4),mn(n[u+708>>2]+4|0,4),mn(n[u+708>>2]+8|0,4),mn(n[u+708>>2]+12|0,4),mn(n[u+708>>2]+16|0,4),mn(n[u+708>>2]+20|0,1),Y(n[u+720>>2],4,n[n[u+704>>2]>>2]),Y(n[u+724>>2],4,n[n[u+704>>2]>>2]),Y(n[u+728>>2],4,n[n[u+704>>2]>>2]),Y(n[u+732>>2],4,n[n[u+704>>2]>>2]),Y(n[u+736>>2],4,n[n[u+704>>2]>>2]),Y(n[u+740>>2],4,n[n[u+704>>2]>>2]),Y(n[u+752>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+756>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+760>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+764>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+768>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+772>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+776>>2],4,n[n[u+704>>2]+4>>2]),Y(n[u+780>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+784>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+788>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+796>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+800>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+804>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+812>>2],4,n[n[u+704>>2]+12>>2]),Y(n[u+816>>2],4,n[n[u+704>>2]+12>>2]),Y(n[u+820>>2],4,n[n[u+704>>2]+12>>2]),Y(n[u+828>>2],4,n[n[u+704>>2]+12>>2]),Y(n[u+852>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+856>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+860>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+868>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+872>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+876>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+880>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+884>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+888>>2],1,n[n[u+704>>2]+16>>2]),Y(n[u+892>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+896>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+900>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+904>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+908>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+912>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+924>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+928>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+932>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+936>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+940>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+948>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+952>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+976>>2],4,n[n[u+704>>2]+24>>2]),Y(n[u+980>>2],4,n[n[u+704>>2]+28>>2]),Y(n[u+984>>2],4,n[n[u+704>>2]+28>>2]),Y(n[u+996>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1e3>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1004>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1008>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1012>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1016>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1020>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1032>>2],4,n[n[u+704>>2]+36>>2]),Y(n[u+1036>>2],4,n[n[u+704>>2]+36>>2]),Y(n[u+1040>>2],4,n[n[u+704>>2]+36>>2]),Y(n[u+1052>>2],4,n[n[u+704>>2]+40>>2]),Y(n[u+1064>>2],4,n[n[u+704>>2]+44>>2]),Y(n[u+1068>>2],4,n[n[u+704>>2]+48>>2]),Y(n[u+1072>>2],4,n[n[u+704>>2]+48>>2]),Y(n[u+1056>>2],4,n[n[u+704>>2]+52>>2]),Y(n[u+1060>>2],4,n[n[u+704>>2]+52>>2]),Y(n[u+1192>>2],4,n[n[u+704>>2]+56>>2]),Y(n[u+1196>>2],4,n[n[u+704>>2]+60>>2]),Y(n[u+1200>>2],2,n[n[u+704>>2]+64>>2]),Y(n[u+1204>>2],4,n[n[u+704>>2]+68>>2]),Y(n[u+1208>>2],4,n[n[u+704>>2]+72>>2]),Y(n[u+1212>>2],4,n[n[u+704>>2]+72>>2]),Y(n[u+1216>>2],4,n[n[u+704>>2]+72>>2]),Y(n[u+1220>>2],4,n[n[u+704>>2]+72>>2]),Y(n[u+1224>>2],4,n[n[u+704>>2]+72>>2]),Y(n[u+1228>>2],4,n[n[u+704>>2]+76>>2]),Y(n[u+1232>>2],4,n[n[u+704>>2]+76>>2]),Y(n[u+1236>>2],4,n[n[u+704>>2]+76>>2]),Y(n[u+1248>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1252>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1256>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1260>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1264>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1268>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1272>>2],4,n[n[u+704>>2]+80>>2]),Y(n[u+1276>>2],4,n[n[u+704>>2]+84>>2]),Y(n[u+1280>>2],2,n[n[u+704>>2]+84>>2]),Y(n[u+1284>>2],4,n[n[u+704>>2]+88>>2]),_>>>0<2||(Y(n[u+808>>2],4,n[n[u+704>>2]+8>>2]),_>>>0<4)||(Y(n[u+968>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+972>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+792>>2],4,n[n[u+704>>2]+8>>2]),Y(n[u+824>>2],4,n[n[u+704>>2]+12>>2]),Y(n[u+864>>2],4,n[n[u+704>>2]+16>>2]),Y(n[u+1288>>2],4,n[n[u+704>>2]+92>>2]),Y(n[u+1292>>2],4,n[n[u+704>>2]+92>>2]),Y(n[u+1296>>2],4,n[n[u+704>>2]+92>>2]),Y(n[u+1300>>2],4,n[n[u+704>>2]+96>>2]),Y(n[u+1304>>2],4,n[n[u+704>>2]+96>>2]),Y(n[u+1308>>2],4,n[n[u+704>>2]+96>>2]),Y(n[u+944>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+956>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+960>>2],4,n[n[u+704>>2]+20>>2]),Y(n[u+1076>>2],4,n[n[u+704>>2]+100>>2]),Y(n[u+1080>>2],4,n[n[u+704>>2]+100>>2]),Y(n[u+1084>>2],4,n[n[u+704>>2]+100>>2]),Y(n[u+1088>>2],4,n[n[u+704>>2]+104>>2]),Y(n[u+1092>>2],4,n[n[u+704>>2]+104>>2]),Y(n[u+1096>>2],4,n[n[u+704>>2]+104>>2]),Y(n[u+1100>>2],4,n[n[u+704>>2]+104>>2]),Y(n[u+1104>>2],4,n[n[u+704>>2]+104>>2]),Y(n[u+1120>>2],4,n[n[u+704>>2]+108>>2]),Y(n[u+1124>>2],4,n[n[u+704>>2]+108>>2]),Y(n[u+1128>>2],4,n[n[u+704>>2]+108>>2]),Y(n[u+1144>>2],4,n[n[u+704>>2]+112>>2]),Y(n[u+1148>>2],4,n[n[u+704>>2]+112>>2]),Y(n[u+1152>>2],4,n[n[u+704>>2]+112>>2]),Y(n[u+1168>>2],4,n[n[u+704>>2]+116>>2]),Y(n[u+1172>>2],4,n[n[u+704>>2]+120>>2]),Y(n[u+1176>>2],4,n[n[u+704>>2]+120>>2]),Y(n[u+1180>>2],4,n[n[u+704>>2]+120>>2]),Y(n[u+1184>>2],4,n[n[u+704>>2]+124>>2]),Y(n[u+1188>>2],4,n[n[u+704>>2]+124>>2]),(0|_)!=4&&(Y(n[u+988>>2],4,n[n[u+704>>2]+28>>2]),Y(n[u+992>>2],4,n[n[u+704>>2]+28>>2]),Y(n[u+1024>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1028>>2],4,n[n[u+704>>2]+32>>2]),Y(n[u+1044>>2],4,n[n[u+704>>2]+36>>2]),Y(n[u+1048>>2],4,n[n[u+704>>2]+36>>2]),Y(n[u+1108>>2],4,n[n[u+704>>2]+128>>2]),Y(n[u+1112>>2],4,n[n[u+704>>2]+128>>2]),Y(n[u+1116>>2],4,n[n[u+704>>2]+128>>2]),Y(n[u+1132>>2],4,n[n[u+704>>2]+132>>2]),Y(n[u+1136>>2],4,n[n[u+704>>2]+132>>2]),Y(n[u+1140>>2],4,n[n[u+704>>2]+132>>2]),Y(n[u+1156>>2],4,n[n[u+704>>2]+136>>2]),Y(n[u+1160>>2],4,n[n[u+704>>2]+136>>2]),Y(n[u+1164>>2],4,n[n[u+704>>2]+136>>2])))}function J_(u,_){var A=0,m=0,f=0,T=0,c=0,p=0,g=u+_|0;e:{t:if(!(1&(A=n[u+4>>2]))){if(!(3&A))break e;if(_=(A=n[u>>2])+_|0,(0|(u=u-A|0))!=n[2092])if(A>>>0<=255)f=A>>>3,A=n[u+8>>2],(0|(m=n[u+12>>2]))==(0|A)?(p=n[2087]&Br(f),n[2087]=p):(n[A+12>>2]=m,n[m+8>>2]=A);else{if(c=n[u+24>>2],(0|(A=n[u+12>>2]))!=(0|u))m=n[u+8>>2],n[m+12>>2]=A,n[A+8>>2]=m;else if(f=(f=n[(m=u+20|0)>>2])||n[(m=u+16|0)>>2]){for(;T=m,(f=n[(m=(A=f)+20|0)>>2])||(m=A+16|0,f=n[A+16>>2]););n[T>>2]=0}else A=0;if(c){m=n[u+28>>2];r:{if(n[(f=8652+(m<<2)|0)>>2]==(0|u)){if(n[f>>2]=A)break r;p=n[2088]&Br(m),n[2088]=p;break t}if(!(n[c+(n[c+16>>2]==(0|u)?16:20)>>2]=A))break t}n[A+24>>2]=c,(m=n[u+16>>2])&&(n[A+16>>2]=m,n[m+24>>2]=A),(m=n[u+20>>2])&&(n[A+20>>2]=m,n[m+24>>2]=A)}}else if((3&(A=n[4+g>>2]))==3)return n[2089]=_,n[4+g>>2]=-2&A,n[u+4>>2]=1|_,n[g>>2]=_}t:{if(!(2&(A=n[4+g>>2]))){if(n[2093]==(0|g)){if(n[2093]=u,_=n[2090]+_|0,n[2090]=_,n[u+4>>2]=1|_,n[2092]!=(0|u))break e;return n[2089]=0,n[2092]=0}if(n[2092]==(0|g))return n[2092]=u,_=n[2089]+_|0,n[2089]=_,n[u+4>>2]=1|_,n[u+_>>2]=_;_=(-8&A)+_|0;r:if(A>>>0<=255)f=A>>>3,A=n[8+g>>2],(0|(m=n[12+g>>2]))==(0|A)?(p=n[2087]&Br(f),n[2087]=p):(n[A+12>>2]=m,n[m+8>>2]=A);else{if(c=n[24+g>>2],(0|g)!=(0|(A=n[12+g>>2])))m=n[8+g>>2],n[m+12>>2]=A,n[A+8>>2]=m;else if(f=(f=n[(m=20+g|0)>>2])||n[(m=16+g|0)>>2]){for(;T=m,(f=n[(m=(A=f)+20|0)>>2])||(m=A+16|0,f=n[A+16>>2]););n[T>>2]=0}else A=0;if(c){m=n[28+g>>2];i:{if(n[(f=8652+(m<<2)|0)>>2]==(0|g)){if(n[f>>2]=A)break i;p=n[2088]&Br(m),n[2088]=p;break r}if(!(n[c+(n[c+16>>2]==(0|g)?16:20)>>2]=A))break r}n[A+24>>2]=c,(m=n[16+g>>2])&&(n[A+16>>2]=m,n[m+24>>2]=A),(m=n[20+g>>2])&&(n[A+20>>2]=m,n[m+24>>2]=A)}}if(n[u+4>>2]=1|_,n[u+_>>2]=_,n[2092]!=(0|u))break t;return n[2089]=_}n[4+g>>2]=-2&A,n[u+4>>2]=1|_,n[u+_>>2]=_}if(_>>>0<=255)return _=8388+((A=_>>>3)<<3)|0,A=(m=n[2087])&(A=1<<A)?n[_+8>>2]:(n[2087]=A|m,_),n[_+8>>2]=u,n[A+12>>2]=u,n[u+12>>2]=_,n[u+8>>2]=A;n[u+16>>2]=0,A=n[u+20>>2]=0,(f=_>>>8)&&(A=31,16777215<_>>>0||(A=28+((A=((g=(f<<=T=f+1048320>>>16&8)<<(A=f+520192>>>16&4))<<(f=245760+g>>>16&2)>>>15)-(f|A|T)|0)<<1|_>>>A+21&1)|0)),f=8652+((n[(m=u)+28>>2]=A)<<2)|0;t:{if((m=n[2088])&(T=1<<A)){for(m=_<<((0|A)==31?0:25-(A>>>1)|0),A=n[f>>2];;){if((-8&n[(f=A)+4>>2])==(0|_))break t;if(A=m>>>29,m<<=1,!(A=n[16+(T=f+(4&A)|0)>>2]))break}n[T+16>>2]=u}else n[2088]=m|T,n[f>>2]=u;return n[u+24>>2]=f,n[u+12>>2]=u,n[u+8>>2]=u}_=n[f+8>>2],n[_+12>>2]=u,n[f+8>>2]=u,n[u+24>>2]=0,n[u+12>>2]=f,n[u+8>>2]=_}}function W_(u){var _,A,m,f,T,c,p,g,v=x(0),b=(x(0),0),I=0,P=(x(0),x(0),x(0),x(0),0);x(0),x(0);e:{t:{if(ee(u),I=2147483647&(b=Ot[0])){if(!(I>>>0<2139095041))return x(x(.10000000149011612)+u);if((0|I)==1065353216)return x(-1<(0|b)?.10000000149011612:10);if((0|I)==2139095040)return x(-1<(0|b)?0:-u);if((0|b)==1073741824)return x(.010000000707805157);if((0|b)==1056964608)return x(.3162277638912201);if(1291845633<=I>>>0)return x((0|b)<0?t0:0);if(_=D[1701],g=x(x(1.600000023841858)-_),A=x(x(1)/x(_+x(1.600000023841858))),Lt(0,-4096&(ee(p=x(g*A)),Ot[0])),v=Ht(),m=x(v*v),T=D[1705],_=x(A*x(x(g-x((f=v)*x(3.099609375)))-x(v*x(x(1.600000023841858)-x(x(3.099609375)-_))))),A=x(x(p+v)*_),v=x(p*p),g=x(A+x(x(v*v)*x(x(v*x(x(v*x(x(v*x(x(v*x(x(v*x(.20697501301765442))+x(.23066075146198273)))+x(.2727281153202057)))+x(.3333333432674408)))+x(.4285714328289032)))+x(.6000000238418579)))),Lt(0,-4096&(ee(x(x(m+x(3))+g)),Ot[0])),v=Ht(),A=x(f*v),p=x(x(_*v)+x(p*x(g-x(x(v+x(-3))-m)))),Lt(0,-4096&(ee(x(A+p)),Ot[0])),v=Ht(),_=x(v*x(.9619140625)),m=x(D[1703]+x(x(x(p-x(v-A))*x(.9617967009544373))+x(v*x(-.00011736857413779944)))),Lt(0,-4096&(ee(x(x(T+x(_+m))+x(-4))),Ot[0])),p=Ht(),Lt(0,-4096&b),g=Ht(),v=x(p*g),u=x(x(x(m-x(x(x(p-x(-4))-T)-_))*u)+x(x(u-g)*p)),ee(p=x(v+u)),1124073473<=(0|(b=Ot[0])))break t;r:{if((I=1124073472)==(0|b)){if(x(u+x(4299566569443414e-23))>x(p-v))break t}else{if(I=2147483647&b,!(u<=x(p-v)^1|(0|b)!=-1021968384)|1125515265<=I>>>0)break e;if(I>>>0<1056964609)break r}P=(8388607&(I=(8388608>>>(I>>>23)-126)+b|0)|8388608)>>>150-(c=I>>>23&255),P=(0|b)<0?0-P|0:P,v=x(v-(Lt(0,I&-8388608>>c-127),Ht())),ee(x(u+v)),b=Ot[0]}Lt(0,-32768&b),p=Ht(),_=x(p*x(.693145751953125)),p=x(x(p*x(14286065379565116e-22))+x(x(u-x(p-v))*x(.6931471824645996))),u=x(_+p),v=x(u*u),v=x(u-x(v*x(x(v*x(x(v*x(x(v*x(x(v*x(4138136944220605e-23))+x(-16533901998627698e-22)))+x(661375597701408e-19)))+x(-.0027777778450399637)))+x(.1666666716337204)))),f=x(x(u*v)/x(v+x(-2))),v=x(p-x(u-_)),u=(0|(b=0|(ee(u=x(x(u-x(f-x(v+x(u*v))))+x(1))),Ot[0]+(P<<23))))<=8388607?function(w,R){var F=0;return 128<=(0|R)?(w=x(w*x(17014118346046923e22)),R=(0|(F=R+-127|0))<128?F:(w=x(w*x(17014118346046923e22)),((0|R)<381?R:381)+-254|0)):-127<(0|R)||(w=x(w*x(11754943508222875e-54)),R=-127<(0|(F=R+126|0))?F:(w=x(w*x(11754943508222875e-54)),(-378<(0|R)?R:-378)+252|0)),x(w*(Lt(0,1065353216+(R<<23)|0),Ht()))}(u,P):(Lt(0,b),Ht()),u=x(x(1)*u)}else u=x(1);return u}return x(t0)}return x(0)}function Y_(u,_){var A,m,f,T=0,c=0,p=x(0);if(ee(_),!((f=2147483647&(m=Ot[0]))>>>0<=2139095040&&(ee(u),(T=2147483647&(c=Ot[0]))>>>0<2139095041)))return x(u+_);if((0|m)==1065353216)return K_(u);m=(A=m>>>30&2)|c>>>31;e:{t:{r:{i:{if(!T){switch(m-2|0){case 0:break i;case 1:break;default:break r}return x(-3.1415927410125732)}if((0|f)!=2139095040){if(!f|!(T>>>0<=218103808+f>>>0&&(0|T)!=2139095040))break e;if(u=p=T+218103808>>>0<f>>>0&&(p=x(0),A)?p:K_(x(He(x(u/_)))),m>>>0<=2){switch(m-1|0){case 0:return x(-u);case 1:break;default:break r}return x(x(3.1415927410125732)-x(u+x(8742277657347586e-23)))}return x(x(u+x(8742277657347586e-23))+x(-3.1415927410125732))}if((0|T)==2139095040)break t;return D[6784+(m<<2)>>2]}u=x(3.1415927410125732)}return u}return D[6768+(m<<2)>>2]}return x((0|c)<0?-1.5707963705062866:1.5707963705062866)}function K_(u){x(0);var _,A,m,f,T,c=0;x(0),x(0),ee(u);e:{if(1283457024<=(f=2147483647&(T=Ot[0]))>>>0){if(2139095040<f>>>0)break e;return x((0|T)<0?-1.570796251296997:1.570796251296997)}t:{if(f>>>0<=1054867455){if(c=-1,964689920<=f>>>0)break t;break e}u=x(He(u)),c=f>>>0<=1066926079?f>>>0<=1060110335?(u=x(x(x(u+u)+x(-1))/x(u+x(2))),0):(u=x(x(u+x(-1))/x(u+x(1))),1):f>>>0<=1075576831?(u=x(x(u+x(-1.5))/x(x(u*x(1.5))+x(1))),2):(u=x(x(-1)/u),3)}if(f=c,A=x(u*u),_=x(A*A),m=x(_*x(x(_*x(-.106480173766613))+x(-.19999158382415771))),_=x(A*x(x(_*x(x(_*x(.06168760731816292))+x(.14253635704517365)))+x(.333333283662796))),(0|f)<=-1)return x(u-x(u*x(m+_)));u=x(D[6736+(f<<=2)>>2]-x(x(x(u*x(m+_))-D[6752+f>>2])-u)),u=(0|T)<0?x(-u):u}return u}function Q_(u,_){var A,m,f,T=0,c=0;return V=m=V-16|0,ee(u),(T=2147483647&(f=Ot[0]))>>>0<=1305022426?(qt[_>>3]=(A=+u)+-1.5707963109016418*(c=.6366197723675814*A+6755399441055744-6755399441055744)+-15893254773528196e-24*c,T=He(c)<2147483648?~~c:-2147483648):2139095040<=T>>>0?(qt[_>>3]=x(u-u),T=0):(A=T,qt[8+m>>3]=(Lt(0,A-((T=(T>>>23)-150|0)<<23)|0),Ht()),T=function(p,g,v){var b,I,P,w,R,F,k=0,H=0,U=0,X=0,W=0,rt=0,ot=0,Tt=0,Pt=0,Bt=0,Wt=0;if(V=b=V-560|0,ot=(H=v)+K(P=0<(0|(v=(v+-3|0)/24|0))?v:0,-24)|0,0<=(0|(I=n[972])))for(H=I+1|0,v=P;qt[(320+b|0)+(U<<3)>>3]=(0|v)<0?0:+n[3904+(v<<2)>>2],v=v+1|0,(0|H)!=(0|(U=U+1|0)););for(W=ot+-24|0,H=0;;){for(k=v=0;k+=qt[(v<<3)+p>>3]*qt[(320+b|0)+(H-v<<3)>>3],(0|(v=v+1|0))!=1;);if(qt[(H<<3)+b>>3]=k,v=(0|H)<(0|I),H=H+1|0,!v)break}F=23-W|0,w=24-W|0,H=I;e:{for(;;){if(k=qt[(H<<3)+b>>3],!(Pt=((v=0)|(U=H))<1))for(;rt=(480+b|0)+(v<<2)|0,Tt=k,X=He(k*=5960464477539063e-23)<2147483648?~~k:-2147483648,X=He(Tt+=-16777216*(k=0|X))<2147483648?~~Tt:-2147483648,n[rt>>2]=X,k=qt[((U=U+-1|0)<<3)+b>>3]+k,(0|H)!=(0|(v=v+1|0)););k=mu(k,W),k=(k+=-8*qc(.125*k))-(0|(rt=He(k)<2147483648?~~k:-2147483648));t:{r:{i:{if(Wt=(0|W)<1){if(W)break i;X=n[476+((H<<2)+b|0)>>2]>>23}else X=n[476+(U=(H<<2)+b|0)>>2],Bt=U,U=X-((v=X>>w)<<w)|0,rt=v+rt|0,X=(n[Bt+476>>2]=U)>>F;if((0|X)<1)break t;break r}if(X=2,!(.5<=k)){X=0;break t}}if(U=v=0,!Pt)for(;;){Pt=n[(R=(480+b|0)+(v<<2)|0)>>2],Bt=16777215;r:{i:{if(!U){if(!Pt)break i;Bt=16777216,U=1}n[R>>2]=Bt-Pt;break r}U=0}if((0|H)==(0|(v=v+1|0)))break}Wt||1<(v=W+-1|0)>>>0||(n[476+(v=(H<<2)+b|0)>>2]=v-1?8388607&n[v+476>>2]:4194303&n[v+476>>2]),rt=rt+1|0,(0|X)==2&&(k=1-k,X=2,U)&&(k-=mu(1,W))}if(k!=0)break;if(!(((U=0)|(v=H))<=(0|I))){for(;U=n[(480+b|0)+((v=v+-1|0)<<2)>>2]|U,(0|I)<(0|v););if(U){for(ot=W;ot=ot+-24|0,!n[(480+b|0)+((H=H+-1|0)<<2)>>2];);break e}}for(v=1;v=(U=v)+1|0,!n[(480+b|0)+(I-U<<2)>>2];);for(U=H+U|0;;){for(H=rt=H+1|0,qt[(320+b|0)+(rt<<3)>>3]=n[3904+(P+H<<2)>>2],k=v=0;k+=qt[(v<<3)+p>>3]*qt[(320+b|0)+(rt-v<<3)>>3],(0|(v=v+1|0))!=1;);if(qt[(H<<3)+b>>3]=k,!((0|H)<(0|U)))break}H=U}16777216<=(k=mu(k,0-W|0))?(p=(480+b|0)+(H<<2)|0,Tt=k,v=He(k*=5960464477539063e-23)<2147483648?~~k:-2147483648,U=He(k=Tt+-16777216*(0|v))<2147483648?~~k:-2147483648,n[p>>2]=U,H=H+1|0):(v=He(k)<2147483648?~~k:-2147483648,ot=W),n[(480+b|0)+(H<<2)>>2]=v}if(k=mu(1,ot),!((0|H)<=-1)){for(v=H;qt[(v<<3)+b>>3]=k*+n[(480+b|0)+(v<<2)>>2],k*=5960464477539063e-23,p=0<(0|v),v=v+-1|0,p;);if(!((0|H)<=-1))for(v=H;;){for(W=H-(p=v)|0,v=k=0;k+=qt[6672+(v<<3)>>3]*qt[(p+v<<3)+b>>3],!((0|I)<=(0|v))&&(ot=v>>>0<W>>>0,v=v+1|0,ot););if(qt[(160+b|0)+(W<<3)>>3]=k,v=p+-1|0,!(0<(0|p)))break}}if(0<=(H|(k=0)))for(;k+=qt[(160+b|0)+(H<<3)>>3],p=0<(0|H),H=H+-1|0,p;);return qt[g>>3]=X?-k:k,V=560+b|0,7&rt}(8+m|0,m,T),c=qt[m>>3],(0|f)<=-1?(qt[_>>3]=-c,T=0-T|0):qt[_>>3]=c),V=16+m|0,T}function Z_(u,_){return u?function(A,m){e:{if(A){if(m>>>0<=127)break e;if(n[n[1789]>>2]){if(m>>>0<=2047)return ht[A+1|0]=63&m|128,ht[0|A]=m>>>6|192,2;if(!((-8192&m)!=57344&&55296<=m>>>0))return ht[A+2|0]=63&m|128,ht[0|A]=m>>>12|224,ht[A+1|0]=m>>>6&63|128,3;if(m+-65536>>>0<=1048575)return ht[A+3|0]=63&m|128,ht[0|A]=m>>>18|240,ht[A+2|0]=m>>>6&63|128,ht[A+1|0]=m>>>12&63|128,4}else if((-128&m)==57216)break e;n[2086]=25,A=-1}else A=1;return A}return ht[0|A]=m,1}(u,_):0}function q_(u,_,A){var m,f,T=0,c=0,p=0,g=0,v=0,b=0,I=0,P=0,w=0,R=dt[u+4|0];if(n[_>>2]=652,c=n[u+704>>2],1<=(0|(g=n[c>>2]))){for(v=n[u+720>>2],I=n[u+1072>>2];p=(1<<n[I+(n[v+(T<<2)>>2]<<2)>>2])+p|0,(0|g)!=(0|(T=T+1|0)););T=p<<2}if(n[_+4>>2]=K(g,12),n[_+8>>2]=n[c>>2]<<2,n[_+12>>2]=n[c>>2]<<2,n[_+16>>2]=n[c>>2]<<2,n[_+20>>2]=n[c>>2]<<2,p=n[c>>2],n[_+28>>2]=T,n[_+24>>2]=p<<2,p=n[c>>2],n[_+40>>2]=T,n[_+36>>2]=T,n[_+32>>2]=p<<2,n[_+44>>2]=n[c+4>>2]<<5,n[_+48>>2]=n[c+4>>2]<<2,n[_+52>>2]=n[c+4>>2]<<2,n[_+56>>2]=n[c+4>>2]<<2,n[_+60>>2]=n[c+4>>2]<<4,n[_+64>>2]=n[c+4>>2]<<4,1<=((T=0)|(g=n[c+8>>2]))){for(v=n[u+780>>2],I=n[u+1072>>2],w=n[u+796>>2],p=0;b=(15+(n[(P=T<<2)+w>>2]<<3)&-16)+b|0,p=(1<<n[I+(n[v+P>>2]<<2)>>2])+p|0,(0|g)!=(0|(T=T+1|0)););T=p<<2}if(n[_+68>>2]=K(g,24),n[_+72>>2]=n[c+8>>2]<<2,n[_+76>>2]=n[c+8>>2]<<2,p=n[c+8>>2],n[_+84>>2]=b,n[_+80>>2]=p<<2,n[_+88>>2]=n[c+8>>2]<<4,n[_+92>>2]=n[c+8>>2]<<4,p=n[c+8>>2],n[_+100>>2]=T,n[_+96>>2]=p<<2,p=n[c+8>>2],n[_+140>>2]=T,n[_+136>>2]=T,n[_+132>>2]=T,n[_+128>>2]=T,n[_+124>>2]=T,n[_+120>>2]=T,n[_+116>>2]=T,n[_+112>>2]=T,n[_+108>>2]=T,n[_+104>>2]=p<<2,n[_+144>>2]=n[c+8>>2]<<2,n[_+148>>2]=n[c+8>>2]<<2,n[_+152>>2]=n[c+8>>2]<<2,n[_+156>>2]=n[c+8>>2]<<2,n[_+160>>2]=n[c+8>>2]<<2,n[_+164>>2]=n[c+8>>2]<<2,1<=((T=b=0)|(g=n[c+12>>2]))){for(v=n[u+812>>2],I=n[u+1072>>2],p=0;p=(1<<n[I+(n[v+(T<<2)>>2]<<2)>>2])+p|0,(0|g)!=(0|(T=T+1|0)););T=p<<2}if(n[_+168>>2]=K(g,12),n[_+172>>2]=n[c+12>>2]<<2,n[_+176>>2]=n[c+12>>2]<<2,n[_+180>>2]=n[c+12>>2]<<2,n[_+184>>2]=n[c+12>>2]<<2,n[_+188>>2]=n[c+12>>2]<<2,n[_+192>>2]=n[c+12>>2]<<2,n[_+196>>2]=n[c+12>>2]<<2,n[_+200>>2]=n[c+12>>2]<<2,n[_+204>>2]=n[c+12>>2]<<4,n[_+208>>2]=n[c+12>>2]<<4,p=n[c+12>>2],n[_+216>>2]=T,n[_+212>>2]=p<<2,p=n[c+12>>2],n[_+268>>2]=T,n[_+264>>2]=T,n[_+260>>2]=T,n[_+256>>2]=T,n[_+252>>2]=T,n[_+248>>2]=T,n[_+244>>2]=T,n[_+240>>2]=T,n[_+236>>2]=T,n[_+232>>2]=T,n[_+228>>2]=T,n[_+224>>2]=T,n[_+220>>2]=p<<2,n[_+272>>2]=n[c+12>>2]<<2,n[_+276>>2]=n[c+12>>2]<<2,n[_+280>>2]=n[c+12>>2]<<2,n[_+284>>2]=n[c+12>>2]<<2,n[_+288>>2]=n[c+12>>2]<<2,n[_+292>>2]=n[c+12>>2]<<2,1<=((T=0)|(p=n[c+16>>2]))){for(v=n[u+852>>2],I=n[u+1072>>2],w=n[u+892>>2],g=0;b=(15+(n[(P=T<<2)+w>>2]<<3)&-16)+b|0,g=(1<<n[I+(n[v+P>>2]<<2)>>2])+g|0,(0|p)!=(0|(T=T+1|0)););T=g<<2}if(n[_+296>>2]=K(p,20),n[_+300>>2]=n[c+16>>2]<<2,n[_+304>>2]=n[c+16>>2],n[_+308>>2]=n[c+16>>2]<<2,n[_+312>>2]=n[c+16>>2]<<2,p=n[c+16>>2],n[_+320>>2]=b,n[_+316>>2]=p<<2,n[_+324>>2]=n[c+16>>2]<<2,n[_+328>>2]=n[c+16>>2]<<4,n[_+332>>2]=n[c+16>>2]<<4,n[_+336>>2]=n[c+16>>2]<<2,n[_+340>>2]=n[c+16>>2]<<2,n[_+344>>2]=n[c+16>>2]<<2,n[_+348>>2]=n[c+16>>2]<<4,n[_+352>>2]=n[c+16>>2]<<4,p=n[c+16>>2],n[_+360>>2]=T,n[_+356>>2]=p<<2,p=n[c+16>>2],n[_+404>>2]=T,n[_+400>>2]=T,n[_+396>>2]=T,n[_+392>>2]=T,n[_+388>>2]=T,n[_+384>>2]=T,n[_+380>>2]=T,n[_+376>>2]=T,n[_+372>>2]=T,n[_+368>>2]=T,n[_+364>>2]=p<<2,n[_+408>>2]=n[c+16>>2]<<2,n[_+412>>2]=n[c+16>>2]<<2,n[_+416>>2]=n[c+16>>2]<<2,n[_+420>>2]=n[c+16>>2]<<2,n[_+424>>2]=n[c+16>>2]<<2,n[_+428>>2]=n[c+16>>2]<<2,v=n[u+704>>2],n[_+432>>2]=K(n[v+20>>2],52),n[_+436>>2]=R>>>(T=g=0)<=3?n[v+20>>2]<<2:0,n[_+440>>2]=n[v+20>>2]<<2,n[_+444>>2]=K(n[v+52>>2],28),1<=(0|(c=n[v+48>>2]))){for(p=n[u+1072>>2],b=0;b=(I=n[p+(T<<2)>>2])+b|0,g=(1<<I)+g|0,(0|c)!=(0|(T=T+1|0)););T=g<<2,g=b<<2}if(n[_+460>>2]=T,n[_+456>>2]=T,n[_+452>>2]=g,n[_+448>>2]=K(c,36),n[_+500>>2]=K(n[v+72>>2],28),1<=((b=T=p=0)|(I=n[v+72>>2]))){for(w=n[u+1224>>2],P=n[u+1220>>2],f=n[u+1212>>2],g=0;g=(0|(m=n[(c=b<<2)+P>>2]-n[c+w>>2]|0))<(0|g)?g:1+m|0,T=(0|T)<(0|(c=n[c+f>>2]))?c:T,(0|I)!=(0|(b=b+1|0)););b=T<<2,T=g<<2}if(c=n[v+76>>2],n[_+516>>2]=T,n[_+512>>2]=b,n[_+508>>2]=T,n[_+504>>2]=c<<4,1<=(0|(c=n[v+80>>2]))){for(p=n[u+1248>>2],b=n[u+1072>>2],g=T=0;g=(1<<n[b+(n[p+(T<<2)>>2]<<2)>>2])+g|0,(0|c)!=(0|(T=T+1|0)););p=g<<2}if(n[_+520>>2]=K(c,24),n[_+524>>2]=n[v+80>>2]<<2,c=n[v+80>>2],n[_+532>>2]=p,n[_+528>>2]=c<<2,c=n[v+80>>2],n[_+544>>2]=p,n[_+540>>2]=p,n[_+536>>2]=c<<2,c=_,4<=R>>>0){if(n[_+464>>2]=K(n[v+120>>2],20),n[_+468>>2]=K(n[v+100>>2],28),p=_,1<=((T=b=0)|(I=n[v+104>>2]))){for(u=n[u+1104>>2],g=0;g=n[u+(T<<2)>>2]+g|0,(0|I)!=(0|(T=T+1|0)););u=g<<2}else u=0;n[p+476>>2]=u,n[_+472>>2]=K(I,48),n[_+484>>2]=K(n[v+108>>2],12),u=n[v+112>>2],n[_+552>>2]=0,n[_+492>>2]=K(u,12),u=0}else{if((0|(b=n[v+20>>2]))<1)g=0;else for(I=n[u+1060>>2],w=n[u+952>>2],u=n[u+948>>2],p=g=0;;){if(1<=(0|(P=n[(T=p<<2)+w>>2])))for(P=(T=I+(n[u+T>>2]<<2)|0)+(P<<2)|0;g=n[T>>2]+g|0,(T=T+4|0)>>>0<P>>>0;);if((0|b)==(0|(p=p+1|0)))break}n[_+552>>2]=b<<2,b=n[v+20>>2]<<2,u=g<<2}for(n[c+556>>2]=u,n[_+548>>2]=b,4<R>>>0&&(n[_+480>>2]=K(n[v+128>>2],12),n[_+488>>2]=K(n[v+132>>2],12),n[_+496>>2]=K(n[v+136>>2],12)),T=g=0;T=((c=n[(u=(g<<2)+_|0)>>2])+15&-16)+(n[u>>2]=T)|0,(0|(g=g+1|0))!=140;);n[A>>2]=T}function t1(u,_,A,m){e:{if(!(20<_>>>0||9<(_=_+-9|0)>>>0)){switch(_-1|0){default:return _=n[A>>2],n[A>>2]=_+4,n[u>>2]=n[_>>2];case 0:return _=n[A>>2],n[A>>2]=_+4,_=n[_>>2],n[u>>2]=_,n[u+4>>2]=_>>31;case 1:return _=n[A>>2],n[A>>2]=_+4,n[u>>2]=n[_>>2],n[u+4>>2]=0;case 3:return _=n[A>>2],n[A>>2]=_+4,_=_o[_>>1],n[u>>2]=_,n[u+4>>2]=_>>31;case 4:return _=n[A>>2],n[A>>2]=_+4,n[u>>2]=pn[_>>1],n[u+4>>2]=0;case 5:return _=n[A>>2],n[A>>2]=_+4,_=ht[0|_],n[u>>2]=_,n[u+4>>2]=_>>31;case 6:return _=n[A>>2],n[A>>2]=_+4,n[u>>2]=dt[0|_],n[u+4>>2]=0;case 2:case 7:break e;case 8:}ft[m](u,A)}return}_=n[A>>2]+7&-8,n[A>>2]=_+8,A=n[_+4>>2],n[u>>2]=n[_>>2],n[u+4>>2]=A}function e1(u){var _,A,m=0;if(Ps(ht[n[u>>2]]))for(;_=n[u>>2],A=ht[0|_],n[u>>2]=_+1,m=(K(m,10)+A|0)-48|0,Ps(ht[_+1|0]););return m}function r1(u,_,A,m,f){var T,c;n[204+(V=c=V-208|0)>>2]=A,Vi(160+c|(A=0),0,40),n[200+c>>2]=n[204+c>>2],(0|o0(0,_,200+c|0,80+c|0,160+c|0,m,f))<0||(A=0<=n[u+76>>2]?1:A,A=n[u>>2],ht[u+74|0]<=0&&(n[u>>2]=-33&A),T=32&A,n[u+48>>2]?o0(u,_,200+c|0,80+c|0,160+c|0,m,f):(n[u+48>>2]=80,n[u+16>>2]=80+c,n[u+28>>2]=c,n[u+20>>2]=c,A=n[u+44>>2],o0(u,_,200+(n[u+44>>2]=c)|0,80+c|0,160+c|0,m,f),A&&(ft[n[u+36>>2]](u,0,0),n[u+48>>2]=0,n[u+44>>2]=A,n[u+28>>2]=0,n[u+16>>2]=0,n[u+20>>2]=0)),n[u>>2]=n[u>>2]|T),V=208+c|0}function i1(u,_,A){var m,f;Ti(8+(V=f=V-160|0)|0,3192,144),n[52+f>>2]=u,n[28+f>>2]=u,n[56+f>>2]=m=(m=-2-u|0)>>>0<256?m:256,n[36+f>>2]=u=u+m|0,n[24+f>>2]=u,r1(8+f|0,_,A,11,12),m&&(u=n[28+f>>2],ht[u-((0|u)==n[24+f>>2])|0]=0),V=160+f|0}function n1(u,_){var A,m,f=0,f=(0|_)!=0;e:{t:{r:{i:if(!(!_|!(3&u)))for(;;){if(!dt[0|u])break r;if(u=u+1|0,f=(0|(_=_+-1|0))!=0,!_)break i;if(!(3&u))break}if(!f)break t}if(!dt[0|u])break e;r:{if(4<=_>>>0){for(f=(f=_+-4|0)-(A=-4&f)|0,A=4+(u+A|0)|0;;){if((-1^(m=n[u>>2]))&m+-16843009&-2139062144)break r;if(u=u+4|0,!(3<(_=_+-4|0)>>>0))break}_=f,u=A}if(!_)break t}for(;;){if(!dt[0|u])break e;if(u=u+1|0,!(_=_+-1|0))break}}return 0}return u}function a1(u){var _,A=0;if(!u)return 32;if(!(1&u))for(;A=A+1|0,_=2&u,u>>>=1,!_;);return A}function o1(u,_){var A,m,f,T,c=0,p=0,p=4;V=T=V-256|0;e:if(!((0|_)<2))for(c=n[(f=(_<<2)+u|0)>>2]=T;;){for(Ti(c,n[u>>2],A=p>>>0<256?p:256),c=0;Ti(n[(m=(c<<2)+u|0)>>2],n[((c=c+1|0)<<2)+u>>2],A),n[m>>2]=n[m>>2]+A,(0|_)!=(0|c););if(!(p=p-A|0))break e;c=n[f>>2]}V=256+T|0}function s1(u){return a1(n[u>>2]+-1|0)||((u=a1(n[u+4>>2]))?u+32|0:0)}function Ms(u,_){_|=0,Ot[0]=u|=0,Ot[1]=_}function l1(u,_,A){return function(m,f,T){var c,p,g,v,b=K(p=T>>>16,g=m>>>16);return m=(65535&(g=((c=K(v=65535&T,m&=65535))>>>16)+K(g,v)|0))+K(m,p)|0,Xi=((b+K(f,T)|0)+(g>>>16)|0)+(m>>>16)|0,65535&c|m<<16}(u,_,A)}function u1(u,_,A){return function(m,f,T){var c,p,g=0,v=0,b=0,I=0,P=0,w=0,R=0;e:{t:{r:{i:{n:{if(!(v=f))return Ms((f=m)-K(m=(m>>>0)/(T>>>0)|0,T)|0,0),Xi=0,m;if(g=T){if(!((I=g+-1|0)&g))break n;P=0-(I=(As(g)+33|0)-As(v)|0)|0;break r}if(!m)return Ms(0,v-K(m=(v>>>0)/0|0,0)|0),Xi=0,m;if((g=32-As(v)|0)>>>0<31)break i;break t}if(Ms(m&I,0),(0|g)==1)break e;return T=31&(g=g?31-As(g+-1^g)|0:32),m=32<=(63&g)>>>0?(v=0,f>>>T):(v=f>>>T,((1<<T)-1&f)<<32-T|m>>>T),Xi=v,m}I=g+1|0,P=63-g|0}if(g=f,b=31&(v=63&I),b=32<=v>>>0?(v=0,g>>>b):(v=g>>>b,((1<<b)-1&g)<<32-b|m>>>b),g=31&(P&=63),32<=P>>>0?(f=m<<g,m=0):(f=(1<<g)-1&m>>>32-g|f<<g,m<<=g),I)for((P=T+(g=-1)|0)>>>0<4294967295&&(g=0);b=(p=w=b<<1|f>>>31)-(c=T&(w=g-((v=v<<1|b>>>31)+(P>>>0<w>>>0)|0)>>31))|0,v=v-(p>>>0<c>>>0)|0,f=f<<1|m>>>31,m=R|m<<1,R=w&=1,I=I+-1|0;);return Ms(b,v),Xi=f<<1|m>>>31,w|m<<1}Ms(m,f),f=m=0}return Xi=f,m}(u,_,A)}function Br(u){var _;return(-1>>>(_=31&u)&-2)<<_|(-1<<(u=0-u&31)&-2)>>>u}function h1(){return ze.byteLength/65536|0}}(po,lt,bt)}}M=null,y.wasmBinary&&(Z=y.wasmBinary);var tt={},Z=[];typeof tt!="object"&&J("no native wasm support detected");var lt,bt=new function(q){var at=Array(16);return at.grow=function(){17<=at.length&&ce("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),at.push(null)},at.set=function(vt,_t){at[vt]=_t},at.get=function(vt){return at[vt]},at},Mt=!1;function Gt(q,at){q||ce("Assertion failed: "+at)}var mt,pt,Dt,ut,gt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function et(q,at,vt){var _t=at+vt;for(vt=at;q[vt]&&!(_t<=vt);)++vt;if(16<vt-at&&q.subarray&&gt)return gt.decode(q.subarray(at,vt));for(_t="";at<vt;){var Ot,fe,be=q[at++];128&be?(Ot=63&q[at++],(224&be)==192?_t+=String.fromCharCode((31&be)<<6|Ot):(fe=63&q[at++],(be=(240&be)==224?(15&be)<<12|Ot<<6|fe:(7&be)<<18|Ot<<12|fe<<6|63&q[at++])<65536?_t+=String.fromCharCode(be):(be-=65536,_t+=String.fromCharCode(55296|be>>10,56320|1023&be)))):_t+=String.fromCharCode(be)}return _t}function it(q,at){return q?et(Dt,q,at):""}function Rt(q){return 0<q%65536&&(q+=65536-q%65536),q}function Jt(q){mt=q,y.HEAP8=pt=new Int8Array(q),y.HEAP16=new Int16Array(q),y.HEAP32=ut=new Int32Array(q),y.HEAPU8=Dt=new Uint8Array(q),y.HEAPU16=new Uint16Array(q),y.HEAPU32=new Uint32Array(q),y.HEAPF32=new Float32Array(q),y.HEAPF64=new Float64Array(q)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var zt=y.TOTAL_MEMORY||16777216;function de(q){for(;0<q.length;){var at,vt=q.shift();typeof vt=="function"?vt():typeof(at=vt.ea)=="number"?vt.da===void 0?y.dynCall_v(at):y.dynCall_vi(at,vt.da):at(vt.da===void 0?null:vt.da)}}(lt=y.wasmMemory||new function(){return{buffer:new ArrayBuffer(zt/65536*65536),grow:function(q){return RS(q)}}})&&(mt=lt.buffer),mt.byteLength,Jt(mt),ut[2216]=5251936;var Qt,ue=[],je=[],rr=[],Pe=[],Zt=(Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(q,at){var vt=65535&q,_t=65535&at;return vt*_t+((q>>>16)*_t+vt*(at>>>16)<<16)|0}),Math.fround||(Qt=new Float32Array(1),Math.fround=function(q){return Qt[0]=q,Qt[0]}),Math.clz32||(Math.clz32=function(q){var at=32,vt=q>>16;return vt&&(at-=16,q=vt),(vt=q>>8)&&(at-=8,q=vt),(vt=q>>4)&&(at-=4,q=vt),(vt=q>>2)&&(at-=2,q=vt),q>>1?at-2:at-q}),Math.trunc||(Math.trunc=function(q){return q<0?Math.ceil(q):Math.floor(q)}),0),he=null;function ce(q){throw y.onAbort&&y.onAbort(q),z(q),J(q),Mt=!0,"abort("+q+"). Build with -s ASSERTIONS=1 for more info."}y.preloadedImages={},y.preloadedAudios={};var Yt="data:application/octet-stream;base64,";function ir(q){return String.prototype.startsWith?q.startsWith(Yt):q.indexOf(Yt)===0}var Y="_em_module.wasm";function ae(){try{if(Z)return new Uint8Array(Z);var q=dn(Y);if(q)return q;if($)return $(Y);throw"both async and sync fetching of the wasm failed"}catch(at){ce(at)}}ir(Y)||(j=Y,Y=y.locateFile?y.locateFile(j,Er):Er+j),je.push({ea:function(){wS()}});var ii=[null,[],[]];function fn(q){for(var at=[],vt=0;vt<q.length;vt++){var _t=q[vt];255<_t&&(_t&=255),at.push(String.fromCharCode(_t))}return at.join("")}var fo=typeof atob=="function"?atob:function(q){var at="",vt=0;q=q.replace(/[^A-Za-z0-9\+\/=]/g,"");do var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(q.charAt(vt++)),be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(q.charAt(vt++)),_t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(q.charAt(vt++)),Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(q.charAt(vt++)),fe=fe<<2|be>>4,be=(15&be)<<4|_t>>2,Lt=(3&_t)<<6|Ot;while(at+=String.fromCharCode(fe),_t!==64&&(at+=String.fromCharCode(be)),Ot!==64&&(at+=String.fromCharCode(Lt)),vt<q.length);return at};function dn(q){if(ir(q)){if(q=q.slice(Yt.length),typeof G=="boolean"&&G){try{var at=Buffer.from(q,"base64")}catch{at=new Buffer(q,"base64")}var vt=new Uint8Array(at.buffer,at.byteOffset,at.byteLength)}else try{for(var _t=fo(q),Ot=new Uint8Array(_t.length),at=0;at<_t.length;++at)Ot[at]=_t.charCodeAt(at);vt=Ot}catch{throw Error("Converting base64 string to bytes failed.")}return vt}}var kn,po={a:function(q,at,vt){Dt.set(Dt.subarray(at,at+vt),q)},b:function(q){if(2147418112<q)return!1;for(var at=Math.max(pt.length,16777216);at<q;)at=at<=536870912?Rt(2*at):Math.min(Rt((3*at+2147483648)/4),2147418112);e:{try{lt.grow(at-mt.byteLength+65535>>16),Jt(lt.buffer);var vt=1;break e}catch{}vt=void 0}return!!vt},c:function(q,at,vt,_t){try{for(var Ot=0,fe=0;fe<vt;fe++){for(var be=ut[at+8*fe>>2],Lt=ut[at+(8*fe+4)>>2],ji=0;ji<Lt;ji++){var we=Dt[be+ji],ee=ii[q];we===0||we===10?((q===1?z:J)(et(ee,0)),ee.length=0):ee.push(we)}Ot+=Lt}return ut[_t>>2]=Ot,0}catch(Ht){return typeof FS<"u"&&Ht instanceof FS.fa||ce(Ht),Ht.ga}},memory:lt,table:bt},Er=function(){function q(Ot){y.asm=Ot.exports,Zt--,y.monitorRunDependencies&&y.monitorRunDependencies(Zt),Zt==0&&he&&(Ot=he,he=null,Ot())}function at(Ot){q(Ot.instance)}function vt(Ot){(Z||!L&&!B||typeof fetch!="function"?new Promise(function(fe){fe(ae())}):fetch(Y,{credentials:"same-origin"}).then(function(fe){if(fe.ok)return fe.arrayBuffer();throw"failed to load wasm binary file at '"+Y+"'"}).catch(ae)).then(function(){return{then:function(fe){fe({instance:new Q})}}}).then(Ot,function(fe){J("failed to asynchronously prepare wasm: "+fe),ce(fe)})}var _t={env:po,wasi_unstable:po};if(Zt++,y.monitorRunDependencies&&y.monitorRunDependencies(Zt),y.instantiateWasm)try{return y.instantiateWasm(_t,q)}catch(Ot){return J("Module.instantiateWasm callback failed with error: "+Ot),!1}return Z||typeof tt.instantiateStreaming!="function"||ir(Y)||typeof fetch!="function"?vt(at):fetch(Y,{credentials:"same-origin"}).then(function(Ot){return tt.instantiateStreaming(Ot,_t).then(at,function(fe){J("wasm streaming compile failed: "+fe),J("falling back to ArrayBuffer instantiation"),vt(at)})}),{}}(),wS=(y.asm=Er,y.___wasm_call_ctors=function(){return y.asm.d.apply(null,arguments)}),MS=(y._csmGetVersion=function(){return y.asm.e.apply(null,arguments)},y._csmGetLatestMocVersion=function(){return y.asm.f.apply(null,arguments)},y._csmGetMocVersion=function(){return y.asm.g.apply(null,arguments)},y._csmHasMocConsistency=function(){return y.asm.h.apply(null,arguments)},y._csmSetLogFunction=function(){return y.asm.i.apply(null,arguments)},y._csmReviveMocInPlace=function(){return y.asm.j.apply(null,arguments)},y._csmReadCanvasInfo=function(){return y.asm.k.apply(null,arguments)},y._csmGetSizeofModel=function(){return y.asm.l.apply(null,arguments)},y._csmInitializeModelInPlace=function(){return y.asm.m.apply(null,arguments)},y._csmUpdateModel=function(){return y.asm.n.apply(null,arguments)},y._csmGetParameterCount=function(){return y.asm.o.apply(null,arguments)},y._csmGetParameterIds=function(){return y.asm.p.apply(null,arguments)},y._csmGetParameterTypes=function(){return y.asm.q.apply(null,arguments)},y._csmGetParameterMinimumValues=function(){return y.asm.r.apply(null,arguments)},y._csmGetParameterMaximumValues=function(){return y.asm.s.apply(null,arguments)},y._csmGetParameterDefaultValues=function(){return y.asm.t.apply(null,arguments)},y._csmGetParameterValues=function(){return y.asm.u.apply(null,arguments)},y._csmGetPartCount=function(){return y.asm.v.apply(null,arguments)},y._csmGetPartIds=function(){return y.asm.w.apply(null,arguments)},y._csmGetPartOpacities=function(){return y.asm.x.apply(null,arguments)},y._csmGetPartParentPartIndices=function(){return y.asm.y.apply(null,arguments)},y._csmGetDrawableCount=function(){return y.asm.z.apply(null,arguments)},y._csmGetDrawableIds=function(){return y.asm.A.apply(null,arguments)},y._csmGetDrawableConstantFlags=function(){return y.asm.B.apply(null,arguments)},y._csmGetDrawableDynamicFlags=function(){return y.asm.C.apply(null,arguments)},y._csmGetDrawableTextureIndices=function(){return y.asm.D.apply(null,arguments)},y._csmGetDrawableDrawOrders=function(){return y.asm.E.apply(null,arguments)},y._csmGetDrawableRenderOrders=function(){return y.asm.F.apply(null,arguments)},y._csmGetDrawableOpacities=function(){return y.asm.G.apply(null,arguments)},y._csmGetDrawableMaskCounts=function(){return y.asm.H.apply(null,arguments)},y._csmGetDrawableMasks=function(){return y.asm.I.apply(null,arguments)},y._csmGetDrawableVertexCounts=function(){return y.asm.J.apply(null,arguments)},y._csmGetDrawableVertexPositions=function(){return y.asm.K.apply(null,arguments)},y._csmGetDrawableVertexUvs=function(){return y.asm.L.apply(null,arguments)},y._csmGetDrawableIndexCounts=function(){return y.asm.M.apply(null,arguments)},y._csmGetDrawableIndices=function(){return y.asm.N.apply(null,arguments)},y._csmGetDrawableMultiplyColors=function(){return y.asm.O.apply(null,arguments)},y._csmGetDrawableScreenColors=function(){return y.asm.P.apply(null,arguments)},y._csmGetDrawableParentPartIndices=function(){return y.asm.Q.apply(null,arguments)},y._csmResetDrawableDynamicFlags=function(){return y.asm.R.apply(null,arguments)},y._csmGetParameterKeyCounts=function(){return y.asm.S.apply(null,arguments)},y._csmGetParameterKeyValues=function(){return y.asm.T.apply(null,arguments)},y._csmMallocMoc=function(){return y.asm.U.apply(null,arguments)},y._csmMallocModelAndInitialize=function(){return y.asm.V.apply(null,arguments)},y._csmMalloc=function(){return y.asm.W.apply(null,arguments)},y._csmFree=function(){return y.asm.X.apply(null,arguments)},y._csmInitializeAmountOfMemory=function(){return y.asm.Y.apply(null,arguments)},y.stackSave=function(){return y.asm.Z.apply(null,arguments)}),k_=y.stackAlloc=function(){return y.asm._.apply(null,arguments)},OS=y.stackRestore=function(){return y.asm.$.apply(null,arguments)},RS=y.__growWasmMemory=function(){return y.asm.aa.apply(null,arguments)};function Zc(){function q(){if(!kn&&(kn=!0,!Mt)){if(de(je),de(rr),y.onRuntimeInitialized&&y.onRuntimeInitialized(),y.postRun)for(typeof y.postRun=="function"&&(y.postRun=[y.postRun]);y.postRun.length;){var at=y.postRun.shift();Pe.unshift(at)}de(Pe)}}if(!(0<Zt)){if(y.preRun)for(typeof y.preRun=="function"&&(y.preRun=[y.preRun]);y.preRun.length;)(function(){var at=y.preRun.shift();ue.unshift(at)})();de(ue),0<Zt||(y.setStatus?(y.setStatus("Running..."),setTimeout(function(){setTimeout(function(){y.setStatus("")},1),q()},1)):q())}}if(y.dynCall_vi=function(){return y.asm.ba.apply(null,arguments)},y.asm=Er,y.ccall=function(q,at,vt,_t){var Ot={string:function(we){var ee=0;if(we!=null&&we!==0){var Ht=1+(we.length<<2),jt=ee=k_(Ht),ze=Dt;if(0<Ht){for(var Ht=jt+Ht-1,Ta=0;Ta<we.length;++Ta){var ft=we.charCodeAt(Ta);if((ft=55296<=ft&&ft<=57343?65536+((1023&ft)<<10)|1023&we.charCodeAt(++Ta):ft)<=127){if(Ht<=jt)break;ze[jt++]=ft}else{if(ft<=2047){if(Ht<=jt+1)break;ze[jt++]=192|ft>>6}else{if(ft<=65535){if(Ht<=jt+2)break;ze[jt++]=224|ft>>12}else{if(Ht<=jt+3)break;ze[jt++]=240|ft>>18,ze[jt++]=128|ft>>12&63}ze[jt++]=128|ft>>6&63}ze[jt++]=128|63&ft}}ze[jt]=0}}return ee},array:function(we){var ee=k_(we.length);return pt.set(we,ee),ee}},fe=function(we){var ee=y["_"+we];return Gt(ee,"Cannot call unknown function "+we+", make sure it is exported"),ee}(q),be=[];if(q=0,_t)for(var Lt=0;Lt<_t.length;Lt++){var ji=Ot[vt[Lt]];ji?(q===0&&(q=MS()),be[Lt]=ji(_t[Lt])):be[Lt]=_t[Lt]}return vt=function(we){return at==="string"?it(we):at==="boolean"?!!we:we}(vt=fe.apply(null,be)),q!==0&&OS(q),vt},y.UTF8ToString=it,y.addFunction=function(q,at){var vt=bt.length;try{bt.grow(1)}catch(_t){throw!_t instanceof RangeError?_t:"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{bt.set(vt,q)}catch(_t){if(!_t instanceof TypeError)throw _t;Gt(at!==void 0,"Missing signature argument to addFunction"),bt.set(vt,q)}return vt},y.then=function(q){var at;return kn?q(y):(at=y.onRuntimeInitialized,y.onRuntimeInitialized=function(){at&&at(),q(y)}),y},he=function q(){kn||Zc(),kn||(he=q)},y.run=Zc,y.preInit)for(typeof y.preInit=="function"&&(y.preInit=[y.preInit]);0<y.preInit.length;)y.preInit.pop()();return Zc(),S}),d=(typeof Ch=="object"&&typeof $p=="object"?$p.exports=h:typeof define=="function"&&define.amd?define([],function(){return h}):typeof Ch=="object"&&(Ch._em_module=h),h())})(Id=Id||{});window.Live2DCubismCore=Id;const Ad=e=>{const t=e.length;if(t===0)return;const r=Math.floor(Math.random()*t);return e[r]},vA=(e,t)=>{let r;return{start:function(){return Gr(this,null,function*(){const i=()=>Gr(this,null,function*(){r&&(yield e(),clearTimeout(r),r=setTimeout(i,t))});r||(clearTimeout(r),r=setTimeout(i,t))})},stop:function(){clearTimeout(r),r=void 0}}},N0=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),ac=e=>typeof e=="number"||e instanceof Number,Kb=e=>Array.isArray(e),pl=e=>typeof e=="function",Ze=(e,t)=>{const r=Object.assign({},e);return N0(e)&&N0(t)&&Object.keys(t).forEach(i=>{N0(t[i])?i in e?r[i]=Ze(e[i],t[i]):Object.assign(r,{[i]:t[i]}):Object.assign(r,{[i]:t[i]})}),r};class yA{constructor(){Xt(this,"eventMap",new Map)}add(t,r){if(!r)return;const i=this.eventMap.get(t)||[];i.push(r),this.eventMap.set(t,i)}emit(t,...r){const i=this.eventMap.get(t);i==null||i.forEach(a=>void a(...r))}}const Rm=e=>`
  @keyframes oml2d-shake-tips{
    0% {
      transform: translate(-50%, 5%) scale(0.99);
    }
    50% {
   
      transform: translate(-50%, 0%) scale(1);
    }
    100% {
      transform: translate(-50%, 5%) scale(0.99);
    }
  }
  
  @keyframes oml2d-stage-slide-in {
    from {
      transform: translateY(130%);
    }
    to {
      transform: translateY(0%);
    }
  }
  
  @keyframes oml2d-stage-slide-out {
    from {
      transform: translateY(0%);
    }
    to {
      transform: translateY(130%);
    }
  }
  
  @keyframes oml2d-display-tips {
    0% {
      opacity: 0;
      visibility: hidden;
    }
    100% {
      opacity: 1;
      visibility: visible;
    }
  }
  
  @keyframes oml2d-hidden-tips {
    0% {
      opacity: 1;
      visibility: visible;
    }
    100% {
      opacity: 0;
      visibility: hidden;
    }
  }

  @keyframes oml2d-loading-rotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .oml2d-icon {
    width: 1em; 
    height: 1em;
    vertical-align: -0.15em;
    fill: currentColor;
    overflow: hidden;
  }
  
  .oml2d-loading{
    animation-name: oml2d-loading-rotate;
    animation-duration: 600ms;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }

  .oml2d-menus-item {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    box-sizing: border-box;
    align-items: center;
    transition: all 300ms;
    color: ${e};
    cursor: pointer;
    background-color: #fff;
  }
  
  .oml2d-menus-item:hover {
    background-color: ${e};
    color: #fff;
    box-shadow: 0 0 5px #000;
  }
  
  #${$n.menus} .oml2d-menus-item:not(:last-child) {
    margin-bottom: 10px;
  }
  
  @keyframes oml2d-status-bar-left-slide-out {
    0% {
      transform: translateX(-8%);
    }
    100% {
      transform: translateX(-120%);
    }
  }
  
  
  @keyframes oml2d-status-bar-left-slide-in {
    0% {
      transform: translateX(-120%);
    }
    100% {
      transform: translateX(-8%);
    }
  }

  @keyframes oml2d-status-bar-right-slide-out {
    0% {
      transform: translateX(8%);
    }
    100% {
      transform: translateX(120%);
    }
  }
  
  
  @keyframes oml2d-status-bar-right-slide-in {
    0% {
      transform: translateX(120%);
    }
    100% {
      transform: translateX(8%);
    }
  }
  `,bA={},xA={width:"0px",height:"0px",position:"fixed",right:"auto",bottom:0,zIndex:"9997",transform:"translateY(130%)"},Cm={position:"absolute",fontSize:"18px",borderRadius:"10px",filter:"drop-shadow(0 0 5px #999)",border:"2px solid #fff",color:"#fff",padding:"5px 5px",opacity:0,visibility:"hidden",transform:"translateX(-50%)",textAlign:"center",justifyContent:"center",animationDuration:"1000ms,1000ms",animationFillMode:"forwards, none",animationIterationCount:"1, infinite",width:"60%",left:"50%",top:0,display:"flex",alignItems:"center",minHeight:"100px"},$m={minWidth:"20px",minHeight:"40px",position:"fixed",transform:"translateX(-110%)",bottom:"80px",padding:"7px 5px",zIndex:"9998",borderStyle:"solid",borderColor:"#fff",fontWeight:"bold",borderRadius:"5px",borderWidth:"2px",boxShadow:"0 0 5px #999",color:"#fff",display:"flex",alignItems:"center",textAlign:"center",flexWrap:"wrap",fontSize:"14px",writingMode:"vertical-lr",cursor:"pointer"},Lm={transition:"all 500ms",visibility:"hidden",opacity:0,position:"absolute",bottom:"10%",zIndex:"9999",fontSize:"26px"},SA="#38B0DE",TA="#F08080",Wo={dockedPosition:"left",mobileDisplay:!1,primaryColor:SA,sayHello:!0,transitionTime:1e3,parentElement:document.body,importType:"complete",libraryUrls:{complete:"",cubism2:"",cubism5:""},stageStyle:bA,models:[],statusBar:{disable:!1,transitionTime:800,switchingMessage:"正在切换",loadingMessage:"加载中",loadSuccessMessage:"加载成功",loadFailMessage:"加载失败",reloadMessage:"重新加载",restMessage:"看板娘休息中",restMessageDuration:8e3,loadingIcon:"icon-loading",errorColor:TA,style:$m,mobileStyle:$m},tips:{messageLine:3,mobileStyle:Cm,style:Cm,idleTips:{wordTheDay:!1,message:[],duration:5e3,interval:1e4,priority:2},welcomeTips:{message:{daybreak:"早上好！一日之计在于晨，美好的一天就要开始了。",morning:"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！",noon:"中午了，工作了一个上午，现在是午餐时间！",afternoon:"午后很容易犯困呢，来杯咖啡吧~",dusk:"傍晚了！工作一天幸苦啦~",night:"晚上好，今天过得怎么样呢？",lateNight:"已经这么晚了呀，早点休息吧，晚安~",weeHours:"这么晚还不睡吗？当心熬夜秃头哦！"},duration:6e3,priority:3},copyTips:{duration:3e3,priority:3,message:["你复制了什么内容呢?记得注明出处哦~"]}},menus:{disable:!1,items:[{id:"Rest",icon:"icon-rest",title:"休息",onClick(e){var t;e.statusBarOpen((t=e.options.statusBar)==null?void 0:t.restMessage),e.clearTips(),e.setStatusBarClickEvent(()=>{e.statusBarClose(),e.stageSlideIn(),e.statusBarClearEvents()}),e.stageSlideOut()}},{id:"SwitchModelClothes",icon:"icon-skin",title:"切换衣服",onClick(e){e.loadNextModelClothes()}},{id:"SwitchModel",icon:"icon-switch",title:"切换模型",onClick(e){e.loadNextModel()}},{id:"About",icon:"icon-about",title:"关于",onClick(){window.open("https://oml2d.com")}}],style:Lm,itemStyle:{},mobileStyle:Lm,mobileItemStyle:{}},initialStatus:"active"},$n={globalStyle:"oml2d-global-style",stage:"oml2d-stage",canvas:"oml2d-canvas",statusBar:"oml2d-statusBar",tips:"oml2d-tips",menus:"oml2d-menus",iconSvg:"oml2d-icon-svg"},EA=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Dm=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(EA);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Nm=e=>e==="*"||e==="x"||e==="X",Fm=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},IA=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],AA=(e,t)=>{if(Nm(e)||Nm(t))return 0;const[r,i]=IA(Fm(e),Fm(t));return r>i?1:r<i?-1:0},km=(e,t)=>{for(let r=0;r<Math.max(e.length,t.length);r++){const i=AA(e[r]||"0",t[r]||"0");if(i!==0)return i}return 0},PA=(e,t)=>{const r=Dm(e),i=Dm(t),a=r.pop(),o=i.pop(),s=km(r,i);return s!==0?s:a&&o?km(a.split("."),o.split(".")):a||o?a?-1:1:0},wA=(e,t,r)=>{MA(r);const i=PA(e,t);return Qb[r].includes(i)},Qb={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Bm=Object.keys(Qb),MA=e=>{if(Bm.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Bm.join("|")}`)};var Rr=(e=>(e.pc="PC",e.mobile="MOBILE",e))(Rr||{}),Zb=(e=>(e.ALL="ALL",e.IDLE="IDLE",e.NONE="NONE",e))(Zb||{});const OA=function(e){const{message:t}=e;let r="";const i=new Date().getHours().toString(),a=/^[5-7]$/,o=/^(?:[8-9]|1[0-1])$/,s=/^(1[2-3])$/,l=/^1[4-7]$/,h=/^1[8-9]$/,d=/^2[0-1]$/,S=/^2[2-3]$/;return a.test(i)?r=t.daybreak:o.test(i)?r=t==null?void 0:t.morning:s.test(i)?r=t==null?void 0:t.noon:l.test(i)?r=t==null?void 0:t.afternoon:h.test(i)?r=t==null?void 0:t.dusk:d.test(i)?r=t==null?void 0:t.night:S.test(i)?r=t==null?void 0:t.lateNight:r=t==null?void 0:t.weeHours,r},RA=()=>{},nn=e=>{const t=mA({},e);return"width"in e&&ac(e.width)&&(t.width=`${e.width}px`),"height"in e&&ac(e.height)&&(t.height=`${e.height}px`),t},ro=(e,t)=>{Object.assign(t.style,e)},CA=e=>new Promise(t=>setTimeout(t,e)),Ln=e=>{const t=document.createElement(e.tagName);return t.id=e.id,e.className&&(t.className=e.className),e.dataName&&t.setAttribute("data-name",e.dataName),e.children&&e.children.forEach(r=>{t.appendChild(Ln(r))}),e.innerHtml&&(t.innerHTML=e.innerHtml),e.innerText&&(t.innerText=e.innerText),t},$A=()=>Gr(void 0,null,function*(){const e=yield fetch("https://unpkg.com/oh-my-live2d@latest/package.json"),{version:t}=yield e.json();wA(t,"0.19.3",">")&&console.warn("[oml2d] 检查到 oh-my-live2d 存在最新版:",`v${t}`,"请前往: https://oml2d.com 以获得最新版详细信息, 并及时更新.")}),Hm=e=>Gr(void 0,null,function*(){const t=yield(yield fetch("https://v1.hitokoto.cn")).json();return e?e(t):`${t.hitokoto}`}),qb=window.matchMedia("screen and (max-width: 768px)"),ys=()=>qb.matches?Rr.mobile:Rr.pc,LA=e=>{qb.addEventListener("change",t=>{t.matches?e(Rr.mobile):e(Rr.pc)})},DA=(e,t)=>{const r=Ze(e,t);return r.parentElement=t.parentElement||document.body,r},Hl=(e,t=0,r=!1)=>{switch(e){case"left":return r?{left:"auto",right:`${t}px`}:{left:`${t}px`,right:"auto"};case"right":return r?{left:`${t}px`,right:"auto"}:{left:"auto",right:`${t}px`}}},NA=(e,t)=>{let r=t;for(;r===t;)r=Math.floor(Math.random()*e);return r};class FA{constructor(t){Xt(this,"styleSheet"),this.options=t}create(){document.getElementById($n.globalStyle)||(this.styleSheet=Ln({tagName:"style",id:$n.globalStyle,innerHtml:Rm(this.options.primaryColor)}))}mount(){this.styleSheet&&document.head.append(this.styleSheet)}initialize(){this.create(),this.mount(),this.reloadStyleSheet()}initializeStyle(){this.reloadStyleSheet()}reloadStyleSheet(){this.styleSheet&&(this.styleSheet.innerHTML=Rm(this.options.primaryColor))}}class kA{constructor(t,r){Xt(this,"element"),Xt(this,"style",{}),Xt(this,"itemStyle",{}),Xt(this,"menuItemList",[]),Xt(this,"_menuOptions",Wo.menus),this.options=t,this.oml2d=r}reload(t){this.unmount(),this.create(),this.reloadStyle(),this.mount(t)}get menuOptions(){return this._menuOptions}set menuOptions(t){let r;pl(t)?r=Ze(Wo.menus,t(this.options.models[this.oml2d.modelIndex||0],this.oml2d.modelIndex||0)):r=t,this._menuOptions=r}createMenuItemElements(t){this.menuItemList=t.map(r=>{const i=Ln({id:r.id,tagName:"div",dataName:r.id,className:"oml2d-menus-item",innerHtml:`<svg class="oml2d-icon"><use xlink:href="#${r.icon}"></use></svg>`});return i.title=r.title,i.onclick=()=>{var a;(a=r.onClick)==null||a.call(r,this.oml2d)},i})}createMenuItem(){if(Kb(this.menuOptions.items))this.createMenuItemElements(this.menuOptions.items);else if(pl(this.menuOptions.items)){const t=this.menuOptions.items(Wo.menus.items);this.createMenuItemElements(t)}}create(){this.menuOptions=this.options.menus,this.menuOptions.disable===!1&&(this.element=Ln({id:$n.menus,tagName:"div",className:$n.menus}),this.createMenuItem())}unmountItems(){this.menuItemList.forEach(t=>{t.remove()})}unmount(){var t;this.unmountItems(),(t=this.element)==null||t.remove()}mountItems(){this.element&&this.element.append(...this.menuItemList)}mount(t){if(this.element){t.append(this.element),this.mountItems(),t.onmouseover=()=>{this.setStyle({opacity:1,visibility:"visible"})},t.onmouseout=()=>{this.setStyle({opacity:0,visibility:"hidden"})};let r;t.ontouchend=()=>{clearTimeout(r),this.setStyle({opacity:1,visibility:"visible"}),r=setTimeout(()=>{this.setStyle({opacity:0,visibility:"hidden"})},3e3)}}}reloadStyle(){switch(this.style={},ys()){case Rr.pc:this.setStyle(nn(Ze(Hl(this.options.dockedPosition,10,!0),this.menuOptions.style||{}))),this.setItemStyle(nn(this.menuOptions.itemStyle||{}));break;case Rr.mobile:this.setStyle(nn(Ze(Hl(this.options.dockedPosition,10,!0),this.menuOptions.mobileStyle||{}))),this.setItemStyle(nn(this.menuOptions.mobileItemStyle||{}));break}}update(t){this.options=t,this.reloadStyle()}setStyle(t){this.element&&(this.style=Ze(this.style,t),ro(this.style,this.element))}setItemStyle(t){this.itemStyle=Ze(this.itemStyle,t),this.menuItemList.forEach(r=>{ro(this.itemStyle,r)})}}/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ln;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(ln||(ln={}));var os;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(os||(os={}));var Ul;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Ul||(Ul={}));var $t;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})($t||($t={}));var pi;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(pi||(pi={}));var ct;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ct||(ct={}));var ua;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ua||(ua={}));var Ct;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ct||(Ct={}));var Gl;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Gl||(Gl={}));var Di;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Di||(Di={}));var ki;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ki||(ki={}));var bi;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(bi||(bi={}));var xi;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(xi||(xi={}));var ci;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(ci||(ci={}));var jl;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(jl||(jl={}));var Jr;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Jr||(Jr={}));var Xe;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR"})(Xe||(Xe={}));var Pd;(function(e){e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA"})(Pd||(Pd={}));var Ie;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Ie||(Ie={}));var Bi;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Bi||(Bi={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tx={createCanvas:function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return(e=document.baseURI)!==null&&e!==void 0?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},F0=/iPhone/i,Um=/iPod/i,Gm=/iPad/i,jm=/\biOS-universal(?:.+)Mac\b/i,k0=/\bAndroid(?:.+)Mobile\b/i,Xm=/Android/i,yo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fu=/Silk/i,gn=/Windows Phone/i,Vm=/\bWindows(?:.+)ARM\b/i,zm=/BlackBerry/i,Jm=/BB10/i,Wm=/Opera Mini/i,Ym=/\b(CriOS|Chrome)(?:.+)Mobile/i,Km=/Mobile(?:.+)Firefox\b/i,Qm=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function BA(e){return function(t){return t.test(e)}}function HA(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var a=BA(r),o={apple:{phone:a(F0)&&!a(gn),ipod:a(Um),tablet:!a(F0)&&(a(Gm)||Qm(t))&&!a(gn),universal:a(jm),device:(a(F0)||a(Um)||a(Gm)||a(jm)||Qm(t))&&!a(gn)},amazon:{phone:a(yo),tablet:!a(yo)&&a(Fu),device:a(yo)||a(Fu)},android:{phone:!a(gn)&&a(yo)||!a(gn)&&a(k0),tablet:!a(gn)&&!a(yo)&&!a(k0)&&(a(Fu)||a(Xm)),device:!a(gn)&&(a(yo)||a(Fu)||a(k0)||a(Xm))||a(/\bokhttp\b/i)},windows:{phone:a(gn),tablet:a(Vm),device:a(gn)||a(Vm)},other:{blackberry:a(zm),blackberry10:a(Jm),opera:a(Wm),firefox:a(Km),chrome:a(Ym),device:a(zm)||a(Jm)||a(Wm)||a(Km)||a(Ym)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var _i=HA(globalThis.navigator);function UA(){return!_i.apple.device}function GA(e){var t=!0;if(_i.tablet||_i.phone){if(_i.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var i=parseInt(r[1],10);i<11&&(t=!1)}}if(_i.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var i=parseInt(r[1],10);i<7&&(t=!1)}}}return t?e:4}var St={ADAPTER:tx,MIPMAP_TEXTURES:bi.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ie.NONE,SPRITE_MAX_TEXTURES:GA(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:jl.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:ki.CLAMP,SCALE_MODE:Di.LINEAR,PRECISION_VERTEX:Jr.HIGH,PRECISION_FRAGMENT:_i.apple.device?Jr.HIGH:Jr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:UA(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}var ex={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(h,d,S){this.fn=h,this.context=d,this.once=S||!1}function o(h,d,S,y,E){if(typeof S!="function")throw new TypeError("The listener must be a function");var M=new a(S,y||h,E),O=r?r+d:d;return h._events[O]?h._events[O].fn?h._events[O]=[h._events[O],M]:h._events[O].push(M):(h._events[O]=M,h._eventsCount++),h}function s(h,d){--h._eventsCount===0?h._events=new i:delete h._events[d]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,S;if(this._eventsCount===0)return h;for(S in d=this._events)t.call(d,S)&&h.push(r?S.slice(1):S);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h){var d=r?r+h:h,S=this._events[d];if(!S)return[];if(S.fn)return[S.fn];for(var y=0,E=S.length,M=new Array(E);y<E;y++)M[y]=S[y].fn;return M},l.prototype.listenerCount=function(h){var d=r?r+h:h,S=this._events[d];return S?S.fn?1:S.length:0},l.prototype.emit=function(h,d,S,y,E,M){var O=r?r+h:h;if(!this._events[O])return!1;var C=this._events[O],N=arguments.length,$,L;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),N){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,d),!0;case 3:return C.fn.call(C.context,d,S),!0;case 4:return C.fn.call(C.context,d,S,y),!0;case 5:return C.fn.call(C.context,d,S,y,E),!0;case 6:return C.fn.call(C.context,d,S,y,E,M),!0}for(L=1,$=new Array(N-1);L<N;L++)$[L-1]=arguments[L];C.fn.apply(C.context,$)}else{var B=C.length,G;for(L=0;L<B;L++)switch(C[L].once&&this.removeListener(h,C[L].fn,void 0,!0),N){case 1:C[L].fn.call(C[L].context);break;case 2:C[L].fn.call(C[L].context,d);break;case 3:C[L].fn.call(C[L].context,d,S);break;case 4:C[L].fn.call(C[L].context,d,S,y);break;default:if(!$)for(G=1,$=new Array(N-1);G<N;G++)$[G-1]=arguments[G];C[L].fn.apply(C[L].context,$)}}return!0},l.prototype.on=function(h,d,S){return o(this,h,d,S,!1)},l.prototype.once=function(h,d,S){return o(this,h,d,S,!0)},l.prototype.removeListener=function(h,d,S,y){var E=r?r+h:h;if(!this._events[E])return this;if(!d)return s(this,E),this;var M=this._events[E];if(M.fn)M.fn===d&&(!y||M.once)&&(!S||M.context===S)&&s(this,E);else{for(var O=0,C=[],N=M.length;O<N;O++)(M[O].fn!==d||y&&!M[O].once||S&&M[O].context!==S)&&C.push(M[O]);C.length?this._events[E]=C.length===1?C[0]:C:s(this,E)}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=r?r+h:h,this._events[d]&&s(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ex);var XA=ex.exports;const Nn=O2(XA);var R2={exports:{}};R2.exports=Nc;R2.exports.default=Nc;function Nc(e,t,r){r=r||2;var i=t&&t.length,a=i?t[0]*r:e.length,o=rx(e,0,a,r,!0),s=[];if(!o||o.next===o.prev)return s;var l,h,d,S,y,E,M;if(i&&(o=YA(e,t,o,r)),e.length>80*r){l=d=e[0],h=S=e[1];for(var O=r;O<a;O+=r)y=e[O],E=e[O+1],y<l&&(l=y),E<h&&(h=E),y>d&&(d=y),E>S&&(S=E);M=Math.max(d-l,S-h),M=M!==0?32767/M:0}return Xl(o,s,r,l,h,M,0),s}function rx(e,t,r,i,a){var o,s;if(a===Od(e,t,r,i)>0)for(o=t;o<r;o+=i)s=Zm(o,e[o],e[o+1],s);else for(o=r-i;o>=t;o-=i)s=Zm(o,e[o],e[o+1],s);return s&&Fc(s,s.next)&&(zl(s),s=s.next),s}function io(e,t){if(!e)return e;t||(t=e);var r=e,i;do if(i=!1,!r.steiner&&(Fc(r,r.next)||De(r.prev,r,r.next)===0)){if(zl(r),r=t=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==t);return t}function Xl(e,t,r,i,a,o,s){if(e){!s&&o&&tP(e,i,a,o);for(var l=e,h,d;e.prev!==e.next;){if(h=e.prev,d=e.next,o?zA(e,i,a,o):VA(e)){t.push(h.i/r|0),t.push(e.i/r|0),t.push(d.i/r|0),zl(e),e=d.next,l=d.next;continue}if(e=d,e===l){s?s===1?(e=JA(io(e),t,r),Xl(e,t,r,i,a,o,2)):s===2&&WA(e,t,r,i,a,o):Xl(io(e),t,r,i,a,o,1);break}}}}function VA(e){var t=e.prev,r=e,i=e.next;if(De(t,r,i)>=0)return!1;for(var a=t.x,o=r.x,s=i.x,l=t.y,h=r.y,d=i.y,S=a<o?a<s?a:s:o<s?o:s,y=l<h?l<d?l:d:h<d?h:d,E=a>o?a>s?a:s:o>s?o:s,M=l>h?l>d?l:d:h>d?h:d,O=i.next;O!==t;){if(O.x>=S&&O.x<=E&&O.y>=y&&O.y<=M&&Uo(a,l,o,h,s,d,O.x,O.y)&&De(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function zA(e,t,r,i){var a=e.prev,o=e,s=e.next;if(De(a,o,s)>=0)return!1;for(var l=a.x,h=o.x,d=s.x,S=a.y,y=o.y,E=s.y,M=l<h?l<d?l:d:h<d?h:d,O=S<y?S<E?S:E:y<E?y:E,C=l>h?l>d?l:d:h>d?h:d,N=S>y?S>E?S:E:y>E?y:E,$=wd(M,O,t,r,i),L=wd(C,N,t,r,i),B=e.prevZ,G=e.nextZ;B&&B.z>=$&&G&&G.z<=L;){if(B.x>=M&&B.x<=C&&B.y>=O&&B.y<=N&&B!==a&&B!==s&&Uo(l,S,h,y,d,E,B.x,B.y)&&De(B.prev,B,B.next)>=0||(B=B.prevZ,G.x>=M&&G.x<=C&&G.y>=O&&G.y<=N&&G!==a&&G!==s&&Uo(l,S,h,y,d,E,G.x,G.y)&&De(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;B&&B.z>=$;){if(B.x>=M&&B.x<=C&&B.y>=O&&B.y<=N&&B!==a&&B!==s&&Uo(l,S,h,y,d,E,B.x,B.y)&&De(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;G&&G.z<=L;){if(G.x>=M&&G.x<=C&&G.y>=O&&G.y<=N&&G!==a&&G!==s&&Uo(l,S,h,y,d,E,G.x,G.y)&&De(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function JA(e,t,r){var i=e;do{var a=i.prev,o=i.next.next;!Fc(a,o)&&ix(a,i,i.next,o)&&Vl(a,o)&&Vl(o,a)&&(t.push(a.i/r|0),t.push(i.i/r|0),t.push(o.i/r|0),zl(i),zl(i.next),i=e=o),i=i.next}while(i!==e);return io(i)}function WA(e,t,r,i,a,o){var s=e;do{for(var l=s.next.next;l!==s.prev;){if(s.i!==l.i&&iP(s,l)){var h=nx(s,l);s=io(s,s.next),h=io(h,h.next),Xl(s,t,r,i,a,o,0),Xl(h,t,r,i,a,o,0);return}l=l.next}s=s.next}while(s!==e)}function YA(e,t,r,i){var a=[],o,s,l,h,d;for(o=0,s=t.length;o<s;o++)l=t[o]*i,h=o<s-1?t[o+1]*i:e.length,d=rx(e,l,h,i,!1),d===d.next&&(d.steiner=!0),a.push(rP(d));for(a.sort(KA),o=0;o<a.length;o++)r=QA(a[o],r);return r}function KA(e,t){return e.x-t.x}function QA(e,t){var r=ZA(e,t);if(!r)return t;var i=nx(r,e);return io(i,i.next),io(r,r.next)}function ZA(e,t){var r=t,i=e.x,a=e.y,o=-1/0,s;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var l=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=i&&l>o&&(o=l,s=r.x<r.next.x?r:r.next,l===i))return s}r=r.next}while(r!==t);if(!s)return null;var h=s,d=s.x,S=s.y,y=1/0,E;r=s;do i>=r.x&&r.x>=d&&i!==r.x&&Uo(a<S?i:o,a,d,S,a<S?o:i,a,r.x,r.y)&&(E=Math.abs(a-r.y)/(i-r.x),Vl(r,e)&&(E<y||E===y&&(r.x>s.x||r.x===s.x&&qA(s,r)))&&(s=r,y=E)),r=r.next;while(r!==h);return s}function qA(e,t){return De(e.prev,e,t.prev)<0&&De(t.next,e,e.next)<0}function tP(e,t,r,i){var a=e;do a.z===0&&(a.z=wd(a.x,a.y,t,r,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,eP(a)}function eP(e){var t,r,i,a,o,s,l,h,d=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,i=r,l=0,t=0;t<d&&(l++,i=i.nextZ,!!i);t++);for(h=d;l>0||h>0&&i;)l!==0&&(h===0||!i||r.z<=i.z)?(a=r,r=r.nextZ,l--):(a=i,i=i.nextZ,h--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;r=i}o.nextZ=null,d*=2}while(s>1);return e}function wd(e,t,r,i,a){return e=(e-r)*a|0,t=(t-i)*a|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function rP(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Uo(e,t,r,i,a,o,s,l){return(a-s)*(t-l)>=(e-s)*(o-l)&&(e-s)*(i-l)>=(r-s)*(t-l)&&(r-s)*(o-l)>=(a-s)*(i-l)}function iP(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!nP(e,t)&&(Vl(e,t)&&Vl(t,e)&&aP(e,t)&&(De(e.prev,e,t.prev)||De(e,t.prev,t))||Fc(e,t)&&De(e.prev,e,e.next)>0&&De(t.prev,t,t.next)>0)}function De(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Fc(e,t){return e.x===t.x&&e.y===t.y}function ix(e,t,r,i){var a=Bu(De(e,t,r)),o=Bu(De(e,t,i)),s=Bu(De(r,i,e)),l=Bu(De(r,i,t));return!!(a!==o&&s!==l||a===0&&ku(e,r,t)||o===0&&ku(e,i,t)||s===0&&ku(r,e,i)||l===0&&ku(r,t,i))}function ku(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Bu(e){return e>0?1:e<0?-1:0}function nP(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&ix(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function Vl(e,t){return De(e.prev,e,e.next)<0?De(e,t,e.next)>=0&&De(e,e.prev,t)>=0:De(e,t,e.prev)<0||De(e,e.next,t)<0}function aP(e,t){var r=e,i=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&a<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e);return i}function nx(e,t){var r=new Md(e.i,e.x,e.y),i=new Md(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function Zm(e,t,r,i){var a=new Md(e,t,r);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function zl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Md(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Nc.deviation=function(e,t,r,i){var a=t&&t.length,o=a?t[0]*r:e.length,s=Math.abs(Od(e,0,o,r));if(a)for(var l=0,h=t.length;l<h;l++){var d=t[l]*r,S=l<h-1?t[l+1]*r:e.length;s-=Math.abs(Od(e,d,S,r))}var y=0;for(l=0;l<i.length;l+=3){var E=i[l]*r,M=i[l+1]*r,O=i[l+2]*r;y+=Math.abs((e[E]-e[O])*(e[M+1]-e[E+1])-(e[E]-e[M])*(e[O+1]-e[E+1]))}return s===0&&y===0?0:Math.abs((y-s)/s)};function Od(e,t,r,i){for(var a=0,o=t,s=r-i;o<r;o+=i)a+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return a}Nc.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[a][o][s]);a>0&&(i+=e[a-1].length,r.holes.push(i))}return r};var oP=R2.exports;const C2=O2(oP);var oc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */oc.exports;(function(e,t){(function(r){var i=t&&!t.nodeType&&t,a=e&&!e.nodeType&&e,o=typeof Eh=="object"&&Eh;(o.global===o||o.window===o||o.self===o)&&(r=o);var s,l=2147483647,h=36,d=1,S=26,y=38,E=700,M=72,O=128,C="-",N=/^xn--/,$=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=h-d,j=Math.floor,z=String.fromCharCode,J;function Q(et){throw new RangeError(B[et])}function tt(et,it){for(var Rt=et.length,Jt=[];Rt--;)Jt[Rt]=it(et[Rt]);return Jt}function Z(et,it){var Rt=et.split("@"),Jt="";Rt.length>1&&(Jt=Rt[0]+"@",et=Rt[1]),et=et.replace(L,".");var zt=et.split("."),de=tt(zt,it).join(".");return Jt+de}function lt(et){for(var it=[],Rt=0,Jt=et.length,zt,de;Rt<Jt;)zt=et.charCodeAt(Rt++),zt>=55296&&zt<=56319&&Rt<Jt?(de=et.charCodeAt(Rt++),(de&64512)==56320?it.push(((zt&1023)<<10)+(de&1023)+65536):(it.push(zt),Rt--)):it.push(zt);return it}function bt(et){return tt(et,function(it){var Rt="";return it>65535&&(it-=65536,Rt+=z(it>>>10&1023|55296),it=56320|it&1023),Rt+=z(it),Rt}).join("")}function Mt(et){return et-48<10?et-22:et-65<26?et-65:et-97<26?et-97:h}function Gt(et,it){return et+22+75*(et<26)-((it!=0)<<5)}function mt(et,it,Rt){var Jt=0;for(et=Rt?j(et/E):et>>1,et+=j(et/it);et>G*S>>1;Jt+=h)et=j(et/G);return j(Jt+(G+1)*et/(et+y))}function pt(et){var it=[],Rt=et.length,Jt,zt=0,de=O,Qt=M,ue,je,rr,Pe,Zt,he,ce,Yt,ir;for(ue=et.lastIndexOf(C),ue<0&&(ue=0),je=0;je<ue;++je)et.charCodeAt(je)>=128&&Q("not-basic"),it.push(et.charCodeAt(je));for(rr=ue>0?ue+1:0;rr<Rt;){for(Pe=zt,Zt=1,he=h;rr>=Rt&&Q("invalid-input"),ce=Mt(et.charCodeAt(rr++)),(ce>=h||ce>j((l-zt)/Zt))&&Q("overflow"),zt+=ce*Zt,Yt=he<=Qt?d:he>=Qt+S?S:he-Qt,!(ce<Yt);he+=h)ir=h-Yt,Zt>j(l/ir)&&Q("overflow"),Zt*=ir;Jt=it.length+1,Qt=mt(zt-Pe,Jt,Pe==0),j(zt/Jt)>l-de&&Q("overflow"),de+=j(zt/Jt),zt%=Jt,it.splice(zt++,0,de)}return bt(it)}function Dt(et){var it,Rt,Jt,zt,de,Qt,ue,je,rr,Pe,Zt,he=[],ce,Yt,ir,Y;for(et=lt(et),ce=et.length,it=O,Rt=0,de=M,Qt=0;Qt<ce;++Qt)Zt=et[Qt],Zt<128&&he.push(z(Zt));for(Jt=zt=he.length,zt&&he.push(C);Jt<ce;){for(ue=l,Qt=0;Qt<ce;++Qt)Zt=et[Qt],Zt>=it&&Zt<ue&&(ue=Zt);for(Yt=Jt+1,ue-it>j((l-Rt)/Yt)&&Q("overflow"),Rt+=(ue-it)*Yt,it=ue,Qt=0;Qt<ce;++Qt)if(Zt=et[Qt],Zt<it&&++Rt>l&&Q("overflow"),Zt==it){for(je=Rt,rr=h;Pe=rr<=de?d:rr>=de+S?S:rr-de,!(je<Pe);rr+=h)Y=je-Pe,ir=h-Pe,he.push(z(Gt(Pe+Y%ir,0))),je=j(Y/ir);he.push(z(Gt(je,0))),de=mt(Rt,Yt,Jt==zt),Rt=0,++Jt}++Rt,++it}return he.join("")}function ut(et){return Z(et,function(it){return N.test(it)?pt(it.slice(4).toLowerCase()):it})}function gt(et){return Z(et,function(it){return $.test(it)?"xn--"+Dt(it):it})}if(s={version:"1.4.1",ucs2:{decode:lt,encode:bt},decode:pt,encode:Dt,toASCII:gt,toUnicode:ut},i&&a)if(e.exports==i)a.exports=s;else for(J in s)s.hasOwnProperty(J)&&(i[J]=s[J]);else r.punycode=s})(Eh)})(oc,oc.exports);var sP=oc.exports,lP=Error,uP=EvalError,hP=RangeError,cP=ReferenceError,ax=SyntaxError,fu=TypeError,fP=URIError,dP=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0},qm=typeof Symbol<"u"&&Symbol,pP=dP,_P=function(){return typeof qm!="function"||typeof Symbol!="function"||typeof qm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pP()},B0={__proto__:null,foo:{}},mP=Object,gP=function(){return{__proto__:B0}.foo===B0.foo&&!(B0 instanceof mP)},vP="Function.prototype.bind called on incompatible ",yP=Object.prototype.toString,bP=Math.max,xP="[object Function]",tg=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var a=0;a<t.length;a+=1)r[a+e.length]=t[a];return r},SP=function(e,t){for(var r=[],i=t,a=0;i<e.length;i+=1,a+=1)r[a]=e[i];return r},TP=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r},EP=function(e){var t=this;if(typeof t!="function"||yP.apply(t)!==xP)throw new TypeError(vP+t);for(var r=SP(arguments,1),i,a=function(){if(this instanceof i){var d=t.apply(this,tg(r,arguments));return Object(d)===d?d:this}return t.apply(e,tg(r,arguments))},o=bP(0,t.length-r.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+TP(s,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var h=function(){};h.prototype=t.prototype,i.prototype=new h,h.prototype=null}return i},IP=EP,$2=Function.prototype.bind||IP,AP=Function.prototype.call,PP=Object.prototype.hasOwnProperty,wP=$2,MP=wP.call(AP,PP),re,OP=lP,RP=uP,CP=hP,$P=cP,ss=ax,Yo=fu,LP=fP,ox=Function,H0=function(e){try{return ox('"use strict"; return ('+e+").constructor;")()}catch{}},Ja=Object.getOwnPropertyDescriptor;if(Ja)try{Ja({},"")}catch{Ja=null}var U0=function(){throw new Yo},DP=Ja?function(){try{return arguments.callee,U0}catch{try{return Ja(arguments,"callee").get}catch{return U0}}}():U0,bo=_P(),NP=gP(),fr=Object.getPrototypeOf||(NP?function(e){return e.__proto__}:null),Po={},FP=typeof Uint8Array>"u"||!fr?re:fr(Uint8Array),Wa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":bo&&fr?fr([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":Po,"%AsyncGenerator%":Po,"%AsyncGeneratorFunction%":Po,"%AsyncIteratorPrototype%":Po,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":OP,"%eval%":eval,"%EvalError%":RP,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":ox,"%GeneratorFunction%":Po,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":bo&&fr?fr(fr([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!bo||!fr?re:fr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":CP,"%ReferenceError%":$P,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!bo||!fr?re:fr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":bo&&fr?fr(""[Symbol.iterator]()):re,"%Symbol%":bo?Symbol:re,"%SyntaxError%":ss,"%ThrowTypeError%":DP,"%TypedArray%":FP,"%TypeError%":Yo,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":LP,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet};if(fr)try{null.error}catch(e){var kP=fr(fr(e));Wa["%Error.prototype%"]=kP}var BP=function e(t){var r;if(t==="%AsyncFunction%")r=H0("async function () {}");else if(t==="%GeneratorFunction%")r=H0("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=H0("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&fr&&(r=fr(a.prototype))}return Wa[t]=r,r},eg={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},du=$2,sc=MP,HP=du.call(Function.call,Array.prototype.concat),UP=du.call(Function.apply,Array.prototype.splice),rg=du.call(Function.call,String.prototype.replace),lc=du.call(Function.call,String.prototype.slice),GP=du.call(Function.call,RegExp.prototype.exec),jP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XP=/\\(\\)?/g,VP=function(e){var t=lc(e,0,1),r=lc(e,-1);if(t==="%"&&r!=="%")throw new ss("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new ss("invalid intrinsic syntax, expected opening `%`");var i=[];return rg(e,jP,function(a,o,s,l){i[i.length]=s?rg(l,XP,"$1"):o||a}),i},zP=function(e,t){var r=e,i;if(sc(eg,r)&&(i=eg[r],r="%"+i[0]+"%"),sc(Wa,r)){var a=Wa[r];if(a===Po&&(a=BP(r)),typeof a>"u"&&!t)throw new Yo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new ss("intrinsic "+e+" does not exist!")},bs=function(e,t){if(typeof e!="string"||e.length===0)throw new Yo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Yo('"allowMissing" argument must be a boolean');if(GP(/^%?[^%]*%?$/,e)===null)throw new ss("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=VP(e),i=r.length>0?r[0]:"",a=zP("%"+i+"%",t),o=a.name,s=a.value,l=!1,h=a.alias;h&&(i=h[0],UP(r,HP([0,1],h)));for(var d=1,S=!0;d<r.length;d+=1){var y=r[d],E=lc(y,0,1),M=lc(y,-1);if((E==='"'||E==="'"||E==="`"||M==='"'||M==="'"||M==="`")&&E!==M)throw new ss("property names with quotes must have matching quotes");if((y==="constructor"||!S)&&(l=!0),i+="."+y,o="%"+i+"%",sc(Wa,o))s=Wa[o];else if(s!=null){if(!(y in s)){if(!t)throw new Yo("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ja&&d+1>=r.length){var O=Ja(s,y);S=!!O,S&&"get"in O&&!("originalValue"in O.get)?s=O.get:s=s[y]}else S=sc(s,y),s=s[y];S&&!l&&(Wa[o]=s)}}return s},sx={exports:{}},G0,ig;function L2(){if(ig)return G0;ig=1;var e=bs,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return G0=t,G0}var JP=bs,Ih=JP("%Object.getOwnPropertyDescriptor%",!0);if(Ih)try{Ih([],"length")}catch{Ih=null}var lx=Ih,ng=L2(),WP=ax,xo=fu,ag=lx,YP=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new xo("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new xo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new xo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new xo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new xo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new xo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!ag&&ag(e,t);if(ng)ng(e,t,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)e[t]=r;else throw new WP("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Rd=L2(),ux=function(){return!!Rd};ux.hasArrayLengthDefineBug=function(){if(!Rd)return null;try{return Rd([],"length",{value:1}).length!==1}catch{return!0}};var KP=ux,QP=bs,og=YP,ZP=KP(),sg=lx,lg=fu,qP=QP("%Math.floor%"),tw=function(e,t){if(typeof e!="function")throw new lg("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||qP(t)!==t)throw new lg("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&sg){var o=sg(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!r)&&(ZP?og(e,"length",t,!0,!0):og(e,"length",t)),e};(function(e){var t=$2,r=bs,i=tw,a=fu,o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(s,o),h=L2(),d=r("%Math.max%");e.exports=function(y){if(typeof y!="function")throw new a("a function is required");var E=l(t,s,arguments);return i(E,1+d(0,y.length-(arguments.length-1)),!0)};var S=function(){return l(t,o,arguments)};h?h(e.exports,"apply",{value:S}):e.exports.apply=S})(sx);var ew=sx.exports,hx=bs,cx=ew,rw=cx(hx("String.prototype.indexOf")),iw=function(e,t){var r=hx(e,!!t);return typeof r=="function"&&rw(e,".prototype.")>-1?cx(r):r};const nw={},aw=Object.freeze(Object.defineProperty({__proto__:null,default:nw},Symbol.toStringTag,{value:"Module"})),ow=jA(aw);var D2=typeof Map=="function"&&Map.prototype,j0=Object.getOwnPropertyDescriptor&&D2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,uc=D2&&j0&&typeof j0.get=="function"?j0.get:null,ug=D2&&Map.prototype.forEach,N2=typeof Set=="function"&&Set.prototype,X0=Object.getOwnPropertyDescriptor&&N2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hc=N2&&X0&&typeof X0.get=="function"?X0.get:null,hg=N2&&Set.prototype.forEach,sw=typeof WeakMap=="function"&&WeakMap.prototype,_l=sw?WeakMap.prototype.has:null,lw=typeof WeakSet=="function"&&WeakSet.prototype,ml=lw?WeakSet.prototype.has:null,uw=typeof WeakRef=="function"&&WeakRef.prototype,cg=uw?WeakRef.prototype.deref:null,hw=Boolean.prototype.valueOf,cw=Object.prototype.toString,fw=Function.prototype.toString,dw=String.prototype.match,F2=String.prototype.slice,Zn=String.prototype.replace,pw=String.prototype.toUpperCase,fg=String.prototype.toLowerCase,fx=RegExp.prototype.test,dg=Array.prototype.concat,qi=Array.prototype.join,_w=Array.prototype.slice,pg=Math.floor,Cd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V0=Object.getOwnPropertySymbols,$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ls=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Cr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ls||!0)?Symbol.toStringTag:null,dx=Object.prototype.propertyIsEnumerable,_g=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function mg(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||fx.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var i=e<0?-pg(-e):pg(e);if(i!==e){var a=String(i),o=F2.call(t,a.length+1);return Zn.call(a,r,"$&_")+"."+Zn.call(Zn.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zn.call(t,r,"$&_")}var Ld=ow,gg=Ld.custom,vg=_x(gg)?gg:null,mw=function e(t,r,i,a){var o=r||{};if(Vn(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Vn(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Vn(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Vn(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Vn(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return gx(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return l?mg(t,h):h}if(typeof t=="bigint"){var d=String(t)+"n";return l?mg(t,d):d}var S=typeof o.depth>"u"?5:o.depth;if(typeof i>"u"&&(i=0),i>=S&&S>0&&typeof t=="object")return Dd(t)?"[Array]":"[Object]";var y=Lw(o,i);if(typeof a>"u")a=[];else if(mx(a,t)>=0)return"[Circular]";function E(Mt,Gt,mt){if(Gt&&(a=_w.call(a),a.push(Gt)),mt){var pt={depth:o.depth};return Vn(o,"quoteStyle")&&(pt.quoteStyle=o.quoteStyle),e(Mt,pt,i+1,a)}return e(Mt,o,i+1,a)}if(typeof t=="function"&&!yg(t)){var M=Iw(t),O=Hu(t,E);return"[Function"+(M?": "+M:" (anonymous)")+"]"+(O.length>0?" { "+qi.call(O,", ")+" }":"")}if(_x(t)){var C=ls?Zn.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):$d.call(t);return typeof t=="object"&&!ls?ks(C):C}if(Rw(t)){for(var N="<"+fg.call(String(t.nodeName)),$=t.attributes||[],L=0;L<$.length;L++)N+=" "+$[L].name+"="+px(gw($[L].value),"double",o);return N+=">",t.childNodes&&t.childNodes.length&&(N+="..."),N+="</"+fg.call(String(t.nodeName))+">",N}if(Dd(t)){if(t.length===0)return"[]";var B=Hu(t,E);return y&&!$w(B)?"["+Nd(B,y)+"]":"[ "+qi.call(B,", ")+" ]"}if(yw(t)){var G=Hu(t,E);return!("cause"in Error.prototype)&&"cause"in t&&!dx.call(t,"cause")?"{ ["+String(t)+"] "+qi.call(dg.call("[cause]: "+E(t.cause),G),", ")+" }":G.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+qi.call(G,", ")+" }"}if(typeof t=="object"&&s){if(vg&&typeof t[vg]=="function"&&Ld)return Ld(t,{depth:S-i});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Aw(t)){var j=[];return ug&&ug.call(t,function(Mt,Gt){j.push(E(Gt,t,!0)+" => "+E(Mt,t))}),bg("Map",uc.call(t),j,y)}if(Mw(t)){var z=[];return hg&&hg.call(t,function(Mt){z.push(E(Mt,t))}),bg("Set",hc.call(t),z,y)}if(Pw(t))return z0("WeakMap");if(Ow(t))return z0("WeakSet");if(ww(t))return z0("WeakRef");if(xw(t))return ks(E(Number(t)));if(Tw(t))return ks(E(Cd.call(t)));if(Sw(t))return ks(hw.call(t));if(bw(t))return ks(E(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Eh)return"{ [object globalThis] }";if(!vw(t)&&!yg(t)){var J=Hu(t,E),Q=_g?_g(t)===Object.prototype:t instanceof Object||t.constructor===Object,tt=t instanceof Object?"":"null prototype",Z=!Q&&Cr&&Object(t)===t&&Cr in t?F2.call(xa(t),8,-1):tt?"Object":"",lt=Q||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",bt=lt+(Z||tt?"["+qi.call(dg.call([],Z||[],tt||[]),": ")+"] ":"");return J.length===0?bt+"{}":y?bt+"{"+Nd(J,y)+"}":bt+"{ "+qi.call(J,", ")+" }"}return String(t)};function px(e,t,r){var i=(r.quoteStyle||t)==="double"?'"':"'";return i+e+i}function gw(e){return Zn.call(String(e),/"/g,"&quot;")}function Dd(e){return xa(e)==="[object Array]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function vw(e){return xa(e)==="[object Date]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function yg(e){return xa(e)==="[object RegExp]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function yw(e){return xa(e)==="[object Error]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function bw(e){return xa(e)==="[object String]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function xw(e){return xa(e)==="[object Number]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function Sw(e){return xa(e)==="[object Boolean]"&&(!Cr||!(typeof e=="object"&&Cr in e))}function _x(e){if(ls)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!$d)return!1;try{return $d.call(e),!0}catch{}return!1}function Tw(e){if(!e||typeof e!="object"||!Cd)return!1;try{return Cd.call(e),!0}catch{}return!1}var Ew=Object.prototype.hasOwnProperty||function(e){return e in this};function Vn(e,t){return Ew.call(e,t)}function xa(e){return cw.call(e)}function Iw(e){if(e.name)return e.name;var t=dw.call(fw.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function mx(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function Aw(e){if(!uc||!e||typeof e!="object")return!1;try{uc.call(e);try{hc.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Pw(e){if(!_l||!e||typeof e!="object")return!1;try{_l.call(e,_l);try{ml.call(e,ml)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function ww(e){if(!cg||!e||typeof e!="object")return!1;try{return cg.call(e),!0}catch{}return!1}function Mw(e){if(!hc||!e||typeof e!="object")return!1;try{hc.call(e);try{uc.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Ow(e){if(!ml||!e||typeof e!="object")return!1;try{ml.call(e,ml);try{_l.call(e,_l)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Rw(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function gx(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return gx(F2.call(e,0,t.maxStringLength),t)+i}var a=Zn.call(Zn.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Cw);return px(a,"single",t)}function Cw(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+pw.call(t.toString(16))}function ks(e){return"Object("+e+")"}function z0(e){return e+" { ? }"}function bg(e,t,r,i){var a=i?Nd(r,i):qi.call(r,", ");return e+" ("+t+") {"+a+"}"}function $w(e){for(var t=0;t<e.length;t++)if(mx(e[t],`
`)>=0)return!1;return!0}function Lw(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=qi.call(Array(e.indent+1)," ");else return null;return{base:r,prev:qi.call(Array(t+1),r)}}function Nd(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+qi.call(e,","+r)+`
`+t.prev}function Hu(e,t){var r=Dd(e),i=[];if(r){i.length=e.length;for(var a=0;a<e.length;a++)i[a]=Vn(e,a)?t(e[a],e):""}var o=typeof V0=="function"?V0(e):[],s;if(ls){s={};for(var l=0;l<o.length;l++)s["$"+o[l]]=o[l]}for(var h in e)Vn(e,h)&&(r&&String(Number(h))===h&&h<e.length||ls&&s["$"+h]instanceof Symbol||(fx.call(/[^\w$]/,h)?i.push(t(h,e)+": "+t(e[h],e)):i.push(h+": "+t(e[h],e))));if(typeof V0=="function")for(var d=0;d<o.length;d++)dx.call(e,o[d])&&i.push("["+t(o[d])+"]: "+t(e[o[d]],e));return i}var vx=bs,xs=iw,Dw=mw,Nw=fu,Uu=vx("%WeakMap%",!0),Gu=vx("%Map%",!0),Fw=xs("WeakMap.prototype.get",!0),kw=xs("WeakMap.prototype.set",!0),Bw=xs("WeakMap.prototype.has",!0),Hw=xs("Map.prototype.get",!0),Uw=xs("Map.prototype.set",!0),Gw=xs("Map.prototype.has",!0),k2=function(e,t){for(var r=e,i;(i=r.next)!==null;r=i)if(i.key===t)return r.next=i.next,i.next=e.next,e.next=i,i},jw=function(e,t){var r=k2(e,t);return r&&r.value},Xw=function(e,t,r){var i=k2(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},Vw=function(e,t){return!!k2(e,t)},zw=function(){var e,t,r,i={assert:function(a){if(!i.has(a))throw new Nw("Side channel does not contain "+Dw(a))},get:function(a){if(Uu&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Fw(e,a)}else if(Gu){if(t)return Hw(t,a)}else if(r)return jw(r,a)},has:function(a){if(Uu&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Bw(e,a)}else if(Gu){if(t)return Gw(t,a)}else if(r)return Vw(r,a);return!1},set:function(a,o){Uu&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Uu),kw(e,a,o)):Gu?(t||(t=new Gu),Uw(t,a,o)):(r||(r={key:{},next:null}),Xw(r,a,o))}};return i},Jw=String.prototype.replace,Ww=/%20/g,J0={RFC1738:"RFC1738",RFC3986:"RFC3986"},B2={default:J0.RFC3986,formatters:{RFC1738:function(e){return Jw.call(e,Ww,"+")},RFC3986:function(e){return String(e)}},RFC1738:J0.RFC1738,RFC3986:J0.RFC3986},Yw=B2,W0=Object.prototype.hasOwnProperty,Ha=Array.isArray,Yi=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Kw=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Ha(r)){for(var i=[],a=0;a<r.length;++a)typeof r[a]<"u"&&i.push(r[a]);t.obj[t.prop]=i}}},yx=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},Qw=function e(t,r,i){if(!r)return t;if(typeof r!="object"){if(Ha(t))t.push(r);else if(t&&typeof t=="object")(i&&(i.plainObjects||i.allowPrototypes)||!W0.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var a=t;return Ha(t)&&!Ha(r)&&(a=yx(t,i)),Ha(t)&&Ha(r)?(r.forEach(function(o,s){if(W0.call(t,s)){var l=t[s];l&&typeof l=="object"&&o&&typeof o=="object"?t[s]=e(l,o,i):t.push(o)}else t[s]=o}),t):Object.keys(r).reduce(function(o,s){var l=r[s];return W0.call(o,s)?o[s]=e(o[s],l,i):o[s]=l,o},a)},Zw=function(e,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},e)},qw=function(e,t,r){var i=e.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},t3=function(e,t,r,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var s="",l=0;l<o.length;++l){var h=o.charCodeAt(l);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||a===Yw.RFC1738&&(h===40||h===41)){s+=o.charAt(l);continue}if(h<128){s=s+Yi[h];continue}if(h<2048){s=s+(Yi[192|h>>6]+Yi[128|h&63]);continue}if(h<55296||h>=57344){s=s+(Yi[224|h>>12]+Yi[128|h>>6&63]+Yi[128|h&63]);continue}l+=1,h=65536+((h&1023)<<10|o.charCodeAt(l)&1023),s+=Yi[240|h>>18]+Yi[128|h>>12&63]+Yi[128|h>>6&63]+Yi[128|h&63]}return s},e3=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var a=t[i],o=a.obj[a.prop],s=Object.keys(o),l=0;l<s.length;++l){var h=s[l],d=o[h];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(t.push({obj:o,prop:h}),r.push(d))}return Kw(t),e},r3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},i3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},n3=function(e,t){return[].concat(e,t)},a3=function(e,t){if(Ha(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},bx={arrayToObject:yx,assign:Zw,combine:n3,compact:e3,decode:qw,encode:t3,isBuffer:i3,isRegExp:r3,maybeMap:a3,merge:Qw},xx=zw,Ah=bx,gl=B2,o3=Object.prototype.hasOwnProperty,xg={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Sn=Array.isArray,s3=Array.prototype.push,Sx=function(e,t){s3.apply(e,Sn(t)?t:[t])},l3=Date.prototype.toISOString,Sg=gl.default,wr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ah.encode,encodeValuesOnly:!1,format:Sg,formatter:gl.formatters[Sg],indices:!1,serializeDate:function(e){return l3.call(e)},skipNulls:!1,strictNullHandling:!1},u3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Y0={},h3=function e(t,r,i,a,o,s,l,h,d,S,y,E,M,O,C,N){for(var $=t,L=N,B=0,G=!1;(L=L.get(Y0))!==void 0&&!G;){var j=L.get(t);if(B+=1,typeof j<"u"){if(j===B)throw new RangeError("Cyclic object value");G=!0}typeof L.get(Y0)>"u"&&(B=0)}if(typeof h=="function"?$=h(r,$):$ instanceof Date?$=y($):i==="comma"&&Sn($)&&($=Ah.maybeMap($,function(pt){return pt instanceof Date?y(pt):pt})),$===null){if(o)return l&&!O?l(r,wr.encoder,C,"key",E):r;$=""}if(u3($)||Ah.isBuffer($)){if(l){var z=O?r:l(r,wr.encoder,C,"key",E);return[M(z)+"="+M(l($,wr.encoder,C,"value",E))]}return[M(r)+"="+M(String($))]}var J=[];if(typeof $>"u")return J;var Q;if(i==="comma"&&Sn($))O&&l&&($=Ah.maybeMap($,l)),Q=[{value:$.length>0?$.join(",")||null:void 0}];else if(Sn(h))Q=h;else{var tt=Object.keys($);Q=d?tt.sort(d):tt}for(var Z=a&&Sn($)&&$.length===1?r+"[]":r,lt=0;lt<Q.length;++lt){var bt=Q[lt],Mt=typeof bt=="object"&&typeof bt.value<"u"?bt.value:$[bt];if(!(s&&Mt===null)){var Gt=Sn($)?typeof i=="function"?i(Z,bt):Z:Z+(S?"."+bt:"["+bt+"]");N.set(t,B);var mt=xx();mt.set(Y0,N),Sx(J,e(Mt,Gt,i,a,o,s,i==="comma"&&O&&Sn($)?null:l,h,d,S,y,E,M,O,C,mt))}}return J},c3=function(e){if(!e)return wr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||wr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=gl.default;if(typeof e.format<"u"){if(!o3.call(gl.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=gl.formatters[r],a=wr.filter;return(typeof e.filter=="function"||Sn(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:wr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?wr.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wr.charsetSentinel,delimiter:typeof e.delimiter>"u"?wr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:wr.encode,encoder:typeof e.encoder=="function"?e.encoder:wr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:wr.encodeValuesOnly,filter:a,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:wr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:wr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wr.strictNullHandling}},f3=function(e,t){var r=e,i=c3(t),a,o;typeof i.filter=="function"?(o=i.filter,r=o("",r)):Sn(i.filter)&&(o=i.filter,a=o);var s=[];if(typeof r!="object"||r===null)return"";var l;t&&t.arrayFormat in xg?l=t.arrayFormat:t&&"indices"in t?l=t.indices?"indices":"repeat":l="indices";var h=xg[l];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=h==="comma"&&t&&t.commaRoundTrip;a||(a=Object.keys(r)),i.sort&&a.sort(i.sort);for(var S=xx(),y=0;y<a.length;++y){var E=a[y];i.skipNulls&&r[E]===null||Sx(s,h3(r[E],E,h,d,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,S))}var M=s.join(i.delimiter),O=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),M.length>0?O+M:""},us=bx,Fd=Object.prototype.hasOwnProperty,d3=Array.isArray,cr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:us.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},p3=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Tx=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},_3="utf8=%26%2310003%3B",m3="utf8=%E2%9C%93",g3=function(e,t){var r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,a),s=-1,l,h=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===m3?h="utf-8":o[l]===_3&&(h="iso-8859-1"),s=l,l=o.length);for(l=0;l<o.length;++l)if(l!==s){var d=o[l],S=d.indexOf("]="),y=S===-1?d.indexOf("="):S+1,E,M;y===-1?(E=t.decoder(d,cr.decoder,h,"key"),M=t.strictNullHandling?null:""):(E=t.decoder(d.slice(0,y),cr.decoder,h,"key"),M=us.maybeMap(Tx(d.slice(y+1),t),function(O){return t.decoder(O,cr.decoder,h,"value")})),M&&t.interpretNumericEntities&&h==="iso-8859-1"&&(M=p3(M)),d.indexOf("[]=")>-1&&(M=d3(M)?[M]:M),Fd.call(r,E)?r[E]=us.combine(r[E],M):r[E]=M}return r},v3=function(e,t,r,i){for(var a=i?t:Tx(t,r),o=e.length-1;o>=0;--o){var s,l=e[o];if(l==="[]"&&r.parseArrays)s=[].concat(a);else{s=r.plainObjects?Object.create(null):{};var h=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(h,10);!r.parseArrays&&h===""?s={0:a}:!isNaN(d)&&l!==h&&String(d)===h&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(s=[],s[d]=a):h!=="__proto__"&&(s[h]=a)}a=s}return a},y3=function(e,t,r,i){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(a),h=l?a.slice(0,l.index):a,d=[];if(h){if(!r.plainObjects&&Fd.call(Object.prototype,h)&&!r.allowPrototypes)return;d.push(h)}for(var S=0;r.depth>0&&(l=s.exec(a))!==null&&S<r.depth;){if(S+=1,!r.plainObjects&&Fd.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+a.slice(l.index)+"]"),v3(d,t,r,i)}},b3=function(e){if(!e)return cr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?cr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?cr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:cr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:cr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:cr.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:cr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:cr.comma,decoder:typeof e.decoder=="function"?e.decoder:cr.decoder,delimiter:typeof e.delimiter=="string"||us.isRegExp(e.delimiter)?e.delimiter:cr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:cr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:cr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:cr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:cr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:cr.strictNullHandling}},x3=function(e,t){var r=b3(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof e=="string"?g3(e,r):e,a=r.plainObjects?Object.create(null):{},o=Object.keys(i),s=0;s<o.length;++s){var l=o[s],h=y3(l,i[l],r,typeof e=="string");a=us.merge(a,h,r)}return r.allowSparse===!0?a:us.compact(a)},S3=f3,T3=x3,E3=B2,I3={formats:E3,parse:T3,stringify:S3},A3=sP;function Hi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var P3=/^([a-z0-9.+-]+:)/i,w3=/:[0-9]*$/,M3=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,O3=["<",">",'"',"`"," ","\r",`
`,"	"],R3=["{","}","|","\\","^","`"].concat(O3),kd=["'"].concat(R3),Tg=["%","/","?",";","#"].concat(kd),Eg=["/","?","#"],C3=255,Ig=/^[+a-z0-9A-Z_-]{0,63}$/,$3=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L3={javascript:!0,"javascript:":!0},Bd={javascript:!0,"javascript:":!0},Ko={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Hd=I3;function kc(e,t,r){if(e&&typeof e=="object"&&e instanceof Hi)return e;var i=new Hi;return i.parse(e,t,r),i}Hi.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=i!==-1&&i<e.indexOf("#")?"?":"#",o=e.split(a),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(a);var l=e;if(l=l.trim(),!r&&e.split("#").length===1){var h=M3.exec(l);if(h)return this.path=l,this.href=l,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=Hd.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=P3.exec(l);if(d){d=d[0];var S=d.toLowerCase();this.protocol=S,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var y=l.substr(0,2)==="//";y&&!(d&&Bd[d])&&(l=l.substr(2),this.slashes=!0)}if(!Bd[d]&&(y||d&&!Ko[d])){for(var E=-1,M=0;M<Eg.length;M++){var O=l.indexOf(Eg[M]);O!==-1&&(E===-1||O<E)&&(E=O)}var C,N;E===-1?N=l.lastIndexOf("@"):N=l.lastIndexOf("@",E),N!==-1&&(C=l.slice(0,N),l=l.slice(N+1),this.auth=decodeURIComponent(C)),E=-1;for(var M=0;M<Tg.length;M++){var O=l.indexOf(Tg[M]);O!==-1&&(E===-1||O<E)&&(E=O)}E===-1&&(E=l.length),this.host=l.slice(0,E),l=l.slice(E),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var L=this.hostname.split(/\./),M=0,B=L.length;M<B;M++){var G=L[M];if(G&&!G.match(Ig)){for(var j="",z=0,J=G.length;z<J;z++)G.charCodeAt(z)>127?j+="x":j+=G[z];if(!j.match(Ig)){var Q=L.slice(0,M),tt=L.slice(M+1),Z=G.match($3);Z&&(Q.push(Z[1]),tt.unshift(Z[2])),tt.length&&(l="/"+tt.join(".")+l),this.hostname=Q.join(".");break}}}this.hostname.length>C3?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=A3.toASCII(this.hostname));var lt=this.port?":"+this.port:"",bt=this.hostname||"";this.host=bt+lt,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!L3[S])for(var M=0,B=kd.length;M<B;M++){var Mt=kd[M];if(l.indexOf(Mt)!==-1){var Gt=encodeURIComponent(Mt);Gt===Mt&&(Gt=escape(Mt)),l=l.split(Mt).join(Gt)}}var mt=l.indexOf("#");mt!==-1&&(this.hash=l.substr(mt),l=l.slice(0,mt));var pt=l.indexOf("?");if(pt!==-1?(this.search=l.substr(pt),this.query=l.substr(pt+1),t&&(this.query=Hd.parse(this.query)),l=l.slice(0,pt)):t&&(this.search="",this.query={}),l&&(this.pathname=l),Ko[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var lt=this.pathname||"",Dt=this.search||"";this.path=lt+Dt}return this.href=this.format(),this};function D3(e){return typeof e=="string"&&(e=kc(e)),e instanceof Hi?e.format():Hi.prototype.format.call(e)}Hi.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=Hd.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ko[t])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),i&&i.charAt(0)!=="#"&&(i="#"+i),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),s=s.replace("#","%23"),t+a+r+s+i};function N3(e,t){return kc(e,!1,!0).resolve(t)}Hi.prototype.resolve=function(e){return this.resolveObject(kc(e,!1,!0)).format()};Hi.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Hi;t.parse(e,!1,!0),e=t}for(var r=new Hi,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var h=s[l];h!=="protocol"&&(r[h]=e[h])}return Ko[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Ko[e.protocol]){for(var d=Object.keys(e),S=0;S<d.length;S++){var y=d[S];r[y]=e[y]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Bd[e.protocol]){for(var B=(e.pathname||"").split("/");B.length&&!(e.host=B.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),B[0]!==""&&B.unshift(""),B.length<2&&B.unshift(""),r.pathname=B.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var E=r.pathname||"",M=r.search||"";r.path=E+M}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var O=r.pathname&&r.pathname.charAt(0)==="/",C=e.host||e.pathname&&e.pathname.charAt(0)==="/",N=C||O||r.host&&e.pathname,$=N,L=r.pathname&&r.pathname.split("/")||[],B=e.pathname&&e.pathname.split("/")||[],G=r.protocol&&!Ko[r.protocol];if(G&&(r.hostname="",r.port=null,r.host&&(L[0]===""?L[0]=r.host:L.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(B[0]===""?B[0]=e.host:B.unshift(e.host)),e.host=null),N=N&&(B[0]===""||L[0]==="")),C)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,L=B;else if(B.length)L||(L=[]),L.pop(),L=L.concat(B),r.search=e.search,r.query=e.query;else if(e.search!=null){if(G){r.host=L.shift(),r.hostname=r.host;var j=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;j&&(r.auth=j.shift(),r.hostname=j.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!L.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var z=L.slice(-1)[0],J=(r.host||e.host||L.length>1)&&(z==="."||z==="..")||z==="",Q=0,tt=L.length;tt>=0;tt--)z=L[tt],z==="."?L.splice(tt,1):z===".."?(L.splice(tt,1),Q++):Q&&(L.splice(tt,1),Q--);if(!N&&!$)for(;Q--;Q)L.unshift("..");N&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),J&&L.join("/").substr(-1)!=="/"&&L.push("");var Z=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(G){r.hostname=Z?"":L.length?L.shift():"",r.host=r.hostname;var j=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;j&&(r.auth=j.shift(),r.hostname=j.shift(),r.host=r.hostname)}return N=N||r.host&&L.length,N&&!Z&&L.unshift(""),L.length>0?r.pathname=L.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Hi.prototype.parseHost=function(){var e=this.host,t=w3.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var F3=kc,k3=N3,B3=D3;/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var an={parse:F3,format:B3,resolve:k3};function wi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Ag(e){var t=e.split("?")[0];return t.split("#")[0]}function H3(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function U3(e,t,r){return e.replace(new RegExp(H3(t),"g"),r)}function G3(e,t){for(var r="",i=0,a=-1,o=0,s,l=0;l<=e.length;++l){if(l<e.length)s=e.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",i=0):(r=r.slice(0,h),i=r.length-1-r.lastIndexOf("/")),a=l,o=0;continue}}else if(r.length===2||r.length===1){r="",i=0,a=l,o=0;continue}}}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),i=l-a-1;a=l,o=0}else s===46&&o!==-1?++o:o=-1}return r}var Ex={toPosix:function(e){return U3(e,"\\","/")},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){wi(e),e=this.toPosix(e);var t="",r=/^file:\/\/\//.exec(e),i=/^[^/:]+:\/\//.exec(e),a=/^[^/:]+:\//.exec(e);if(r||i||a){var o=(r==null?void 0:r[0])||(i==null?void 0:i[0])||(a==null?void 0:a[0]);t=o,e=e.slice(o.length)}return t},toAbsolute:function(e,t,r){if(this.isDataUrl(e))return e;var i=Ag(this.toPosix(t??St.ADAPTER.getBaseUrl())),a=Ag(this.toPosix(r??this.rootname(i)));if(wi(e),e=this.toPosix(e),e.startsWith("/"))return Ex.join(a,e.slice(1));var o=this.isAbsolute(e)?e:this.join(i,e);return o},normalize:function(e){if(e=this.toPosix(e),wi(e),e.length===0)return".";var t="",r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var i=e.endsWith("/");return e=G3(e),e.length>0&&i&&(e+="/"),r?"/"+e:t+e},isAbsolute:function(e){return wi(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join:function(){for(var e=arguments,t,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(r.length===0)return".";for(var a,o=0;o<r.length;++o){var s=r[o];if(wi(s),s.length>0)if(a===void 0)a=s;else{var l=(t=r[o-1])!==null&&t!==void 0?t:"";this.extname(l)?a+="/../"+s:a+="/"+s}}return a===void 0?".":this.normalize(a)},dirname:function(e){if(wi(e),e.length===0)return".";e=this.toPosix(e);var t=e.charCodeAt(0),r=t===47,i=-1,a=!0,o=this.getProtocol(e),s=e;e=e.slice(o.length);for(var l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!a){i=l;break}}else a=!1;return i===-1?r?"/":this.isUrl(s)?o+e:o:r&&i===1?"//":o+e.slice(0,i)},rootname:function(e){wi(e),e=this.toPosix(e);var t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){var r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename:function(e,t){wi(e),t&&wi(t),e=this.toPosix(e);var r=0,i=-1,a=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){var h=e.charCodeAt(o);if(h===47){if(!a){r=o+1;break}}else l===-1&&(a=!1,l=o+1),s>=0&&(h===t.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=l))}return r===i?i=l:i===-1&&(i=e.length),e.slice(r,i)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!a){r=o+1;break}}else i===-1&&(a=!1,i=o+1);return i===-1?"":e.slice(r,i)},extname:function(e){wi(e),e=this.toPosix(e);for(var t=-1,r=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(l===47){if(!a){r=s+1;break}continue}i===-1&&(a=!1,i=s+1),l===46?t===-1?t=s:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===r+1?"":e.slice(t,i)},parse:function(e){wi(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=this.toPosix(e);var r=e.charCodeAt(0),i=this.isAbsolute(e),a;t.root=this.rootname(e),i||this.hasProtocol(e)?a=1:a=0;for(var o=-1,s=0,l=-1,h=!0,d=e.length-1,S=0;d>=a;--d){if(r=e.charCodeAt(d),r===47){if(!h){s=d+1;break}continue}l===-1&&(h=!1,l=d+1),r===46?o===-1?o=d:S!==1&&(S=1):o!==-1&&(S=-1)}return o===-1||l===-1||S===0||S===1&&o===l-1&&o===s+1?l!==-1&&(s===0&&i?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(s,l)):(s===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(s,o),t.base=e.slice(s,l)),t.ext=e.slice(o,l)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};St.RETINA_PREFIX=/@([0-9\.]+)x/;St.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ud=!1,Pg="6.5.10";function j3(){Ud=!0}function Ix(e){var t;if(!Ud){if(St.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Pg+" - ✰ "+e+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Pg+" - "+e+" - http://www.pixijs.com/");Ud=!0}}var K0;function Ax(){return typeof K0>"u"&&(K0=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:St.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!St.ADAPTER.getWebGLRenderingContext())return!1;var t=St.ADAPTER.createCanvas(),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,i}catch{return!1}}()),K0}var X3="#f0f8ff",V3="#faebd7",z3="#00ffff",J3="#7fffd4",W3="#f0ffff",Y3="#f5f5dc",K3="#ffe4c4",Q3="#000000",Z3="#ffebcd",q3="#0000ff",tM="#8a2be2",eM="#a52a2a",rM="#deb887",iM="#5f9ea0",nM="#7fff00",aM="#d2691e",oM="#ff7f50",sM="#6495ed",lM="#fff8dc",uM="#dc143c",hM="#00ffff",cM="#00008b",fM="#008b8b",dM="#b8860b",pM="#a9a9a9",_M="#006400",mM="#a9a9a9",gM="#bdb76b",vM="#8b008b",yM="#556b2f",bM="#ff8c00",xM="#9932cc",SM="#8b0000",TM="#e9967a",EM="#8fbc8f",IM="#483d8b",AM="#2f4f4f",PM="#2f4f4f",wM="#00ced1",MM="#9400d3",OM="#ff1493",RM="#00bfff",CM="#696969",$M="#696969",LM="#1e90ff",DM="#b22222",NM="#fffaf0",FM="#228b22",kM="#ff00ff",BM="#dcdcdc",HM="#f8f8ff",UM="#daa520",GM="#ffd700",jM="#808080",XM="#008000",VM="#adff2f",zM="#808080",JM="#f0fff0",WM="#ff69b4",YM="#cd5c5c",KM="#4b0082",QM="#fffff0",ZM="#f0e68c",qM="#fff0f5",tO="#e6e6fa",eO="#7cfc00",rO="#fffacd",iO="#add8e6",nO="#f08080",aO="#e0ffff",oO="#fafad2",sO="#d3d3d3",lO="#90ee90",uO="#d3d3d3",hO="#ffb6c1",cO="#ffa07a",fO="#20b2aa",dO="#87cefa",pO="#778899",_O="#778899",mO="#b0c4de",gO="#ffffe0",vO="#00ff00",yO="#32cd32",bO="#faf0e6",xO="#ff00ff",SO="#800000",TO="#66cdaa",EO="#0000cd",IO="#ba55d3",AO="#9370db",PO="#3cb371",wO="#7b68ee",MO="#00fa9a",OO="#48d1cc",RO="#c71585",CO="#191970",$O="#f5fffa",LO="#ffe4e1",DO="#ffe4b5",NO="#ffdead",FO="#000080",kO="#fdf5e6",BO="#808000",HO="#6b8e23",UO="#ffa500",GO="#ff4500",jO="#da70d6",XO="#eee8aa",VO="#98fb98",zO="#afeeee",JO="#db7093",WO="#ffefd5",YO="#ffdab9",KO="#cd853f",QO="#ffc0cb",ZO="#dda0dd",qO="#b0e0e6",tR="#800080",eR="#663399",rR="#ff0000",iR="#bc8f8f",nR="#4169e1",aR="#8b4513",oR="#fa8072",sR="#f4a460",lR="#2e8b57",uR="#fff5ee",hR="#a0522d",cR="#c0c0c0",fR="#87ceeb",dR="#6a5acd",pR="#708090",_R="#708090",mR="#fffafa",gR="#00ff7f",vR="#4682b4",yR="#d2b48c",bR="#008080",xR="#d8bfd8",SR="#ff6347",TR="#40e0d0",ER="#ee82ee",IR="#f5deb3",AR="#ffffff",PR="#f5f5f5",wR="#ffff00",MR="#9acd32",OR={aliceblue:X3,antiquewhite:V3,aqua:z3,aquamarine:J3,azure:W3,beige:Y3,bisque:K3,black:Q3,blanchedalmond:Z3,blue:q3,blueviolet:tM,brown:eM,burlywood:rM,cadetblue:iM,chartreuse:nM,chocolate:aM,coral:oM,cornflowerblue:sM,cornsilk:lM,crimson:uM,cyan:hM,darkblue:cM,darkcyan:fM,darkgoldenrod:dM,darkgray:pM,darkgreen:_M,darkgrey:mM,darkkhaki:gM,darkmagenta:vM,darkolivegreen:yM,darkorange:bM,darkorchid:xM,darkred:SM,darksalmon:TM,darkseagreen:EM,darkslateblue:IM,darkslategray:AM,darkslategrey:PM,darkturquoise:wM,darkviolet:MM,deeppink:OM,deepskyblue:RM,dimgray:CM,dimgrey:$M,dodgerblue:LM,firebrick:DM,floralwhite:NM,forestgreen:FM,fuchsia:kM,gainsboro:BM,ghostwhite:HM,goldenrod:UM,gold:GM,gray:jM,green:XM,greenyellow:VM,grey:zM,honeydew:JM,hotpink:WM,indianred:YM,indigo:KM,ivory:QM,khaki:ZM,lavenderblush:qM,lavender:tO,lawngreen:eO,lemonchiffon:rO,lightblue:iO,lightcoral:nO,lightcyan:aO,lightgoldenrodyellow:oO,lightgray:sO,lightgreen:lO,lightgrey:uO,lightpink:hO,lightsalmon:cO,lightseagreen:fO,lightskyblue:dO,lightslategray:pO,lightslategrey:_O,lightsteelblue:mO,lightyellow:gO,lime:vO,limegreen:yO,linen:bO,magenta:xO,maroon:SO,mediumaquamarine:TO,mediumblue:EO,mediumorchid:IO,mediumpurple:AO,mediumseagreen:PO,mediumslateblue:wO,mediumspringgreen:MO,mediumturquoise:OO,mediumvioletred:RO,midnightblue:CO,mintcream:$O,mistyrose:LO,moccasin:DO,navajowhite:NO,navy:FO,oldlace:kO,olive:BO,olivedrab:HO,orange:UO,orangered:GO,orchid:jO,palegoldenrod:XO,palegreen:VO,paleturquoise:zO,palevioletred:JO,papayawhip:WO,peachpuff:YO,peru:KO,pink:QO,plum:ZO,powderblue:qO,purple:tR,rebeccapurple:eR,red:rR,rosybrown:iR,royalblue:nR,saddlebrown:aR,salmon:oR,sandybrown:sR,seagreen:lR,seashell:uR,sienna:hR,silver:cR,skyblue:fR,slateblue:dR,slategray:pR,slategrey:_R,snow:mR,springgreen:gR,steelblue:vR,tan:yR,teal:bR,thistle:xR,tomato:SR,turquoise:TR,violet:ER,wheat:IR,white:AR,whitesmoke:PR,yellow:wR,yellowgreen:MR};function no(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function H2(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function U2(e){return typeof e=="string"&&(e=OR[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function RR(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function CR(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[$t.NORMAL_NPM]=$t.NORMAL,e[$t.ADD_NPM]=$t.ADD,e[$t.SCREEN_NPM]=$t.SCREEN,t[$t.NORMAL]=$t.NORMAL_NPM,t[$t.ADD]=$t.ADD_NPM,t[$t.SCREEN]=$t.SCREEN_NPM;var i=[];return i.push(t),i.push(e),i}var G2=CR();function j2(e,t){return G2[t?1:0][e]}function Px(e,t,r,i){return r=r||new Float32Array(4),i||i===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function Bc(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,i=e>>8&255,a=e&255;return r=r*t+.5|0,i=i*t+.5|0,a=a*t+.5|0,(t*255<<24)+(r<<16)+(i<<8)+a}function X2(e,t,r,i){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(i||i===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function wx(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var i=0,a=0;i<r;i+=6,a+=4)t[i+0]=a+0,t[i+1]=a+1,t[i+2]=a+2,t[i+3]=a+0,t[i+4]=a+2,t[i+5]=a+3;return t}function Hc(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var $R={Float32Array,Uint32Array,Int32Array,Uint8Array};function LR(e,t){for(var r=0,i=0,a={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;for(var s=new ArrayBuffer(r*4),l=null,h=0,o=0;o<e.length;o++){var d=t[o],S=e[o],y=Hc(S);a[y]||(a[y]=new $R[y](s)),l=a[y];for(var E=0;E<S.length;E++){var M=(E/d|0)*i+h,O=E%d;l[M+O]=S[E]}h+=d}return new Float32Array(s)}function Jl(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Gd(e){return!(e&e-1)&&!!e}function jd(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Ya(e,t,r){var i=e.length,a;if(!(t>=i||r===0)){r=t+r>i?i-t:r;var o=i-r;for(a=t;a<o;++a)e[a]=e[a+r];e.length=o}}function Xa(e){return e===0?0:e<0?-1:1}var DR=0;function pa(){return++DR}var wg={};function Nr(e,t,r){if(r===void 0&&(r=3),!wg[t]){var i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(i))),wg[t]=!0}}var Xd={},Xr=Object.create(null),li=Object.create(null);function NR(){var e;for(e in Xr)Xr[e].destroy();for(e in li)li[e].destroy()}function FR(){var e;for(e in Xr)delete Xr[e];for(e in li)delete li[e]}var Vd=function(){function e(t,r,i){this.canvas=St.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=i||St.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function Mx(e){var t=e.width,r=e.height,i=e.getContext("2d",{willReadFrequently:!0}),a=i.getImageData(0,0,t,r),o=a.data,s=o.length,l={top:null,left:null,right:null,bottom:null},h=null,d,S,y;for(d=0;d<s;d+=4)o[d+3]!==0&&(S=d/4%t,y=~~(d/4/t),l.top===null&&(l.top=y),(l.left===null||S<l.left)&&(l.left=S),(l.right===null||l.right<S)&&(l.right=S+1),(l.bottom===null||l.bottom<y)&&(l.bottom=y));return l.top!==null&&(t=l.right-l.left,r=l.bottom-l.top+1,h=i.getImageData(l.left,l.top,t,r)),{height:r,width:t,data:h}}var Ox=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function kR(e){var t=Ox.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var ju;function Rx(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,ju||(ju=document.createElement("a")),ju.href=e;var r=an.parse(ju.href),i=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!i||r.protocol!==t.protocol?"anonymous":""}function Wl(e,t){var r=St.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}const BR=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:li,CanvasRenderTarget:Vd,DATA_URI:Ox,EventEmitter:Nn,ProgramCache:Xd,TextureCache:Xr,clearTextureCache:FR,correctBlendMode:j2,createIndicesForQuads:wx,decomposeDataUri:kR,deprecation:Nr,destroyTextureCache:NR,determineCrossOrigin:Rx,earcut:C2,getBufferType:Hc,getResolutionOfUrl:Wl,hex2rgb:no,hex2string:H2,interleaveTypedArrays:LR,isMobile:_i,isPow2:Gd,isWebGLSupported:Ax,log2:jd,nextPow2:Jl,path:Ex,premultiplyBlendMode:G2,premultiplyRgba:Px,premultiplyTint:Bc,premultiplyTintToRgba:X2,removeItems:Ya,rgb2hex:RR,sayHello:Ix,sign:Xa,skipHello:j3,string2hex:U2,trimCanvas:Mx,uid:pa,url:an},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yl=Math.PI*2,Cx=180/Math.PI,$x=Math.PI/180,ur;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(ur||(ur={}));var ye=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),Xu=[new ye,new ye,new ye,new ye],te=function(){function e(t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=0),this.x=Number(t),this.y=Number(r),this.width=Number(i),this.height=Number(a),this.type=ur.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var i=this.x<t.x?t.x:this.x,a=this.right>t.right?t.right:this.right;if(a<=i)return!1;var o=this.y<t.y?t.y:this.y,s=this.bottom>t.bottom?t.bottom:this.bottom;return s>o}var l=this.left,h=this.right,d=this.top,S=this.bottom;if(h<=l||S<=d)return!1;var y=Xu[0].set(t.left,t.top),E=Xu[1].set(t.left,t.bottom),M=Xu[2].set(t.right,t.top),O=Xu[3].set(t.right,t.bottom);if(M.x<=y.x||E.y<=y.y)return!1;var C=Math.sign(r.a*r.d-r.b*r.c);if(C===0||(r.apply(y,y),r.apply(E,E),r.apply(M,M),r.apply(O,O),Math.max(y.x,E.x,M.x,O.x)<=l||Math.min(y.x,E.x,M.x,O.x)>=h||Math.max(y.y,E.y,M.y,O.y)<=d||Math.min(y.y,E.y,M.y,O.y)>=S))return!1;var N=C*(E.y-y.y),$=C*(y.x-E.x),L=N*l+$*d,B=N*h+$*d,G=N*l+$*S,j=N*h+$*S;if(Math.max(L,B,G,j)<=N*y.x+$*y.y||Math.min(L,B,G,j)>=N*O.x+$*O.y)return!1;var z=C*(y.y-M.y),J=C*(M.x-y.x),Q=z*l+J*d,tt=z*h+J*d,Z=z*l+J*S,lt=z*h+J*S;return!(Math.max(Q,tt,Z,lt)<=z*y.x+J*y.y||Math.min(Q,tt,Z,lt)>=z*O.x+J*O.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),a=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(i-r,0),this.y=a,this.height=Math.max(o-a,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var i=Math.ceil((this.x+this.width-r)*t)/t,a=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=i-this.x,this.height=a-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),a=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=i-r,this.y=a,this.height=o-a,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Lx=function(){function e(t,r,i){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=r,this.radius=i,this.type=ur.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var i=this.radius*this.radius,a=this.x-t,o=this.y-r;return a*=a,o*=o,a+o<=i},e.prototype.getBounds=function(){return new te(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),Dx=function(){function e(t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=0),this.x=t,this.y=r,this.width=i,this.height=a,this.type=ur.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,a=(r-this.y)/this.height;return i*=i,a*=a,i+a<=1},e.prototype.getBounds=function(){return new te(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),vl=function(){function e(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];var a=Array.isArray(r[0])?r[0]:r;if(typeof a[0]!="number"){for(var o=[],s=0,l=a.length;s<l;s++)o.push(a[s].x,a[s].y);a=o}this.points=a,this.type=ur.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var i=!1,a=this.points.length/2,o=0,s=a-1;o<a;s=o++){var l=this.points[o*2],h=this.points[o*2+1],d=this.points[s*2],S=this.points[s*2+1],y=h>r!=S>r&&t<(d-l)*((r-h)/(S-h))+l;y&&(i=!i)}return i},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),Nx=function(){function e(t,r,i,a,o){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=i,this.height=a,this.radius=o,this.type=ur.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var a=t-(this.x+i),o=r-(this.y+i),s=i*i;if(a*a+o*o<=s||(a=t-(this.x+this.width-i),a*a+o*o<=s)||(o=r-(this.y+this.height-i),a*a+o*o<=s)||(a=t-(this.x+i),a*a+o*o<=s))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),qn=function(){function e(t,r,i,a){i===void 0&&(i=0),a===void 0&&(a=0),this._x=i,this._y=a,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Re=function(){function e(t,r,i,a,o,s){t===void 0&&(t=1),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),this.array=null,this.a=t,this.b=r,this.c=i,this.d=a,this.tx=o,this.ty=s}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,i,a,o,s){return this.a=t,this.b=r,this.c=i,this.d=a,this.tx=o,this.ty=s,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var i=r||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},e.prototype.apply=function(t,r){r=r||new ye;var i=t.x,a=t.y;return r.x=this.a*i+this.c*a+this.tx,r.y=this.b*i+this.d*a+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new ye;var i=1/(this.a*this.d+this.c*-this.b),a=t.x,o=t.y;return r.x=this.d*i*a+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*o+-this.b*i*a+(-this.ty*this.a+this.tx*this.b)*i,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),i=Math.sin(t),a=this.a,o=this.c,s=this.tx;return this.a=a*r-this.b*i,this.b=a*i+this.b*r,this.c=o*r-this.d*i,this.d=o*i+this.d*r,this.tx=s*r-this.ty*i,this.ty=s*i+this.ty*r,this},e.prototype.append=function(t){var r=this.a,i=this.b,a=this.c,o=this.d;return this.a=t.a*r+t.b*a,this.b=t.a*i+t.b*o,this.c=t.c*r+t.d*a,this.d=t.c*i+t.d*o,this.tx=t.tx*r+t.ty*a+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,i,a,o,s,l,h,d){return this.a=Math.cos(l+d)*o,this.b=Math.sin(l+d)*o,this.c=-Math.sin(l-h)*s,this.d=Math.cos(l-h)*s,this.tx=t-(i*this.a+a*this.c),this.ty=r-(i*this.b+a*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var i=this.a,a=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=a*t.a+this.d*t.c,this.d=a*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,i=this.b,a=this.c,o=this.d,s=t.pivot,l=-Math.atan2(-a,o),h=Math.atan2(i,r),d=Math.abs(l+h);return d<1e-5||Math.abs(Yl-d)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=l,t.skew.y=h),t.scale.x=Math.sqrt(r*r+i*i),t.scale.y=Math.sqrt(a*a+o*o),t.position.x=this.tx+(s.x*r+s.y*a),t.position.y=this.ty+(s.x*i+s.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,i=this.c,a=this.d,o=this.tx,s=t*a-r*i;return this.a=a/s,this.b=-r/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-a*o)/s,this.ty=-(t*this.ty-r*o)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),$a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],La=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Da=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Na=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],zd=[],Fx=[],Vu=Math.sign;function HR(){for(var e=0;e<16;e++){var t=[];zd.push(t);for(var r=0;r<16;r++)for(var i=Vu($a[e]*$a[r]+Da[e]*La[r]),a=Vu(La[e]*$a[r]+Na[e]*La[r]),o=Vu($a[e]*Da[r]+Da[e]*Na[r]),s=Vu(La[e]*Da[r]+Na[e]*Na[r]),l=0;l<16;l++)if($a[l]===i&&La[l]===a&&Da[l]===o&&Na[l]===s){t.push(l);break}}for(var e=0;e<16;e++){var h=new Re;h.set($a[e],La[e],Da[e],Na[e],0,0),Fx.push(h)}}HR();var Me={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return $a[e]},uY:function(e){return La[e]},vX:function(e){return Da[e]},vY:function(e){return Na[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return zd[e][t]},sub:function(e,t){return zd[e][Me.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Me.S:Me.N:Math.abs(t)*2<=Math.abs(e)?e>0?Me.E:Me.W:t>0?e>0?Me.SE:Me.SW:e>0?Me.NE:Me.NW},matrixAppendRotationInv:function(e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=0);var a=Fx[Me.inv(t)];a.tx=r,a.ty=i,e.append(a)}},Uc=function(){function e(){this.worldTransform=new Re,this.localTransform=new Re,this.position=new qn(this.onChange,this,0,0),this.scale=new qn(this.onChange,this,1,1),this.pivot=new qn(this.onChange,this,0,0),this.skew=new qn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,a=this.worldTransform;a.a=r.a*i.a+r.b*i.c,a.b=r.a*i.b+r.b*i.d,a.c=r.c*i.a+r.d*i.c,a.d=r.c*i.b+r.d*i.d,a.tx=r.tx*i.a+r.ty*i.c+i.tx,a.ty=r.tx*i.b+r.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yl=function(){return yl=Object.assign||function(e){for(var t=arguments,r,i=1,a=arguments.length;i<a;i++){r=t[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},yl.apply(this,arguments)},ge;(function(e){e.Application="application",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Loader="loader",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser"})(ge||(ge={}));var Mg=function(e){if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");var t=typeof e.extension!="object"?{type:e.extension}:e.extension;e=yl(yl({},t),{ref:e})}if(typeof e=="object")e=yl({},e);else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},cn={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,t=this,r=[],i=0;i<arguments.length;i++)r[i]=e[i];return r.map(Mg).forEach(function(a){a.type.forEach(function(o){var s,l;return(l=(s=t._removeHandlers)[o])===null||l===void 0?void 0:l.call(s,a)})}),this},add:function(){for(var e=arguments,t=this,r=[],i=0;i<arguments.length;i++)r[i]=e[i];return r.map(Mg).forEach(function(a){a.type.forEach(function(o){var s=t._addHandlers,l=t._queue;s[o]?s[o](a):(l[o]=l[o]||[],l[o].push(a))})}),this},handle:function(e,t,r){var i=this._addHandlers=this._addHandlers||{},a=this._removeHandlers=this._removeHandlers||{};if(i[e]||a[e])throw new Error("Extension type "+e+" already has a handler");i[e]=t,a[e]=r;var o=this._queue;return o[e]&&(o[e].forEach(function(s){return t(s)}),delete o[e]),this},handleByMap:function(e,t){return this.handle(e,function(r){t[r.name]=r.ref},function(r){delete t[r.name]})},handleByList:function(e,t){return this.handle(e,function(r){var i,a;t.includes(r.ref)||(t.push(r.ref),e===ge.Loader&&((a=(i=r.ref).add)===null||a===void 0||a.call(i)))},function(r){var i=t.indexOf(r.ref);i!==-1&&t.splice(i,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pr=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,i,a,o,s,l,h){if(arguments.length>8)throw new Error("max arguments reached");var d=this,S=d.name,y=d.items;this._aliasCount++;for(var E=0,M=y.length;E<M;E++)y[E][S](t,r,i,a,o,s,l,h);return y===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(pr.prototype,{dispatch:{value:pr.prototype.emit},run:{value:pr.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */St.TARGET_FPMS=.06;var un;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(un||(un={}));var Q0=function(){function e(t,r,i,a){r===void 0&&(r=null),i===void 0&&(i=0),a===void 0&&(a=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=i,this.once=a}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),_r=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Q0(null,null,1/0),this.deltaMS=1/St.TARGET_FPMS,this.elapsedMS=1/St.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,i){return i===void 0&&(i=un.NORMAL),this._addListener(new Q0(t,r,i))},e.prototype.addOnce=function(t,r,i){return i===void 0&&(i=un.NORMAL),this._addListener(new Q0(t,r,i,!0))},e.prototype._addListener=function(t){var r=this._head.next,i=this._head;if(!r)t.connect(i);else{for(;r;){if(t.priority>r.priority){t.connect(i);break}i=r,r=r.next}t.previous||t.connect(i)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var i=this._head.next;i;)i.match(t,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*St.TARGET_FPMS;for(var a=this._head,o=a.next;o;)o=o.emit(this.deltaTime);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,r)/1e3,St.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),kx=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,un.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?_r.shared:new _r,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e.extension=ge.Application,e}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */St.PREFER_ENV=_i.any?ln.WEBGL:ln.WEBGL2;St.STRICT_TEXTURE_CACHE=!1;var Kl=[];function Gc(e,t){if(!e)return null;var r="";if(typeof e=="string"){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);i&&(r=i[1].toLowerCase())}for(var a=Kl.length-1;a>=0;--a){var o=Kl[a];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jd=function(e,t){return Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Jd(e,t)};function Te(e,t){Jd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wd=function(){return Wd=Object.assign||function(e){for(var t=arguments,r,i=1,a=arguments.length;i<a;i++){r=t[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Wd.apply(this,arguments)};function UR(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}var ao=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new pr("setRealSize"),this.onUpdate=new pr("update"),this.onError=new pr("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,i){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),ho=function(e){Te(t,e);function t(r,i){var a=this,o=i||{},s=o.width,l=o.height;if(!s||!l)throw new Error("BufferResource width or height invalid");return a=e.call(this,s,l)||this,a.data=r,a}return t.prototype.upload=function(r,i,a){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===xi.UNPACK);var s=i.realWidth,l=i.realHeight;return a.width===s&&a.height===l?o.texSubImage2D(i.target,0,0,0,s,l,i.format,a.type,this.data):(a.width=s,a.height=l,o.texImage2D(i.target,0,a.internalFormat,s,l,0,i.format,a.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(ao),GR={scaleMode:Di.NEAREST,format:ct.RGBA,alphaMode:xi.NPM},ne=function(e){Te(t,e);function t(r,i){r===void 0&&(r=null),i===void 0&&(i=null);var a=e.call(this)||this;i=i||{};var o=i.alphaMode,s=i.mipmap,l=i.anisotropicLevel,h=i.scaleMode,d=i.width,S=i.height,y=i.wrapMode,E=i.format,M=i.type,O=i.target,C=i.resolution,N=i.resourceOptions;return r&&!(r instanceof ao)&&(r=Gc(r,N),r.internal=!0),a.resolution=C||St.RESOLUTION,a.width=Math.round((d||0)*a.resolution)/a.resolution,a.height=Math.round((S||0)*a.resolution)/a.resolution,a._mipmap=s!==void 0?s:St.MIPMAP_TEXTURES,a.anisotropicLevel=l!==void 0?l:St.ANISOTROPIC_LEVEL,a._wrapMode=y||St.WRAP_MODE,a._scaleMode=h!==void 0?h:St.SCALE_MODE,a.format=E||ct.RGBA,a.type=M||Ct.UNSIGNED_BYTE,a.target=O||ua.TEXTURE_2D,a.alphaMode=o!==void 0?o:xi.UNPACK,a.uid=pa(),a.touched=0,a.isPowerOfTwo=!1,a._refreshPOT(),a._glTextures={},a.dirtyId=0,a.dirtyStyleId=0,a.cacheId=null,a.valid=d>0&&S>0,a.textureCacheIds=[],a.destroyed=!1,a.resource=null,a._batchEnabled=0,a._batchLocation=0,a.parentTextureArray=null,a.setResource(r),a}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,i){var a;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,a=!0),i!==void 0&&i!==this.mipmap&&(this.mipmap=i,a=!0),a&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,i,a){return a=a||this.resolution,this.setRealSize(r*a,i*a,a)},t.prototype.setRealSize=function(r,i,a){return this.resolution=a||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Gd(this.realWidth)&&Gd(this.realHeight)},t.prototype.setResolution=function(r){var i=this.resolution;return i===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*i)/r,this.height=Math.round(this.height*i)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete li[this.cacheId],delete Xr[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,i,a){a===void 0&&(a=St.STRICT_TEXTURE_CACHE);var o=typeof r=="string",s=null;if(o)s=r;else{if(!r._pixiId){var l=i&&i.pixiIdPrefix||"pixiid";r._pixiId=l+"_"+pa()}s=r._pixiId}var h=li[s];if(o&&a&&!h)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return h||(h=new t(r,i),h.cacheId=s,t.addToCache(h,s)),h},t.fromBuffer=function(r,i,a,o){r=r||new Float32Array(i*a*4);var s=new ho(r,{width:i,height:a}),l=r instanceof Float32Array?Ct.FLOAT:Ct.UNSIGNED_BYTE;return new t(s,Object.assign({},GR,o||{width:i,height:a,type:l}))},t.addToCache=function(r,i){i&&(r.textureCacheIds.indexOf(i)===-1&&r.textureCacheIds.push(i),li[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),li[i]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var i=li[r];if(i){var a=i.textureCacheIds.indexOf(r);return a>-1&&i.textureCacheIds.splice(a,1),delete li[r],i}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete li[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}(Nn),jc=function(e){Te(t,e);function t(r,i){var a=this,o=i||{},s=o.width,l=o.height;a=e.call(this,s,l)||this,a.items=[],a.itemDirtyIds=[];for(var h=0;h<r;h++){var d=new ne;a.items.push(d),a.itemDirtyIds.push(-2)}return a.length=r,a._load=null,a.baseTexture=null,a}return t.prototype.initFromArray=function(r,i){for(var a=0;a<this.length;a++)r[a]&&(r[a].castToBaseTexture?this.addBaseTextureAt(r[a].castToBaseTexture(),a):r[a]instanceof ao?this.addResourceAt(r[a],a):this.addResourceAt(Gc(r[a],i),a))},t.prototype.dispose=function(){for(var r=0,i=this.length;r<i;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[i].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=r,this.items[i].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}),a=i.map(function(o){return o.load()});return this._load=Promise.all(a).then(function(){var o=r.items[0],s=o.realWidth,l=o.realHeight;return r.resize(s,l),Promise.resolve(r)}),this._load},t}(ao),V2=function(e){Te(t,e);function t(r,i){var a=this,o=i||{},s=o.width,l=o.height,h,d;return Array.isArray(r)?(h=r,d=r.length):d=r,a=e.call(this,d,{width:s,height:l})||this,h&&a.initFromArray(h,i),a}return t.prototype.addBaseTextureAt=function(r,i){if(r.resource)this.addResourceAt(r.resource,i);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=ua.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,i,a){var o=this,s=o.length,l=o.itemDirtyIds,h=o.items,d=r.gl;a.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,a.internalFormat,this._width,this._height,s,0,i.format,a.type,null);for(var S=0;S<s;S++){var y=h[S];l[S]<y.dirtyId&&(l[S]=y.dirtyId,y.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,S,y.resource.width,y.resource.height,1,i.format,a.type,y.resource.source))}return!0},t}(jc),hn=function(e){Te(t,e);function t(r){var i=this,a=r,o=a.naturalWidth||a.videoWidth||a.width,s=a.naturalHeight||a.videoHeight||a.height;return i=e.call(this,o,s)||this,i.source=r,i.noSubImage=!1,i}return t.crossOrigin=function(r,i,a){a===void 0&&i.indexOf("data:")!==0?r.crossOrigin=Rx(i):a!==!1&&(r.crossOrigin=typeof a=="string"?a:"anonymous")},t.prototype.upload=function(r,i,a,o){var s=r.gl,l=i.realWidth,h=i.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===xi.UNPACK),!this.noSubImage&&i.target===s.TEXTURE_2D&&a.width===l&&a.height===h?s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,a.type,o):(a.width=l,a.height=h,s.texImage2D(i.target,0,a.internalFormat,i.format,a.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,i=r.naturalWidth||r.videoWidth||r.width,a=r.naturalHeight||r.videoHeight||r.height;this.resize(i,a),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(ao),z2=function(e){Te(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var i=globalThis.OffscreenCanvas;return i&&r instanceof i?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(hn),J2=function(e){Te(t,e);function t(r,i){var a=this,o=i||{},s=o.width,l=o.height,h=o.autoLoad,d=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");a=e.call(this,6,{width:s,height:l})||this;for(var S=0;S<t.SIDES;S++)a.items[S].target=ua.TEXTURE_CUBE_MAP_POSITIVE_X+S;return a.linkBaseTexture=d!==!1,r&&a.initFromArray(r,i),h!==!1&&a.load(),a}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=ua.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,i,a){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,i);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=ua.TEXTURE_CUBE_MAP_POSITIVE_X+i,r.parentTextureArray=this.baseTexture,this.items[i]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[i]=r,this},t.prototype.upload=function(r,i,a){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var l=this.items[s];(o[s]<l.dirtyId||a.dirtyId<i.dirtyId)&&(l.valid&&l.resource?(l.resource.upload(r,l,a),o[s]=l.dirtyId):o[s]<-1&&(r.gl.texImage2D(l.target,0,a.internalFormat,i.realWidth,i.realHeight,0,i.format,a.type,null),o[s]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(jc),Xc=function(e){Te(t,e);function t(r,i){var a=this;if(i=i||{},!(r instanceof HTMLImageElement)){var o=new Image;hn.crossOrigin(o,r,i.crossorigin),o.src=r,r=o}return a=e.call(this,r)||this,!r.complete&&a._width&&a._height&&(a._width=0,a._height=0),a.url=r.src,a._process=null,a.preserveBitmap=!1,a.createBitmap=(i.createBitmap!==void 0?i.createBitmap:St.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,a.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,a.bitmap=null,a._load=null,i.autoLoad!==!1&&a.load(),a}return t.prototype.load=function(r){var i=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(a,o){var s=i.source;i.url=s.src;var l=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,i.createBitmap?a(i.process()):a(i))};s.complete&&s.src?l():(s.onload=l,s.onerror=function(h){o(h),i.onError.emit(h)})}),this._load)},t.prototype.process=function(){var r=this,i=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var a=globalThis.createImageBitmap,o=!i.crossOrigin||i.crossOrigin==="anonymous";return this._process=fetch(i.src,{mode:o?"cors":"no-cors"}).then(function(s){return s.blob()}).then(function(s){return a(s,0,0,i.width,i.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===xi.UNPACK?"premultiply":"none"})}).then(function(s){return r.destroyed?Promise.reject():(r.bitmap=s,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,i,a){if(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,i,a);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,i,a,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var l in s){var h=s[l];if(h!==a&&h.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(hn),W2=function(e){Te(t,e);function t(r,i){var a=this;return i=i||{},a=e.call(this,St.ADAPTER.createCanvas())||this,a._width=0,a._height=0,a.svg=r,a.scale=i.scale||1,a._overrideWidth=i.width,a._overrideHeight=i.height,a._resolve=null,a._crossorigin=i.crossorigin,a._load=null,i.autoLoad!==!1&&a.load(),a}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(i){if(r._resolve=function(){r.resize(r.source.width,r.source.height),i(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,i=new Image;hn.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(a){r._resolve&&(i.onerror=null,r.onError.emit(a))},i.onload=function(){if(r._resolve){var a=i.width,o=i.height;if(!a||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=a*r.scale,l=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(s=r._overrideWidth||r._overrideHeight/o*a,l=r._overrideHeight||r._overrideWidth/a*o),s=Math.round(s),l=Math.round(l);var h=r.source;h.width=s,h.height=l,h._pixiId="canvas_"+pa(),h.getContext("2d").drawImage(i,0,0,a,o,0,0,s,l),r._resolve(),r._resolve=null}}},t.getSize=function(r){var i=t.SVG_SIZE.exec(r),a={};return i&&(a[i[1]]=Math.round(parseFloat(i[3])),a[i[5]]=Math.round(parseFloat(i[7]))),a},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,i){return i==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(hn),Y2=function(e){Te(t,e);function t(r,i){var a=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var s=r[0].src||r[0];hn.crossOrigin(o,s,i.crossorigin);for(var l=0;l<r.length;++l){var h=document.createElement("source"),d=r[l],S=d.src,y=d.mime;S=S||r[l];var E=S.split("?").shift().toLowerCase(),M=E.slice(E.lastIndexOf(".")+1);y=y||t.MIME_TYPES[M]||"video/"+M,h.src=S,h.type=y,o.appendChild(h)}r=o}return a=e.call(this,r)||this,a.noSubImage=!0,a._autoUpdate=!0,a._isConnectedToTicker=!1,a._updateFPS=i.updateFPS||0,a._msToNextUpdate=0,a.autoPlay=i.autoPlay!==!1,a._load=null,a._resolve=null,a._onCanPlay=a._onCanPlay.bind(a),a._onError=a._onError.bind(a),i.autoLoad!==!1&&a.load(),a}return t.prototype.update=function(r){if(!this.destroyed){var i=_r.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(a){r.valid?a(r):(r._resolve=a,i.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_r.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(r.videoWidth,r.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_r.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,i){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(hn),K2=function(e){Te(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},t}(hn);Kl.push(Xc,K2,z2,Y2,W2,ho,J2,V2);var Bx={__proto__:null,Resource:ao,BaseImageResource:hn,INSTALLED:Kl,autoDetectResource:Gc,AbstractMultiResource:jc,ArrayResource:V2,BufferResource:ho,CanvasResource:z2,CubeResource:J2,ImageResource:Xc,SVGResource:W2,VideoResource:Y2,ImageBitmapResource:K2},jR=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,i,a){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===xi.UNPACK);var s=i.realWidth,l=i.realHeight;return a.width===s&&a.height===l?o.texSubImage2D(i.target,0,0,0,s,l,i.format,a.type,this.data):(a.width=s,a.height=l,o.texImage2D(i.target,0,a.internalFormat,s,l,0,i.format,a.type,this.data)),!0},t}(ho),cc=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new pr("disposeFramebuffer"),this.multisample=Ie.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new ne(null,{scaleMode:Di.NEAREST,resolution:1,mipmap:bi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ne(new jR(null,{width:this.width,height:this.height}),{scaleMode:Di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:bi.OFF,format:ct.DEPTH_COMPONENT,type:Ct.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var a=this.colorTextures[i],o=a.resolution;a.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),Q2=function(e){Te(t,e);function t(r){r===void 0&&(r={});var i=this;if(typeof r=="number"){var a=arguments[0],o=arguments[1],s=arguments[2],l=arguments[3];r={width:a,height:o,scaleMode:s,resolution:l}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Ie.NONE,i=e.call(this,null,r)||this,i.mipmap=bi.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new cc(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=r.multisample,i.maskStack=[],i.filterStack=[{}],i}return t.prototype.resize=function(r,i){this.framebuffer.resize(r*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(ne),Z2=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,i){var a=r.width,o=r.height;if(i){var s=t.width/2/a,l=t.height/2/o,h=t.x/a+s,d=t.y/o+l;i=Me.add(i,Me.NW),this.x0=h+s*Me.uX(i),this.y0=d+l*Me.uY(i),i=Me.add(i,2),this.x1=h+s*Me.uX(i),this.y1=d+l*Me.uY(i),i=Me.add(i,2),this.x2=h+s*Me.uX(i),this.y2=d+l*Me.uY(i),i=Me.add(i,2),this.x3=h+s*Me.uX(i),this.y3=d+l*Me.uY(i)}else this.x0=t.x/a,this.y0=t.y/o,this.x1=(t.x+t.width)/a,this.y1=t.y/o,this.x2=(t.x+t.width)/a,this.y2=(t.y+t.height)/o,this.x3=t.x/a,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),Og=new Z2;function zu(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var kt=function(e){Te(t,e);function t(r,i,a,o,s,l){var h=e.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new te(0,0,1,1)),r instanceof t&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=Og,h.uvMatrix=null,h.orig=a||i,h._rotate=Number(s||0),s===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=l?new ye(l.x,l.y):new ye(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var i=this.baseTexture.resource;i&&i.url&&Xr[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),i=this._frame===this.orig?r:this.orig.clone(),a=new t(this.baseTexture,!this.noFrame&&r,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(a._frame=r),a},t.prototype.updateUvs=function(){this._uvs===Og&&(this._uvs=new Z2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,i,a){i===void 0&&(i={}),a===void 0&&(a=St.STRICT_TEXTURE_CACHE);var o=typeof r=="string",s=null;if(o)s=r;else if(r instanceof ne){if(!r.cacheId){var l=i&&i.pixiIdPrefix||"pixiid";r.cacheId=l+"-"+pa(),ne.addToCache(r,r.cacheId)}s=r.cacheId}else{if(!r._pixiId){var l=i&&i.pixiIdPrefix||"pixiid";r._pixiId=l+"_"+pa()}s=r._pixiId}var h=Xr[s];if(o&&a&&!h)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return!h&&!(r instanceof ne)?(i.resolution||(i.resolution=Wl(r)),h=new t(new ne(r,i)),h.baseTexture.cacheId=s,ne.addToCache(h.baseTexture,s),t.addToCache(h,s)):!h&&r instanceof ne&&(h=new t(r),t.addToCache(h,s)),h},t.fromURL=function(r,i){var a=Object.assign({autoLoad:!1},i==null?void 0:i.resourceOptions),o=t.from(r,Object.assign({resourceOptions:a},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,i,a,o){return new t(ne.fromBuffer(r,i,a,o))},t.fromLoader=function(r,i,a,o){var s=new ne(r,Object.assign({scaleMode:St.SCALE_MODE,resolution:Wl(i)},o)),l=s.resource;l instanceof Xc&&(l.url=i);var h=new t(s);return a||(a=i),ne.addToCache(h.baseTexture,a),t.addToCache(h,a),a!==i&&(ne.addToCache(h.baseTexture,i),t.addToCache(h,i)),h.baseTexture.valid?Promise.resolve(h):new Promise(function(d){h.baseTexture.once("loaded",function(){return d(h)})})},t.addToCache=function(r,i){i&&(r.textureCacheIds.indexOf(i)===-1&&r.textureCacheIds.push(i),Xr[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Xr[i]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var i=Xr[r];if(i){var a=i.textureCacheIds.indexOf(r);return a>-1&&i.textureCacheIds.splice(a,1),delete Xr[r],i}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Xr[r.textureCacheIds[o]]===r&&delete Xr[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var i=r.x,a=r.y,o=r.width,s=r.height,l=i+o>this.baseTexture.width,h=a+s>this.baseTexture.height;if(l||h){var d=l&&h?"and":"or",S="X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width,y="Y: "+a+" + "+s+" = "+(a+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(S+" "+d+" "+y))}this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new ne),zu(t._EMPTY),zu(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var r=St.ADAPTER.createCanvas(16,16),i=r.getContext("2d");r.width=16,r.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),t._WHITE=new t(ne.from(r)),zu(t._WHITE),zu(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(Nn),_a=function(e){Te(t,e);function t(r,i){var a=e.call(this,r,i)||this;return a.valid=!0,a.filterFrame=null,a.filterPoolKey=null,a.updateUvs(),a}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,i,a){a===void 0&&(a=!0);var o=this.baseTexture.resolution,s=Math.round(r*o)/o,l=Math.round(i*o)/o;this.valid=s>0&&l>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=l,a&&this.baseTexture.resize(s,l),this.updateUvs()},t.prototype.setResolution=function(r){var i=this.baseTexture;i.resolution!==r&&(i.setResolution(r),this.resize(i.width,i.height,!1))},t.create=function(r){for(var i=arguments,a=[],o=1;o<arguments.length;o++)a[o-1]=i[o];return typeof r=="number"&&(Nr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:a[0],scaleMode:a[1],resolution:a[2]}),new t(new Q2(r))},t}(kt),Hx=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,i){i===void 0&&(i=Ie.NONE);var a=new Q2(Object.assign({width:t,height:r,resolution:1,multisample:i},this.textureOptions));return new _a(a)},e.prototype.getOptimalTexture=function(t,r,i,a){i===void 0&&(i=1),a===void 0&&(a=Ie.NONE);var o;t=Math.ceil(t*i-1e-6),r=Math.ceil(r*i-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=Jl(t),r=Jl(r),o=((t&65535)<<16|r&65535)>>>0,a>1&&(o+=a*4294967296)):o=a>1?-a:-1,this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,r,a)),s.filterPoolKey=o,s.setResolution(i),s},e.prototype.getFilterTexture=function(t,r,i){var a=this.getOptimalTexture(t.width,t.height,r||t.resolution,i||Ie.NONE);return a.filterFrame=t.filterFrame,a},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var i=this.texturePool[r];if(i)for(var a=0;a<i.length;a++)i[a].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var i=this.texturePool[r];if(i)for(var a=0;a<i.length;a++)i[a].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),Yd=function(){function e(t,r,i,a,o,s,l){r===void 0&&(r=0),i===void 0&&(i=!1),a===void 0&&(a=Ct.FLOAT),this.buffer=t,this.size=r,this.normalized=i,this.type=a,this.stride=o,this.start=s,this.instance=l}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,i,a,o){return new e(t,r,i,a,o)},e}(),XR=0,qe=function(){function e(t,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=XR++,this.disposeRunner=new pr("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===Bi.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Bi.ELEMENT_ARRAY_BUFFER:Bi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),VR={Float32Array,Uint32Array,Int32Array,Uint8Array};function zR(e,t){for(var r=0,i=0,a={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;for(var s=new ArrayBuffer(r*4),l=null,h=0,o=0;o<e.length;o++){var d=t[o],S=e[o],y=Hc(S);a[y]||(a[y]=new VR[y](s)),l=a[y];for(var E=0;E<S.length;E++){var M=(E/d|0)*i+h,O=E%d;l[M+O]=S[E]}h+=d}return new Float32Array(s)}var Rg={5126:4,5123:2,5121:1},JR=0,WR={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Ss=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=JR++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new pr("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,i,a,o,s,l,h){if(i===void 0&&(i=0),a===void 0&&(a=!1),h===void 0&&(h=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof qe||(r instanceof Array&&(r=new Float32Array(r)),r=new qe(r));var d=t.split("|");if(d.length>1){for(var S=0;S<d.length;S++)this.addAttribute(d[S],r,i,a,o);return this}var y=this.buffers.indexOf(r);return y===-1&&(this.buffers.push(r),y=this.buffers.length-1),this.attributes[t]=new Yd(y,i,a,o,s,l,h),this.instanced=this.instanced||h,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof qe||(t instanceof Array&&(t=new Uint16Array(t)),t=new qe(t)),t.type=Bi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],i=new qe,a;for(a in this.attributes){var o=this.attributes[a],s=this.buffers[o.buffer];t.push(s.data),r.push(o.size*Rg[o.type]/4),o.buffer=0}for(i.data=zR(t,r),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],i=this.buffers[r.buffer];return i.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new qe(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Yd(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Bi.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,i=[],a=[],o=[],s,l=0;l<t.length;l++){s=t[l];for(var h=0;h<s.buffers.length;h++)a[h]=a[h]||0,a[h]+=s.buffers[h].data.length,o[h]=0}for(var l=0;l<s.buffers.length;l++)i[l]=new WR[Hc(s.buffers[l].data)](a[l]),r.buffers[l]=new qe(i[l]);for(var l=0;l<t.length;l++){s=t[l];for(var h=0;h<s.buffers.length;h++)i[h].set(s.buffers[h].data,o[h]),o[h]+=s.buffers[h].data.length}if(r.attributes=s.attributes,s.indexBuffer){r.indexBuffer=r.buffers[s.buffers.indexOf(s.indexBuffer)],r.indexBuffer.type=Bi.ELEMENT_ARRAY_BUFFER;for(var d=0,S=0,y=0,E=0,l=0;l<s.buffers.length;l++)if(s.buffers[l]!==s.indexBuffer){E=l;break}for(var l in s.attributes){var M=s.attributes[l];(M.buffer|0)===E&&(S+=M.size*Rg[M.type]/4)}for(var l=0;l<t.length;l++){for(var O=t[l].indexBuffer.data,h=0;h<O.length;h++)r.indexBuffer.data[h+y]+=d;d+=t[l].buffers[E].data.length/S,y+=O.length}}return r},e}(),Ux=function(e){Te(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(Ss),q2=function(e){Te(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new qe(r.vertices),r.uvBuffer=new qe(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,i){var a=0,o=0;return this.uvs[0]=a,this.uvs[1]=o,this.uvs[2]=a+i.width/r.width,this.uvs[3]=o,this.uvs[4]=a+i.width/r.width,this.uvs[5]=o+i.height/r.height,this.uvs[6]=a,this.uvs[7]=o+i.height/r.height,a=i.x,o=i.y,this.vertices[0]=a,this.vertices[1]=o,this.vertices[2]=a+i.width,this.vertices[3]=o,this.vertices[4]=a+i.width,this.vertices[5]=o+i.height,this.vertices[6]=a,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Ss),YR=0,ha=function(){function e(t,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=YR++,this.static=!!r,this.ubo=!!i,t instanceof qe?(this.buffer=t,this.buffer.type=Bi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new qe(new Float32Array(1)),this.buffer.type=Bi.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,i){if(!this.ubo)this.uniforms[t]=new e(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,i){return new e(t,r,i)},e.uboFrom=function(t,r){return new e(t,r??!0,!0)},e}(),Gx=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ie.NONE,this.sourceFrame=new te,this.destinationFrame=new te,this.bindingSourceFrame=new te,this.bindingDestinationFrame=new te,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Ju=[new ye,new ye,new ye,new ye],Z0=new Re,t_=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Hx,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Ux,this.quadUv=new q2,this.tempRect=new te,this.activeState={},this.globalUniforms=new ha({outputFrame:new te,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var i,a,o=this.renderer,s=this.defaultFilterStack,l=this.statePool.pop()||new Gx,h=this.renderer.renderTexture,d=r[0].resolution,S=r[0].multisample,y=r[0].padding,E=r[0].autoFit,M=(i=r[0].legacy)!==null&&i!==void 0?i:!0,O=1;O<r.length;O++){var C=r[O];d=Math.min(d,C.resolution),S=Math.min(S,C.multisample),y=this.useMaxPadding?Math.max(y,C.padding):y+C.padding,E=E&&C.autoFit,M=M||((a=C.legacy)!==null&&a!==void 0?a:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),s.push(l),l.resolution=d,l.multisample=S,l.legacy=M,l.target=t,l.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),l.sourceFrame.pad(y);var N=this.tempRect.copyFrom(h.sourceFrame);o.projection.transform&&this.transformAABB(Z0.copyFrom(o.projection.transform).invert(),N),E?(l.sourceFrame.fit(N),(l.sourceFrame.width<=0||l.sourceFrame.height<=0)&&(l.sourceFrame.width=0,l.sourceFrame.height=0)):l.sourceFrame.intersects(N)||(l.sourceFrame.width=0,l.sourceFrame.height=0),this.roundFrame(l.sourceFrame,h.current?h.current.resolution:o.resolution,h.sourceFrame,h.destinationFrame,o.projection.transform),l.renderTexture=this.getOptimalFilterTexture(l.sourceFrame.width,l.sourceFrame.height,d,S),l.filters=r,l.destinationFrame.width=l.renderTexture.width,l.destinationFrame.height=l.renderTexture.height;var $=this.tempRect;$.x=0,$.y=0,$.width=l.sourceFrame.width,$.height=l.sourceFrame.height,l.renderTexture.filterFrame=l.sourceFrame,l.bindingSourceFrame.copyFrom(h.sourceFrame),l.bindingDestinationFrame.copyFrom(h.destinationFrame),l.transform=o.projection.transform,o.projection.transform=null,h.bind(l.renderTexture,l.sourceFrame,$),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),i=r.filters;this.activeState=r;var a=this.globalUniforms.uniforms;a.outputFrame=r.sourceFrame,a.resolution=r.resolution;var o=a.inputSize,s=a.inputPixel,l=a.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*r.resolution),s[1]=Math.round(o[1]*r.resolution),s[2]=1/s[0],s[3]=1/s[1],l[0]=.5*s[2],l[1]=.5*s[3],l[2]=r.sourceFrame.width*o[2]-.5*s[2],l[3]=r.sourceFrame.height*o[3]-.5*s[3],r.legacy){var h=a.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();var d=t[t.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,d.renderTexture,ci.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var S=r.renderTexture,y=this.getOptimalFilterTexture(S.width,S.height,r.resolution);y.filterFrame=S.filterFrame;var E=0;for(E=0;E<i.length-1;++E){E===1&&r.multisample>1&&(y=this.getOptimalFilterTexture(S.width,S.height,r.resolution),y.filterFrame=S.filterFrame),i[E].apply(this,S,y,ci.CLEAR,r);var M=S;S=y,y=M}i[E].apply(this,S,d.renderTexture,ci.BLEND,r),E>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(S),this.returnFilterTexture(y)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=ci.CLEAR);var i=this.renderer,a=i.renderTexture,o=i.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,a.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?a.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var l=o.stateId&1||this.forceClear;(r===ci.CLEAR||r===ci.BLIT&&l)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,i,a){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,a),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(pi.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(pi.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var i=this.activeState,a=i.sourceFrame,o=i.destinationFrame,s=r._texture.orig,l=t.set(o.width,0,0,o.height,a.x,a.y),h=r.worldTransform.copyTo(Re.TEMP_MATRIX);return h.invert(),l.prepend(h),l.scale(1/s.width,1/s.height),l.translate(r.anchor.x,r.anchor.y),l},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,i,a){return i===void 0&&(i=1),a===void 0&&(a=Ie.NONE),this.texturePool.getOptimalTexture(t,r,i,a)},e.prototype.getFilterTexture=function(t,r,i){if(typeof t=="number"){var a=t;t=r,r=a}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,i||Ie.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var i=Ju[0],a=Ju[1],o=Ju[2],s=Ju[3];i.set(r.left,r.top),a.set(r.left,r.bottom),o.set(r.right,r.top),s.set(r.right,r.bottom),t.apply(i,i),t.apply(a,a),t.apply(o,o),t.apply(s,s);var l=Math.min(i.x,a.x,o.x,s.x),h=Math.min(i.y,a.y,o.y,s.y),d=Math.max(i.x,a.x,o.x,s.x),S=Math.max(i.y,a.y,o.y,s.y);r.x=l,r.y=h,r.width=d-l,r.height=S-h},e.prototype.roundFrame=function(t,r,i,a,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.b,h=o.c,d=o.d;if((Math.abs(l)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(d)>1e-4))return}o=o?Z0.copyFrom(o):Z0.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),pu=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),e_=function(){function e(t){this.renderer=t,this.emptyRenderer=new pu(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var i=this.renderer.texture.boundTextures,a=r-1;a>=0;--a)t[a]=i[a]||null,t[a]&&(t[a]._batchLocation=a)},e.prototype.boundArray=function(t,r,i,a){for(var o=t.elements,s=t.ids,l=t.count,h=0,d=0;d<l;d++){var S=o[d],y=S._batchLocation;if(y>=0&&y<a&&r[y]===S){s[d]=y;continue}for(;h<a;){var E=r[h];if(E&&E._batchEnabled===i&&E._batchLocation===h){h++;continue}s[d]=h,S._batchLocation=h,r[h]=S;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),Cg=0,r_=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Cg++},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Cg++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var i;if(St.PREFER_ENV>=ln.WEBGL2&&(i=t.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){var r=this;t.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var a=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),jx=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ie.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),KR=new te,i_=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new cc(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new te,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;St.PREFER_ENV===ln.WEBGL_LEGACY&&(r=null,i=null),r?t.drawBuffers=function(a){return r.drawBuffersWEBGL(a)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,i){i===void 0&&(i=0);var a=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,a.bindFramebuffer(a.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var l=t.colorTextures[s];this.renderer.texture.unbind(l.parentTextureArray||l)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var h=r.width>>i,d=r.height>>i,S=h/r.width;this.setViewport(r.x*S,r.y*S,h,d)}else{var h=t.width>>i,d=t.height>>i;this.setViewport(0,0,h,d)}}else this.current&&(this.current=null,a.bindFramebuffer(a.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,i,a){var o=this.viewport;t=Math.round(t),r=Math.round(r),i=Math.round(i),a=Math.round(a),(o.width!==i||o.height!==a||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=i,o.height=a,this.gl.viewport(t,r,i,a))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,i,a,o){o===void 0&&(o=Ul.COLOR|Ul.DEPTH);var s=this.gl;s.clearColor(t,r,i,a),s.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,i=new jx(r.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(t){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height)),i.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var a=t.colorTextures,o=a.length;r.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var l=a[s],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var i=this.gl,a=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),a.multisample>1&&this.canMultisampleFramebuffer(t)?(a.msaaBuffer=a.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,a.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,a.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,a.msaaBuffer)):a.msaaBuffer&&(i.deleteRenderbuffer(a.msaaBuffer),a.msaaBuffer=null,a.blitFramebuffer&&(a.blitFramebuffer.dispose(),a.blitFramebuffer=null));for(var l=[],h=0;h<s;h++){var d=o[h],S=d.parentTextureArray||d;this.renderer.texture.bind(S,0),!(h===0&&a.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h,d.target,S._glTextures[this.CONTEXT_UID].texture,r),l.push(i.COLOR_ATTACHMENT0+h))}if(l.length>1&&i.drawBuffers(l),t.depthTexture){var y=this.writeDepthTexture;if(y){var E=t.depthTexture;this.renderer.texture.bind(E,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,E._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(a.stencil=a.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,a.stencil),a.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,a.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a.stencil)):a.stencil&&(i.deleteRenderbuffer(a.stencil),a.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,i=Ie.NONE;if(t<=1||r===null)return i;for(var a=0;a<r.length;a++)if(r[a]<=t){i=r[a];break}return i===1&&(i=Ie.NONE),i},e.prototype.blit=function(t,r,i){var a=this,o=a.current,s=a.renderer,l=a.gl,h=a.CONTEXT_UID;if(s.context.webGLVersion===2&&o){var d=o.glFramebuffers[h];if(d){if(!t){if(!d.msaaBuffer)return;var S=o.colorTextures[0];if(!S)return;d.blitFramebuffer||(d.blitFramebuffer=new cc(o.width,o.height),d.blitFramebuffer.addColorTexture(0,S)),t=d.blitFramebuffer,t.colorTextures[0]!==S&&(t.colorTextures[0]=S,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=KR,r.width=o.width,r.height=o.height),i||(i=r);var y=r.width===i.width&&r.height===i.height;this.bind(t),l.bindFramebuffer(l.READ_FRAMEBUFFER,d.framebuffer),l.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,l.COLOR_BUFFER_BIT,y?l.NEAREST:l.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var i=t.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(a.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&a.deleteRenderbuffer(i.msaaBuffer),i.stencil&&a.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<r.length;i++)this.disposeFramebuffer(r[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var i=t.width,a=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,i,a):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,a),r.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new te},e.prototype.destroy=function(){this.renderer=null},e}(),q0={5126:4,5123:2,5121:1},n_=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var i=this.renderer.context.extensions.vertexArrayObject;St.PREFER_ENV===ln.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var a=t.getExtension("ANGLE_instanced_arrays");a?(t.vertexAttribDivisor=function(o,s){return a.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,l,h,d){return a.drawElementsInstancedANGLE(o,s,l,h,d)},t.drawArraysInstanced=function(o,s,l,h){return a.drawArraysInstancedANGLE(o,s,l,h)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var i=this.gl,a=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);var s=a[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,i=0;i<t.buffers.length;i++){var a=t.buffers[i];r.update(a)}},e.prototype.checkCompatibility=function(t,r){var i=t.attributes,a=r.attributeData;for(var o in a)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var i=t.attributes,a=r.attributeData,o=["g",t.id];for(var s in i)a[s]&&o.push(s,a[s].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,i){i===void 0&&(i=!0);var a=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,l=r.program;l.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,l);var h=this.getSignature(t,l),d=t.glVertexArrayObjects[this.CONTEXT_UID],S=d[h];if(S)return d[l.id]=S,S;var y=t.buffers,E=t.attributes,M={},O={};for(var C in y)M[C]=0,O[C]=0;for(var C in E)!E[C].size&&l.attributeData[C]?E[C].size=l.attributeData[C].size:E[C].size||console.warn("PIXI Geometry attribute '"+C+"' size cannot be determined (likely the bound shader does not have the attribute)"),M[E[C].buffer]+=E[C].size*q0[E[C].type];for(var C in E){var N=E[C],$=N.size;N.stride===void 0&&(M[N.buffer]===$*q0[N.type]?N.stride=0:N.stride=M[N.buffer]),N.start===void 0&&(N.start=O[N.buffer],O[N.buffer]+=$*q0[N.type])}S=a.createVertexArray(),a.bindVertexArray(S);for(var L=0;L<y.length;L++){var B=y[L];s.bind(B),i&&B._glBuffers[o].refCount++}return this.activateVao(t,l),this._activeVao=S,d[l.id]=S,d[h]=S,S},e.prototype.disposeGeometry=function(t,r){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var a=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,l=(i=this.renderer)===null||i===void 0?void 0:i.buffer;if(t.disposeRunner.remove(this),!!a){if(l)for(var h=0;h<s.length;h++){var d=s[h]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&l.dispose(s[h],r))}if(!r){for(var S in a)if(S[0]==="g"){var y=a[S];this._activeVao===y&&this.unbind(),o.deleteVertexArray(y)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],t)},e.prototype.activateVao=function(t,r){var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,l=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var h=null;for(var d in l){var S=l[d],y=s[S.buffer],E=y._glBuffers[a];if(r.attributeData[d]){h!==E&&(o.bind(y),h=E);var M=r.attributeData[d].location;if(i.enableVertexAttribArray(M),i.vertexAttribPointer(M,S.size,S.type||i.FLOAT,S.normalized,S.stride,S.start),S.instance)if(this.hasInstance)i.vertexAttribDivisor(M,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,i,a){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var l=s.indexBuffer.data.BYTES_PER_ELEMENT,h=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,r||s.indexBuffer.data.length,h,(i||0)*l,a||1):o.drawElements(t,r||s.indexBuffer.data.length,h,(i||0)*l):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,r||s.getSize(),a||1):o.drawArrays(t,i,r||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),Xx=function(){function e(t){t===void 0&&(t=null),this.type=Xe.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=St.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Xe.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function $g(e,t,r){var i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function Lg(e,t){var r=e.getShaderSource(t).split(`
`).map(function(d,S){return S+": "+d}),i=e.getShaderInfoLog(t),a=i.split(`
`),o={},s=a.map(function(d){return parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(d){return d&&!o[d]?(o[d]=!0,!0):!1}),l=[""];s.forEach(function(d){r[d-1]="%c"+r[d-1]+"%c",l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var h=r.join(`
`);l[0]=h,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,l),console.groupEnd()}function QR(e,t,r,i){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Lg(e,r),e.getShaderParameter(i,e.COMPILE_STATUS)||Lg(e,i),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function tf(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function Vx(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return tf(2*t);case"bvec3":return tf(3*t);case"bvec4":return tf(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var zx={},Bs=zx;function Jx(){if(Bs===zx||Bs&&Bs.isContextLost()){var e=St.ADAPTER.createCanvas(),t=void 0;St.PREFER_ENV>=ln.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Bs=t}return Bs}var Wu;function ZR(){if(!Wu){Wu=Jr.MEDIUM;var e=Jx();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Wu=t.precision?Jr.HIGH:Jr.MEDIUM}}return Wu}function Dg(e,t,r){if(e.substring(0,9)!=="precision"){var i=t;return t===Jr.HIGH&&r!==Jr.HIGH&&(i=Jr.MEDIUM),"precision "+i+` float;
`+e}else if(r!==Jr.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var qR={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Wx(e){return qR[e]}var Yu=null,Ng={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Yx(e,t){if(!Yu){var r=Object.keys(Ng);Yu={};for(var i=0;i<r.length;++i){var a=r[i];Yu[e[a]]=Ng[a]}}return Yu[t]}var Ka=[{test:function(e){return e.type==="float"&&e.size===1&&!e.isArray},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e,t){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0)},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],tC={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},eC={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function rC(e,t){var r,i=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var a in e.uniforms){var o=t[a];if(!o){!((r=e.uniforms[a])===null||r===void 0)&&r.group&&(e.uniforms[a].ubo?i.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+a+", '"+a+`');
                    `):i.push(`
                        renderer.shader.syncUniformGroup(uv.`+a+`, syncData);
                    `));continue}for(var s=e.uniforms[a],l=!1,h=0;h<Ka.length;h++)if(Ka[h].test(o,s)){i.push(Ka[h].code(a,s)),l=!0;break}if(!l){var d=o.size===1&&!o.isArray?tC:eC,S=d[o.type].replace("location",'ud["'+a+'"].location');i.push(`
            cu = ud["`+a+`"];
            cv = cu.value;
            v = uv["`+a+`"];
            `+S+";")}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}var iC=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function nC(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Kx(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var i=iC.replace(/%forloop%/gi,nC(e));if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var Hs;function aC(){if(typeof Hs=="boolean")return Hs;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Hs=e({a:"b"},"a","b")===!0}catch{Hs=!1}return Hs}var oC=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,sC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,lC=0,Ku={},Ts=function(){function e(t,r,i){i===void 0&&(i="pixi-shader"),this.id=lC++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Ku[i]?(Ku[i]++,i+="-"+Ku[i]):Ku[i]=1,this.vertexSrc="#define SHADER_NAME "+i+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+`
`+this.fragmentSrc,this.vertexSrc=Dg(this.vertexSrc,St.PRECISION_VERTEX,Jr.HIGH),this.fragmentSrc=Dg(this.fragmentSrc,St.PRECISION_FRAGMENT,ZR())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return sC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return oC},enumerable:!1,configurable:!0}),e.from=function(t,r,i){var a=t+r,o=Xd[a];return o||(Xd[a]=o=new e(t,r,i)),o},e}(),wn=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof ha?this.uniformGroup=r:this.uniformGroup=new ha(r):this.uniformGroup=new ha({}),this.disposeRunner=new pr("disposeShader")}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var i in r.uniforms){var a=r.uniforms[i];if(a.group&&this.checkUniformExists(t,a))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,i){var a=Ts.from(t,r);return new e(a,i)},e}(),ef=0,rf=1,nf=2,af=3,of=4,sf=5,Sa=function(){function e(){this.data=0,this.blendMode=$t.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<ef)},set:function(t){!!(this.data&1<<ef)!==t&&(this.data^=1<<ef)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<rf)},set:function(t){!!(this.data&1<<rf)!==t&&(this.data^=1<<rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<nf)},set:function(t){!!(this.data&1<<nf)!==t&&(this.data^=1<<nf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<af)},set:function(t){!!(this.data&1<<af)!==t&&(this.data^=1<<af)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<sf)},set:function(t){!!(this.data&1<<sf)!==t&&(this.data^=1<<sf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<of)},set:function(t){!!(this.data&1<<of)!==t&&(this.data^=1<<of)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==$t.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),uC=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,hC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Fn=function(e){Te(t,e);function t(r,i,a){var o=this,s=Ts.from(r||t.defaultVertexSrc,i||t.defaultFragmentSrc);return o=e.call(this,s,a)||this,o.padding=0,o.resolution=St.FILTER_RESOLUTION,o.multisample=St.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Sa,o}return t.prototype.apply=function(r,i,a,o,s){r.applyFilter(this,i,a,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return hC},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return uC},enumerable:!1,configurable:!0}),t}(wn),cC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fC=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Fg=new Re,Vc=function(){function e(t,r){this._texture=t,this.mapCoord=new Re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var i=this.mapCoord,a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];r[a]=o*i.a+s*i.c+i.tx,r[a+1]=o*i.b+s*i.d+i.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var a=r.orig,o=r.trim;o&&(Fg.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Fg));var s=r.baseTexture,l=this.uClampFrame,h=this.clampMargin/s.resolution,d=this.clampOffset;return l[0]=(r._frame.x+h+d)/s.width,l[1]=(r._frame.y+h+d)/s.height,l[2]=(r._frame.x+r._frame.width-h+d)/s.width,l[3]=(r._frame.y+r._frame.height-h+d)/s.height,this.uClampOffset[0]=d/s.realWidth,this.uClampOffset[1]=d/s.realHeight,this.isSimple=r._frame.width===s.width&&r._frame.height===s.height&&r.rotate===0,!0},e}(),Qx=function(e){Te(t,e);function t(r,i,a){var o=this,s=null;return typeof r!="string"&&i===void 0&&a===void 0&&(s=r,r=void 0,i=void 0,a=void 0),o=e.call(this,r||cC,i||fC,a)||this,o.maskSprite=s,o.maskMatrix=new Re,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,i,a,o){var s=this._maskSprite,l=s._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new Vc(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,s).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,r.applyFilter(this,i,a,o))},t}(Fn),a_=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var i=r;if(!i.isMaskData){var a=this.maskDataPool.pop()||new Xx;a.pooled=!0,a.maskObject=r,i=a}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(o),i._colorMask=o?o._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==Xe.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Xe.SCISSOR:this.renderer.scissor.push(i);break;case Xe.STENCIL:this.renderer.stencil.push(i);break;case Xe.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Xe.COLOR:this.pushColorMask(i);break}i.type===Xe.SPRITE&&this.maskStack.push(i)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Xe.SCISSOR:this.renderer.scissor.pop(r);break;case Xe.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Xe.SPRITE:this.popSpriteMask(r);break;case Xe.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var i=this.maskStack[this.maskStack.length-1];i.type===Xe.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r?r.isSprite?t.type=Xe.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Xe.SCISSOR:t.type=Xe.STENCIL:t.type=Xe.COLOR},e.prototype.pushSpriteMask=function(t){var r,i,a=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Qx]));var l=this.renderer,h=l.renderTexture,d,S;if(h.current){var y=h.current;d=t.resolution||y.resolution,S=(r=t.multisample)!==null&&r!==void 0?r:y.multisample}else d=t.resolution||l.resolution,S=(i=t.multisample)!==null&&i!==void 0?i:l.multisample;s[0].resolution=d,s[0].multisample=S,s[0].maskSprite=a;var E=o.filterArea;o.filterArea=a.getBounds(!0),l.filter.push(o,s),o.filterArea=E,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.pushColorMask=function(t){var r=t._colorMask,i=t._colorMask=r&t.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)},e.prototype.popColorMask=function(t){var r=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)},e.prototype.destroy=function(){this.renderer=null},e}(),Zx=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var a=this.getStackLength();a!==i&&(a===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),kg=new Re,Bg=[],o_=function(e){Te(t,e);function t(r){var i=e.call(this,r)||this;return i.glConst=St.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,i}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){var i;if(!r._scissorRectLocal){var a=r._scissorRect,o=r.maskObject,s=this.renderer,l=s.renderTexture,h=o.getBounds(!0,(i=Bg.pop())!==null&&i!==void 0?i:new te);this.roundFrameToPixels(h,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a&&h.fit(a),r._scissorRectLocal=h}},t.isMatrixRotated=function(r){if(!r)return!1;var i=r.a,a=r.b,o=r.c,s=r.d;return(Math.abs(a)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(r){var i=r.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var a=r._scissorRectLocal;return a.width>0&&a.height>0},t.prototype.roundFrameToPixels=function(r,i,a,o,s){t.isMatrixRotated(s)||(s=s?kg.copyFrom(s):kg.identity(),s.translate(-a.x,-a.y).scale(o.width/a.width,o.height/a.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,r),r.fit(o),r.x=Math.round(r.x*i),r.y=Math.round(r.y*i),r.width=Math.round(r.width*i),r.height=Math.round(r.height*i))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var i=this.renderer.gl;r._scissorRect||i.enable(i.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(r){var i=this.renderer.gl;r&&Bg.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,i;this.renderer.renderTexture.current?i=r.y:i=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,i,r.width,r.height)},t}(Zx),s_=function(e){Te(t,e);function t(r){var i=e.call(this,r)||this;return i.glConst=St.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,i}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var i=r.maskObject,a=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),a.clearStencil(0),a.clear(a.STENCIL_BUFFER_BIT),a.enable(a.STENCIL_TEST)),r._stencilCounter++;var s=r._colorMask;s!==0&&(r._colorMask=0,a.colorMask(!1,!1,!1,!1)),a.stencilFunc(a.EQUAL,o,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,s!==0&&(r._colorMask=s,a.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()},t.prototype.pop=function(r){var i=this.renderer.gl;if(this.getStackLength()===0)i.disable(i.STENCIL_TEST);else{var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=a?a._colorMask:15;o!==0&&(a._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilOp(i.KEEP,i.KEEP,i.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(a._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}(Zx),l_=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Re,this.transform=null}return e.prototype.update=function(t,r,i,a){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,a),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,i,a){var o=this.projectionMatrix,s=a?-1:1;o.identity(),o.a=1/r.width*2,o.d=s*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-s-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),Ia=new te,Us=new te,u_=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new te,this.destinationFrame=new te,this.viewportFrame=new te}return e.prototype.bind=function(t,r,i){t===void 0&&(t=null);var a=this.renderer;this.current=t;var o,s,l;t?(o=t.baseTexture,l=o.resolution,r||(Ia.width=t.frame.width,Ia.height=t.frame.height,r=Ia),i||(Us.x=t.frame.x,Us.y=t.frame.y,Us.width=r.width,Us.height=r.height,i=Us),s=o.framebuffer):(l=a.resolution,r||(Ia.width=a.screen.width,Ia.height=a.screen.height,r=Ia),i||(i=Ia,i.width=r.width,i.height=r.height));var h=this.viewportFrame;h.x=i.x*l,h.y=i.y*l,h.width=i.width*l,h.height=i.height*l,t||(h.y=a.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(s,h),this.renderer.projection.update(i,r,l,!s),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var i=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==a.width||i.height!==a.height;if(o){var s=this.viewportFrame,l=s.x,h=s.y,d=s.width,S=s.height;l=Math.round(l),h=Math.round(h),d=Math.round(d),S=Math.round(S),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,h,d,S)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function dC(e,t,r,i,a){r.buffer.update(a)}var pC={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},qx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function t4(e){for(var t=e.map(function(h){return{data:h,offset:0,dataLen:0,dirty:0}}),r=0,i=0,a=0,o=0;o<t.length;o++){var s=t[o];if(r=qx[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,i%r!==0&&i<16){var l=i%r%16;i+=l,a+=l}i+r>16?(a=Math.ceil(a/16)*16,s.offset=a,a+=r,i=r):(s.offset=a,i+=r,a+=r)}return a=Math.ceil(a/16)*16,{uboElements:t,size:a}}function e4(e,t){var r=[];for(var i in e)t[i]&&r.push(t[i]);return r.sort(function(a,o){return a.index-o.index}),r}function r4(e,t){if(!e.autoManage)return{size:0,syncFunc:dC};for(var r=e4(e.uniforms,t),i=t4(r),a=i.uboElements,o=i.size,s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],l=0;l<a.length;l++){for(var h=a[l],d=e.uniforms[h.data.name],S=h.data.name,y=!1,E=0;E<Ka.length;E++){var M=Ka[E];if(M.codeUbo&&M.test(h.data,d)){s.push("offset = "+h.offset/4+";",Ka[E].codeUbo(h.data.name,d)),y=!0;break}}if(!y)if(h.data.size>1){var O=Wx(h.data.type),C=Math.max(qx[h.data.type]/16,1),N=O/C,$=(4-N%4)%4;s.push(`
                cv = ud.`+S+`.value;
                v = uv.`+S+`;
                offset = `+h.offset/4+`;

                t = 0;

                for(var i=0; i < `+h.data.size*C+`; i++)
                {
                    for(var j = 0; j < `+N+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+$+`;
                }

                `)}else{var L=pC[h.data.type];s.push(`
                cv = ud.`+S+`.value;
                v = uv.`+S+`;
                offset = `+h.offset/4+`;
                `+L+`;
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}var _C=function(){function e(){}return e}(),i4=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function mC(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<i;a++){var o=t.getActiveAttrib(e,a);if(o.name.indexOf("gl_")!==0){var s=Yx(t,o.type),l={type:s,name:o.name,size:Wx(s),location:t.getAttribLocation(e,o.name)};r[o.name]=l}}return r}function gC(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<i;a++){var o=t.getActiveUniform(e,a),s=o.name.replace(/\[.*?\]$/,""),l=!!o.name.match(/\[.*?\]$/),h=Yx(t,o.type);r[s]={name:s,index:a,type:h,size:o.size,isArray:l,value:Vx(h,o.size)}}return r}function n4(e,t){var r=$g(e,e.VERTEX_SHADER,t.vertexSrc),i=$g(e,e.FRAGMENT_SHADER,t.fragmentSrc),a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||QR(e,a,r,i),t.attributeData=mC(a,e),t.uniformData=gC(a,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(S,y){return S>y?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,e.bindAttribLocation(a,s,o[s]);e.linkProgram(a)}e.deleteShader(r),e.deleteShader(i);var l={};for(var s in t.uniformData){var h=t.uniformData[s];l[s]={location:e.getUniformLocation(a,s),value:Vx(h.type,h.size)}}var d=new i4(a,l);return d}var vC=0,Qu={textureCount:0,uboCount:0},h_=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vC++}return e.prototype.systemCheck=function(){if(!aC())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,a=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(a.program)),r||(Qu.textureCount=0,Qu.uboCount=0,this.syncUniformGroup(t.uniformGroup,Qu)),a},e.prototype.setUniforms=function(t){var r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,r))},e.prototype.syncUniforms=function(t,r,i){var a=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);a(r.uniformData,t.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=rC(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var i=this.getGlProgram();if(!t.static||t.dirtyId!==0||!i.uniformGroups[t.id]){t.dirtyId=0;var a=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,r);t.buffer.update(),a(i.uniformData,t.uniforms,this.renderer,Qu,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,i){var a=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,a.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),l=this._uboCache[s];if(l||(l=this._uboCache[s]=r4(t,this.shader.program.uniformData)),t.autoManage){var h=new Float32Array(l.size/4);t.buffer.update(h)}return r.uniformGroups[t.id]=l.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,i){var a=t.uniforms,o=[i+"-"];for(var s in a)o.push(s),r[s]&&o.push(r[s].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,i=t.program,a=n4(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=a,a},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function yC(e,t){return t===void 0&&(t=[]),t[$t.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.ADD]=[e.ONE,e.ONE],t[$t.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.NONE]=[0,0],t[$t.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[$t.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[$t.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[$t.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[$t.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[$t.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[$t.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[$t.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[$t.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[$t.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[$t.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var bC=0,xC=1,SC=2,TC=3,EC=4,IC=5,c_=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=$t.NONE,this._blendEq=!1,this.map=[],this.map[bC]=this.setBlend,this.map[xC]=this.setOffset,this.map[SC]=this.setCullFace,this.map[TC]=this.setDepthTest,this.map[EC]=this.setFrontFace,this.map[IC]=this.setDepthMask,this.checks=[],this.defaultState=new Sa,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=yC(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,i=0;r;)r&1&&this.map[i].call(this,!!(t.data&1<<i)),r=r>>1,i++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],i=this.gl;r.length===2?i.blendFunc(r[0],r[1]):i.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,i.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var i=this.checks.indexOf(t);r&&i===-1?this.checks.push(t):!r&&i!==-1&&this.checks.splice(i,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),f_=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=St.GC_MAX_IDLE,this.checkCountMax=St.GC_MAX_CHECK_COUNT,this.mode=St.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==jl.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,i=!1,a=0;a<r.length;a++){var o=r[a];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[a]=null,i=!0)}if(i){for(var s=0,a=0;a<r.length;a++)r[a]!==null&&(r[s++]=r[a]);r.length=s}},e.prototype.unload=function(t){var r=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&r.destroyTexture(i);for(var a=t.children.length-1;a>=0;a--)this.unload(t.children[a])},e.prototype.destroy=function(){this.renderer=null},e}();function AC(e){var t,r,i,a,o,s,l,h,d,S,y,E,M,O,C,N,$,L,B,G,j,z,J;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?J=(t={},t[Ct.UNSIGNED_BYTE]=(r={},r[ct.RGBA]=e.RGBA8,r[ct.RGB]=e.RGB8,r[ct.RG]=e.RG8,r[ct.RED]=e.R8,r[ct.RGBA_INTEGER]=e.RGBA8UI,r[ct.RGB_INTEGER]=e.RGB8UI,r[ct.RG_INTEGER]=e.RG8UI,r[ct.RED_INTEGER]=e.R8UI,r[ct.ALPHA]=e.ALPHA,r[ct.LUMINANCE]=e.LUMINANCE,r[ct.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[Ct.BYTE]=(i={},i[ct.RGBA]=e.RGBA8_SNORM,i[ct.RGB]=e.RGB8_SNORM,i[ct.RG]=e.RG8_SNORM,i[ct.RED]=e.R8_SNORM,i[ct.RGBA_INTEGER]=e.RGBA8I,i[ct.RGB_INTEGER]=e.RGB8I,i[ct.RG_INTEGER]=e.RG8I,i[ct.RED_INTEGER]=e.R8I,i),t[Ct.UNSIGNED_SHORT]=(a={},a[ct.RGBA_INTEGER]=e.RGBA16UI,a[ct.RGB_INTEGER]=e.RGB16UI,a[ct.RG_INTEGER]=e.RG16UI,a[ct.RED_INTEGER]=e.R16UI,a[ct.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,a),t[Ct.SHORT]=(o={},o[ct.RGBA_INTEGER]=e.RGBA16I,o[ct.RGB_INTEGER]=e.RGB16I,o[ct.RG_INTEGER]=e.RG16I,o[ct.RED_INTEGER]=e.R16I,o),t[Ct.UNSIGNED_INT]=(s={},s[ct.RGBA_INTEGER]=e.RGBA32UI,s[ct.RGB_INTEGER]=e.RGB32UI,s[ct.RG_INTEGER]=e.RG32UI,s[ct.RED_INTEGER]=e.R32UI,s[ct.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,s),t[Ct.INT]=(l={},l[ct.RGBA_INTEGER]=e.RGBA32I,l[ct.RGB_INTEGER]=e.RGB32I,l[ct.RG_INTEGER]=e.RG32I,l[ct.RED_INTEGER]=e.R32I,l),t[Ct.FLOAT]=(h={},h[ct.RGBA]=e.RGBA32F,h[ct.RGB]=e.RGB32F,h[ct.RG]=e.RG32F,h[ct.RED]=e.R32F,h[ct.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,h),t[Ct.HALF_FLOAT]=(d={},d[ct.RGBA]=e.RGBA16F,d[ct.RGB]=e.RGB16F,d[ct.RG]=e.RG16F,d[ct.RED]=e.R16F,d),t[Ct.UNSIGNED_SHORT_5_6_5]=(S={},S[ct.RGB]=e.RGB565,S),t[Ct.UNSIGNED_SHORT_4_4_4_4]=(y={},y[ct.RGBA]=e.RGBA4,y),t[Ct.UNSIGNED_SHORT_5_5_5_1]=(E={},E[ct.RGBA]=e.RGB5_A1,E),t[Ct.UNSIGNED_INT_2_10_10_10_REV]=(M={},M[ct.RGBA]=e.RGB10_A2,M[ct.RGBA_INTEGER]=e.RGB10_A2UI,M),t[Ct.UNSIGNED_INT_10F_11F_11F_REV]=(O={},O[ct.RGB]=e.R11F_G11F_B10F,O),t[Ct.UNSIGNED_INT_5_9_9_9_REV]=(C={},C[ct.RGB]=e.RGB9_E5,C),t[Ct.UNSIGNED_INT_24_8]=(N={},N[ct.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,N),t[Ct.FLOAT_32_UNSIGNED_INT_24_8_REV]=($={},$[ct.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,$),t):J=(L={},L[Ct.UNSIGNED_BYTE]=(B={},B[ct.RGBA]=e.RGBA,B[ct.RGB]=e.RGB,B[ct.ALPHA]=e.ALPHA,B[ct.LUMINANCE]=e.LUMINANCE,B[ct.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,B),L[Ct.UNSIGNED_SHORT_5_6_5]=(G={},G[ct.RGB]=e.RGB,G),L[Ct.UNSIGNED_SHORT_4_4_4_4]=(j={},j[ct.RGBA]=e.RGBA,j),L[Ct.UNSIGNED_SHORT_5_5_5_1]=(z={},z[ct.RGBA]=e.RGBA,z),L),J}var Ph=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ct.UNSIGNED_BYTE,this.internalFormat=ct.RGBA,this.samplerType=0}return e}(),d_=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ne,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=AC(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};var a=new Ph(t.createTexture());t.bindTexture(t.TEXTURE_2D,a.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=a,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ph(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var i=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var a=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(t.target,a.texture)),a.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(t)):a.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,i=r.gl,a=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<a.length;o++)a[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<a.length;o++)a[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),a[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,i=r.boundTextures,a=r.hasIntegerTextures,o=r.CONTEXT_UID;if(a)for(var s=t-1;s>=0;--s){var l=i[s];if(l){var h=l._glTextures[o];h.samplerType!==Gl.FLOAT&&this.renderer.texture.unbind(l)}}},e.prototype.initTexture=function(t){var r=new Ph(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var i,a;r.internalFormat=(a=(i=this.internalFormats[t.type])===null||i===void 0?void 0:i[t.format])!==null&&a!==void 0?a:t.format,this.webGLVersion===2&&t.type===Ct.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(r){var i=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(i,t,r))r.samplerType!==Gl.FLOAT&&(this.hasIntegerTextures=!0);else{var a=t.realWidth,o=t.realHeight,s=i.gl;(r.width!==a||r.height!==o||r.dirtyId<0)&&(r.width=a,r.height=o,s.texImage2D(t.target,0,r.internalFormat,a,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var i=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var a=this.managedTextures.indexOf(t);a!==-1&&Ya(this.managedTextures,a,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];r&&((t.mipmap===bi.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=ki.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var i=this.gl;if(r.mipmap&&t.mipmap!==bi.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var a=this.renderer.context.extensions.anisotropicFiltering;if(a&&t.anisotropicLevel>0&&t.scaleMode===Di.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR:i.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),a4={__proto__:null,FilterSystem:t_,BatchSystem:e_,ContextSystem:r_,FramebufferSystem:i_,GeometrySystem:n_,MaskSystem:a_,ScissorSystem:o_,StencilSystem:s_,ProjectionSystem:l_,RenderTextureSystem:u_,ShaderSystem:h_,StateSystem:c_,TextureGCSystem:f_,TextureSystem:d_},lf=new Re,o4=function(e){Te(t,e);function t(r,i){r===void 0&&(r=os.UNKNOWN);var a=e.call(this)||this;return i=Object.assign({},St.RENDER_OPTIONS,i),a.options=i,a.type=r,a.screen=new te(0,0,i.width,i.height),a.view=i.view||St.ADAPTER.createCanvas(),a.resolution=i.resolution||St.RESOLUTION,a.useContextAlpha=i.useContextAlpha,a.autoDensity=!!i.autoDensity,a.preserveDrawingBuffer=i.preserveDrawingBuffer,a.clearBeforeRender=i.clearBeforeRender,a._backgroundColor=0,a._backgroundColorRgba=[0,0,0,1],a._backgroundColorString="#000000",a.backgroundColor=i.backgroundColor||a._backgroundColor,a.backgroundAlpha=i.backgroundAlpha,i.transparent!==void 0&&(Nr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),a.useContextAlpha=i.transparent,a.backgroundAlpha=i.transparent?0:1),a._lastObjectRendered=null,a.plugins={},a}return t.prototype.initPlugins=function(r){for(var i in r)this.plugins[i]=new r[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,i){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(i*this.resolution);var a=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=a,this.screen.height=o,this.autoDensity&&(this.view.style.width=a+"px",this.view.style.height=o+"px"),this.emit("resize",a,o)},t.prototype.generateTexture=function(r,i,a,o){i===void 0&&(i={}),typeof i=="number"&&(Nr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:a,region:o});var s=i.region,l=UR(i,["region"]);o=s||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var h=_a.create(Wd({width:o.width,height:o.height},l));return lf.tx=-o.x,lf.ty=-o.y,this.render(r,{renderTexture:h,clear:!1,transform:lf,skipUpdateTransform:!!r.parent}),h},t.prototype.destroy=function(r){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var a=this;a.plugins=null,a.type=os.UNKNOWN,a.view=null,a.screen=null,a._tempDisplayObjectParent=null,a.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=H2(r),no(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}(Nn),PC=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),wC=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,i=r.gl,a=r.CONTEXT_UID,o=t._glBuffers[a]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var i=this,a=i.gl,o=i.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var s=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,a.bindBufferBase(a.UNIFORM_BUFFER,r,s.buffer)}},e.prototype.bindBufferRange=function(t,r,i){var a=this,o=a.gl,s=a.CONTEXT_UID;i=i||0;var l=t._glBuffers[s]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,l.buffer,i*256,256)},e.prototype.update=function(t){var r=this,i=r.gl,a=r.CONTEXT_UID,o=t._glBuffers[a];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},e.prototype.dispose=function(t,r){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this),i&&(r||a.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],t)},e.prototype.createGLBuffer=function(t){var r=this,i=r.CONTEXT_UID,a=r.gl;return t._glBuffers[i]=new PC(a.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},e}(),p_=function(e){Te(t,e);function t(r){var i=e.call(this,os.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new pr("destroy"),contextChange:new pr("contextChange"),reset:new pr("reset"),update:new pr("update"),postrender:new pr("postrender"),prerender:new pr("prerender"),resize:new pr("resize")},i.runners.contextChange.add(i),i.globalUniforms=new ha({projectionMatrix:new Re},!0),i.addSystem(a_,"mask").addSystem(r_,"context").addSystem(c_,"state").addSystem(h_,"shader").addSystem(d_,"texture").addSystem(wC,"buffer").addSystem(n_,"geometry").addSystem(i_,"framebuffer").addSystem(o_,"scissor").addSystem(s_,"stencil").addSystem(l_,"projection").addSystem(f_,"textureGC").addSystem(t_,"filter").addSystem(u_,"renderTexture").addSystem(e_,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:r.antialias,premultipliedAlpha:i.useContextAlpha&&i.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,Ix(i.context.webGLVersion===2?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return t.create=function(r){if(Ax())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,i;if(this.context.webGLVersion===1){var a=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,a)}else{var a=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,a)}i>=Ie.HIGH?this.multisample=Ie.HIGH:i>=Ie.MEDIUM?this.multisample=Ie.MEDIUM:i>=Ie.LOW?this.multisample=Ie.LOW:this.multisample=Ie.NONE},t.prototype.addSystem=function(r,i){var a=new r(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');this[i]=a;for(var o in this.runners)this.runners[o].add(a);return this},t.prototype.render=function(r,i){var a,o,s,l;if(i&&(i instanceof _a?(Nr("6.0.0","Renderer#render arguments changed, use options instead."),a=i,o=arguments[2],s=arguments[3],l=arguments[4]):(a=i.renderTexture,o=i.clear,s=i.transform,l=i.skipUpdateTransform)),this.renderingToScreen=!a,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(a||(this._lastObjectRendered=r),!l){var h=r.enableTempParent();r.updateTransform(),r.disableTempParent(h)}this.renderTexture.bind(a),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),a&&a.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,i,a,o){i===void 0&&(i={});var s=e.prototype.generateTexture.call(this,r,i,a,o);return this.framebuffer.blit(),s},t.prototype.resize=function(r,i){e.prototype.resize.call(this,r,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var i in this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Nr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,i){Nr("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),cn.add({name:r,type:ge.RendererPlugin,ref:i})},t.__plugins={},t}(o4);cn.handleByMap(ge.RendererPlugin,p_.__plugins);function s4(e){return p_.create(e)}var MC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,l4=MC,__=OC,RC=function(){function e(t){Nr("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return e.prototype.destroy=function(){this.renderer=null},e}(),fc=function(){function e(){this.texArray=null,this.blend=0,this.type=pi.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),dc=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),pc=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),u4=function(e){Te(t,e);function t(r){var i=e.call(this,r)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Sa.for2d(),i.size=St.SPRITE_BATCH_SIZE*4,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),r.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return t.prototype.contextChange=function(){var r=this.renderer.gl;St.PREFER_ENV===ln.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),St.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Kx(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,i=t._textureArrayPool,a=this.size/4,o=Math.floor(a/this.MAX_TEXTURES)+1;r.length<a;)r.push(new fc);for(;i.length<o;)i.push(new dc);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,i=r._bufferedTextures,a=r.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,l=this._tempBoundTextures,h=this.renderer.textureGC.count,d=++ne._globalBatch,S=0,y=o[0],E=0;s.copyBoundTextures(l,a);for(var M=0;M<this._bufferSize;++M){var O=i[M];i[M]=null,O._batchEnabled!==d&&(y.count>=a&&(s.boundArray(y,l,d,a),this.buildDrawCalls(y,E,M),E=M,y=o[++S],++d),O._batchEnabled=d,O.touched=h,y.elements[y.count++]=O)}y.count>0&&(s.boundArray(y,l,d,a),this.buildDrawCalls(y,E,this._bufferSize),++S,++d);for(var M=0;M<l.length;M++)l[M]=null;ne._globalBatch=d},t.prototype.buildDrawCalls=function(r,i,a){var o=this,s=o._bufferedElements,l=o._attributeBuffer,h=o._indexBuffer,d=o.vertexSize,S=t._drawCallPool,y=this._dcIndex,E=this._aIndex,M=this._iIndex,O=S[y];O.start=this._iIndex,O.texArray=r;for(var C=i;C<a;++C){var N=s[C],$=N._texture.baseTexture,L=G2[$.alphaMode?1:0][N.blendMode];s[C]=null,i<C&&O.blend!==L&&(O.size=M-O.start,i=C,O=S[++y],O.texArray=r,O.start=M),this.packInterleavedGeometry(N,l,h,E,M),E+=N.vertexData.length/2*d,M+=N.indices.length,O.blend=L}i<a&&(O.size=M-O.start,++y),this._dcIndex=y,this._aIndex=E,this._iIndex=M},t.prototype.bindAndClearTexArray=function(r){for(var i=this.renderer.texture,a=0;a<r.count;a++)i.bind(r.elements[a],r.ids[a]),r.elements[a]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,i=r._packedGeometries,a=r._attributeBuffer,o=r._indexBuffer;St.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(a.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(a.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,i=this.renderer,a=i.gl,o=i.state,s=t._drawCallPool,l=null,h=0;h<r;h++){var d=s[h],S=d.texArray,y=d.type,E=d.size,M=d.start,O=d.blend;l!==S&&(l=S,this.bindAndClearTexArray(S)),this.state.blendMode=O,o.set(this.state),a.drawElements(y,E,a.UNSIGNED_SHORT,M*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),St.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var i=Jl(Math.ceil(r/8)),a=jd(i),o=i*8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new pc(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(r){var i=Jl(Math.ceil(r/12)),a=jd(i),o=i*12;this._iBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._iBuffers[a];return s||(this._iBuffers[a]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(r,i,a,o,s){for(var l=i.uint32View,h=i.float32View,d=o/this.vertexSize,S=r.uvs,y=r.indices,E=r.vertexData,M=r._texture.baseTexture._batchLocation,O=Math.min(r.worldAlpha,1),C=O<1&&r._texture.baseTexture.alphaMode?Bc(r._tintRGB,O):r._tintRGB+(O*255<<24),N=0;N<E.length;N+=2)h[o++]=E[N],h[o++]=E[N+1],h[o++]=S[N],h[o++]=S[N+1],l[o++]=C,h[o++]=M;for(var N=0;N<y.length;N++)a[s++]=d+y[N]},t._drawCallPool=[],t._textureArrayPool=[],t}(pu),h4=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),i=0;i<t;i++)r[i]=i;this.defaultGroupCache[t]=ha.from({uSamplers:r},!0);var a=this.fragTemplate;a=a.replace(/%count%/gi,""+t),a=a.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ts(this.vertexSrc,a)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Re,default:this.defaultGroupCache[t]};return new wn(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var i=0;i<t;i++)i>0&&(r+=`
else `),i<t-1&&(r+="if(vTextureId < "+i+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+i+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),m_=function(e){Te(t,e);function t(r){r===void 0&&(r=!1);var i=e.call(this)||this;return i._buffer=new qe(null,r,!1),i._indexBuffer=new qe(null,r,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Ct.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Ct.FLOAT).addAttribute("aColor",i._buffer,4,!0,Ct.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Ct.FLOAT).addIndex(i._indexBuffer),i}return t}(Ss),Hg=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Ug=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,c4=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:Hg,fragment:Ug,geometryClass:m_,vertexSize:6},t),i=r.vertex,a=r.fragment,o=r.vertexSize,s=r.geometryClass;return function(l){Te(h,l);function h(d){var S=l.call(this,d)||this;return S.shaderGenerator=new h4(i,a),S.geometryClass=s,S.vertexSize=o,S}return h}(u4)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Hg},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Ug},enumerable:!1,configurable:!0}),e}(),g_=c4.create();Object.assign(g_,{extension:{name:"batch",type:ge.RendererPlugin}});var f4={},CC=function(e){Object.defineProperty(f4,e,{get:function(){return Nr("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),Bx[e]}})};for(var v_ in Bx)CC(v_);var d4={},$C=function(e){Object.defineProperty(d4,e,{get:function(){return Nr("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),a4[e]}})};for(var v_ in a4)$C(v_);var LC="6.5.10";/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */St.SORTABLE_CHILDREN=!1;var Ql=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?te.EMPTY:(t=t||new te(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var i=t.a,a=t.b,o=t.c,s=t.d,l=t.tx,h=t.ty,d=i*r.x+o*r.y+l,S=a*r.x+s*r.y+h;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,S),this.maxY=Math.max(this.maxY,S)},e.prototype.addQuad=function(t){var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=t[0],l=t[1];r=s<r?s:r,i=l<i?l:i,a=s>a?s:a,o=l>o?l:o,s=t[2],l=t[3],r=s<r?s:r,i=l<i?l:i,a=s>a?s:a,o=l>o?l:o,s=t[4],l=t[5],r=s<r?s:r,i=l<i?l:i,a=s>a?s:a,o=l>o?l:o,s=t[6],l=t[7],r=s<r?s:r,i=l<i?l:i,a=s>a?s:a,o=l>o?l:o,this.minX=r,this.minY=i,this.maxX=a,this.maxY=o},e.prototype.addFrame=function(t,r,i,a,o){this.addFrameMatrix(t.worldTransform,r,i,a,o)},e.prototype.addFrameMatrix=function(t,r,i,a,o){var s=t.a,l=t.b,h=t.c,d=t.d,S=t.tx,y=t.ty,E=this.minX,M=this.minY,O=this.maxX,C=this.maxY,N=s*r+h*i+S,$=l*r+d*i+y;E=N<E?N:E,M=$<M?$:M,O=N>O?N:O,C=$>C?$:C,N=s*a+h*i+S,$=l*a+d*i+y,E=N<E?N:E,M=$<M?$:M,O=N>O?N:O,C=$>C?$:C,N=s*r+h*o+S,$=l*r+d*o+y,E=N<E?N:E,M=$<M?$:M,O=N>O?N:O,C=$>C?$:C,N=s*a+h*o+S,$=l*a+d*o+y,E=N<E?N:E,M=$<M?$:M,O=N>O?N:O,C=$>C?$:C,this.minX=E,this.minY=M,this.maxX=O,this.maxY=C},e.prototype.addVertexData=function(t,r,i){for(var a=this.minX,o=this.minY,s=this.maxX,l=this.maxY,h=r;h<i;h+=2){var d=t[h],S=t[h+1];a=d<a?d:a,o=S<o?S:o,s=d>s?d:s,l=S>l?S:l}this.minX=a,this.minY=o,this.maxX=s,this.maxY=l},e.prototype.addVertices=function(t,r,i,a){this.addVerticesMatrix(t.worldTransform,r,i,a)},e.prototype.addVerticesMatrix=function(t,r,i,a,o,s){o===void 0&&(o=0),s===void 0&&(s=o);for(var l=t.a,h=t.b,d=t.c,S=t.d,y=t.tx,E=t.ty,M=this.minX,O=this.minY,C=this.maxX,N=this.maxY,$=i;$<a;$+=2){var L=r[$],B=r[$+1],G=l*L+d*B+y,j=S*B+h*L+E;M=Math.min(M,G-o),C=Math.max(C,G+o),O=Math.min(O,j-s),N=Math.max(N,j+s)}this.minX=M,this.minY=O,this.maxX=C,this.maxY=N},e.prototype.addBounds=function(t){var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>a?t.maxX:a,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var i=t.minX>r.minX?t.minX:r.minX,a=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,s=t.maxY<r.maxY?t.maxY:r.maxY;if(i<=o&&a<=s){var l=this.minX,h=this.minY,d=this.maxX,S=this.maxY;this.minX=i<l?i:l,this.minY=a<h?a:h,this.maxX=o>d?o:d,this.maxY=s>S?s:S}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var i=t.minX>r.x?t.minX:r.x,a=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,s=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(i<=o&&a<=s){var l=this.minX,h=this.minY,d=this.maxX,S=this.maxY;this.minX=i<l?i:l,this.minY=a<h?a:h,this.maxX=o>d?o:d,this.maxY=s>S?s:S}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,i,a,o,s){t-=o,r-=s,i+=o,a+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>a?this.maxY:a},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kd=function(e,t){return Kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Kd(e,t)};function y_(e,t){Kd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ge=function(e){y_(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Uc,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Ql,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var i=Object.keys(r),a=0;a<i.length;++a){var o=i[a];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,i){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new te),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new te),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Ql);var i=this.transform,a=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var l=this.getBounds(!1,r);return this.parent=a,this.transform=i,this._bounds=o,this._bounds.updateID+=this._boundsID-s,l},t.prototype.toGlobal=function(r,i,a){return a===void 0&&(a=!1),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,i)},t.prototype.toLocal=function(r,i,a,o){return i&&(r=i.toGlobal(r,a,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,a)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,i,a,o,s,l,h,d,S){return r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=1),o===void 0&&(o=1),s===void 0&&(s=0),l===void 0&&(l=0),h===void 0&&(h=0),d===void 0&&(d=0),S===void 0&&(S=0),this.position.x=r,this.position.y=i,this.scale.x=a||1,this.scale.y=o||1,this.rotation=s,this.skew.x=l,this.skew.y=h,this.pivot.x=d,this.pivot.y=S,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new b_),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Cx},set:function(r){this.transform.rotation=r*$x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1))}if(this._mask=r,this._mask){var i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++)}}},enumerable:!1,configurable:!0}),t}(Nn),b_=function(e){y_(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(Ge);Ge.prototype.displayObjectUpdateTransform=Ge.prototype.updateTransform;function DC(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var Si=function(e){y_(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=St.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,i=[],a=0;a<arguments.length;a++)i[a]=r[a];if(i.length>1)for(var o=0;o<i.length;o++)this.addChild(i[o]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},t.prototype.addChildAt=function(r,i){if(i<0||i>this.children.length)throw new Error(r+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(i,0,r),this._boundsID++,this.onChildrenChange(i),r.emit("added",this),this.emit("childAdded",r,this,i),r},t.prototype.swapChildren=function(r,i){if(r!==i){var a=this.getChildIndex(r),o=this.getChildIndex(i);this.children[a]=i,this.children[o]=r,this.onChildrenChange(a<o?a:o)}},t.prototype.getChildIndex=function(r){var i=this.children.indexOf(r);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(r,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var a=this.getChildIndex(r);Ya(this.children,a,1),this.children.splice(i,0,r),this.onChildrenChange(i)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,i=[],a=0;a<arguments.length;a++)i[a]=r[a];if(i.length>1)for(var o=0;o<i.length;o++)this.removeChild(i[o]);else{var s=i[0],l=this.children.indexOf(s);if(l===-1)return null;s.parent=null,s.transform._parentID=-1,Ya(this.children,l,1),this._boundsID++,this.onChildrenChange(l),s.emit("removed",this),this.emit("childRemoved",s,this,l)}return i[0]},t.prototype.removeChildAt=function(r){var i=this.getChildAt(r);return i.parent=null,i.transform._parentID=-1,Ya(this.children,r,1),this._boundsID++,this.onChildrenChange(r),i.emit("removed",this),this.emit("childRemoved",i,this,r),i},t.prototype.removeChildren=function(r,i){r===void 0&&(r=0),i===void 0&&(i=this.children.length);var a=r,o=i,s=o-a,l;if(s>0&&s<=o){l=this.children.splice(a,s);for(var h=0;h<l.length;++h)l[h].parent=null,l[h].transform&&(l[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var h=0;h<l.length;++h)l[h].emit("removed",this),this.emit("childRemoved",l[h],this,h);return l}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,i=0,a=this.children.length;i<a;++i){var o=this.children[i];o._lastSortedIndex=i,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(DC),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,i=this.children.length;r<i;++r){var a=this.children[r];a.visible&&a.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var i=this.children[r];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){var a=i._mask.isMaskData?i._mask.maskObject:i._mask;a?(a.calculateBounds(),this._bounds.addBoundsMask(i._bounds,a._bounds)):this._bounds.addBounds(i._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,i){i===void 0&&(i=!1);var a=e.prototype.getLocalBounds.call(this,r);if(!i)for(var o=0,s=this.children.length;o<s;++o){var l=this.children[o];l.visible&&l.updateTransform()}return a},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var i=r.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var a,o;if(this.cullArea?(a=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(a=this.getBounds(!0)),a&&i.intersects(a,o))this._render(r);else if(this.cullArea)return;for(var s=0,l=this.children.length;s<l;++s){var h=this.children[s],d=h.cullable;h.cullable=d||!this.cullArea,h.render(r),h.cullable=d}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var i=0,a=this.children.length;i<a;++i)this.children[i].render(r)}},t.prototype.renderAdvanced=function(r){var i=this.filters,a=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&this._enabledFilters&&this._enabledFilters.length||a&&(!a.isMaskData||a.enabled&&(a.autoDetect||a.type!==Xe.NONE));if(s&&r.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),a&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,l=this.children.length;o<l;++o)this.children[o].render(r)}s&&r.batch.flush(),a&&r.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var i=typeof r=="boolean"?r:r&&r.children,a=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<a.length;++o)a[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var i=this.getLocalBounds().width;i!==0?this.scale.x=r/i:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var i=this.getLocalBounds().height;i!==0?this.scale.y=r/i:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(Ge);Si.prototype.containerUpdateTransform=Si.prototype.updateTransform;var Aa=Math.pow,Le=(e,t,r)=>new Promise((i,a)=>{var o=h=>{try{l(r.next(h))}catch(d){a(d)}},s=h=>{try{l(r.throw(h))}catch(d){a(d)}},l=h=>h.done?i(h.value):Promise.resolve(h.value).then(o,s);l((r=r.apply(e,t)).next())});const Gg=2,jg=2;var Zl;(e=>{e.supportMoreMaskDivisions=!0,e.setOpacityFromMotion=!1})(Zl||(Zl={}));var xr;(e=>{e.LOG_LEVEL_VERBOSE=0,e.LOG_LEVEL_WARNING=1,e.LOG_LEVEL_ERROR=2,e.LOG_LEVEL_NONE=999,e.logLevel=e.LOG_LEVEL_WARNING,e.sound=!0,e.motionSync=!0,e.motionFadingDuration=500,e.idleMotionFadingDuration=2e3,e.expressionFadingDuration=500,e.preserveExpressionOnMotion=!0,e.cubism4=Zl})(xr||(xr={}));const ve={log(e,...t){xr.logLevel<=xr.LOG_LEVEL_VERBOSE&&console.log(`[${e}]`,...t)},warn(e,...t){xr.logLevel<=xr.LOG_LEVEL_WARNING&&console.warn(`[${e}]`,...t)},error(e,...t){xr.logLevel<=xr.LOG_LEVEL_ERROR&&console.error(`[${e}]`,...t)}};function _c(e,t,r){return e<t?t:e>r?r:e}function NC(e,t){return Math.random()*(t-e)+e}function Gs(e,t,r,i,a){const o=t[i];o!==null&&typeof o===e&&(r[a]=o)}function js(e,t,r,i,a){const o=t[i];Array.isArray(o)&&(r[a]=o.filter(s=>s!==null&&typeof s===e))}function p4(e,t){t.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(r.prototype,i))})})}function FC(e){let t=e.lastIndexOf("/");return t!=-1&&(e=e.slice(0,t)),t=e.lastIndexOf("/"),t!==-1&&(e=e.slice(t+1)),e}function kC(e,t){const r=e.indexOf(t);r!==-1&&e.splice(r,1)}class x_ extends Nn{constructor(t,r){super(),this.expressions=[],this.reserveExpressionIndex=-1,this.destroyed=!1,this.settings=t,this.tag=`ExpressionManager(${t.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(t){return Le(this,null,function*(){if(!this.definitions[t]){ve.warn(this.tag,`Undefined expression at [${t}]`);return}if(this.expressions[t]===null){ve.warn(this.tag,`Cannot set expression at [${t}] because it's already failed in loading.`);return}if(this.expressions[t])return this.expressions[t];const r=yield this._loadExpression(t);return this.expressions[t]=r,r})}_loadExpression(t){throw new Error("Not implemented.")}setRandomExpression(){return Le(this,null,function*(){if(this.definitions.length){const t=[];for(let r=0;r<this.definitions.length;r++)this.expressions[r]!==null&&this.expressions[r]!==this.currentExpression&&r!==this.reserveExpressionIndex&&t.push(r);if(t.length){const r=Math.floor(Math.random()*t.length);return this.setExpression(r)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(t){return Le(this,null,function*(){if(typeof t!="number"&&(t=this.getExpressionIndex(t)),!(t>-1&&t<this.definitions.length)||t===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=t;const r=yield this.loadExpression(t);return!r||this.reserveExpressionIndex!==t?!1:(this.reserveExpressionIndex=-1,this.currentExpression=r,this._setExpression(r),!0)})}update(t,r){return this.isFinished()?!1:this.updateParameters(t,r)}destroy(){this.destroyed=!0,this.emit("destroy");const t=this;t.definitions=void 0,t.expressions=void 0}}const Xg=.01,BC=40/7.5,HC=1/(.15*1e3);class UC{constructor(){this.targetX=0,this.targetY=0,this.x=0,this.y=0,this.vx=0,this.vy=0}focus(t,r,i=!1){this.targetX=_c(t,-1,1),this.targetY=_c(r,-1,1),i&&(this.x=this.targetX,this.y=this.targetY)}update(t){const r=this.targetX-this.x,i=this.targetY-this.y;if(Math.abs(r)<Xg&&Math.abs(i)<Xg)return;const a=Math.sqrt(Aa(r,2)+Aa(i,2)),o=BC/(1e3/t);let s=o*(r/a)-this.vx,l=o*(i/a)-this.vy;const h=Math.sqrt(Aa(s,2)+Aa(l,2)),d=o*HC*t;h>d&&(s*=d/h,l*=d/h),this.vx+=s,this.vy+=l;const S=Math.sqrt(Aa(this.vx,2)+Aa(this.vy,2)),y=.5*(Math.sqrt(Aa(d,2)+8*d*a)-d);S>y&&(this.vx*=y/S,this.vy*=y/S),this.x+=this.vx,this.y+=this.vy}}class zc{constructor(t){this.json=t;let r=t.url;if(typeof r!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=r,this.name=FC(this.url)}resolveURL(t){return an.resolve(this.url,t)}replaceFiles(t){this.moc=t(this.moc,"moc"),this.pose!==void 0&&(this.pose=t(this.pose,"pose")),this.physics!==void 0&&(this.physics=t(this.physics,"physics"));for(let r=0;r<this.textures.length;r++)this.textures[r]=t(this.textures[r],`textures[${r}]`)}getDefinedFiles(){const t=[];return this.replaceFiles(r=>(t.push(r),r)),t}validateFiles(t){const r=(i,a)=>{const o=this.resolveURL(i);if(!t.includes(o)){if(a)throw new Error(`File "${i}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(i=>r(i,!0)),this.getDefinedFiles().filter(i=>r(i,!1))}}var Qd=(e=>(e[e.NONE=0]="NONE",e[e.IDLE=1]="IDLE",e[e.NORMAL=2]="NORMAL",e[e.FORCE=3]="FORCE",e))(Qd||{});class GC{constructor(){this.debug=!1,this.currentPriority=0,this.reservePriority=0}reserve(t,r,i){if(i<=0)return ve.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(t===this.currentGroup&&r===this.currentIndex)return ve.log(this.tag,"Motion is already playing.",this.dump(t,r)),!1;if(t===this.reservedGroup&&r===this.reservedIndex||t===this.reservedIdleGroup&&r===this.reservedIdleIndex)return ve.log(this.tag,"Motion is already reserved.",this.dump(t,r)),!1;if(i===1){if(this.currentPriority!==0)return ve.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(t,r)),!1;if(this.reservedIdleGroup!==void 0)return ve.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(t,r)),!1;this.setReservedIdle(t,r)}else{if(i<3){if(i<=this.currentPriority)return ve.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(t,r)),!1;if(i<=this.reservePriority)return ve.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(t,r)),!1}this.setReserved(t,r,i)}return!0}start(t,r,i,a){if(a===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return ve.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(r,i)),!1}else{if(r!==this.reservedGroup||i!==this.reservedIndex)return ve.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(r,i)),!1;this.setReserved(void 0,void 0,0)}return t?(this.setCurrent(r,i,a),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(t,r,i){this.currentPriority=i,this.currentGroup=t,this.currentIndex=r}setReserved(t,r,i){this.reservePriority=i,this.reservedGroup=t,this.reservedIndex=r}setReservedIdle(t,r){this.reservedIdleGroup=t,this.reservedIdleIndex=r}isActive(t,r){return t===this.currentGroup&&r===this.currentIndex||t===this.reservedGroup&&r===this.reservedIndex||t===this.reservedIdleGroup&&r===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!xr.preserveExpressionOnMotion&&this.currentPriority>1}dump(t,r){if(this.debug){const i=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${t}", index = ${r}
`+i.map(a=>"["+a+"] "+this[a]).join(`
`)}return""}}const jC="SoundManager",XC=.5;class Wn{static get volume(){return this._volume}static set volume(t){this._volume=(t>1?1:t<0?0:t)||0,this.audios.forEach(r=>r.volume=this._volume)}static add(t,r,i){const a=new Audio(t);return a.volume=this._volume,a.preload="auto",a.addEventListener("ended",()=>{this.dispose(a),r==null||r()}),a.addEventListener("error",o=>{this.dispose(a),ve.warn(jC,`Error occurred on "${t}"`,o.error),i==null||i(o.error)}),this.audios.push(a),a}static play(t){return new Promise((r,i)=>{var a;(a=t.play())==null||a.catch(o=>{t.dispatchEvent(new ErrorEvent("error",{error:o})),i(o)}),t.readyState===t.HAVE_ENOUGH_DATA?r():t.addEventListener("canplaythrough",r)})}static dispose(t){t.pause(),t.removeAttribute("src"),kC(this.audios,t)}static destroy(){for(let t=this.audios.length-1;t>=0;t--)this.dispose(this.audios[t])}}Wn.audios=[];Wn._volume=XC;class Jc extends Nn{constructor(t,r){super(),this.motionGroups={},this.state=new GC,this.playing=!1,this.destroyed=!1,this.settings=t,this.tag=`MotionManager(${t.name})`,this.state.tag=this.tag}init(t){t!=null&&t.idleMotionGroup&&(this.groups.idle=t.idleMotionGroup),this.setupMotions(t),this.stopAllMotions()}setupMotions(t){for(const i of Object.keys(this.definitions))this.motionGroups[i]=[];let r;switch(t==null?void 0:t.motionPreload){case"NONE":return;case"ALL":r=Object.keys(this.definitions);break;case"IDLE":default:r=[this.groups.idle];break}for(const i of r)if(this.definitions[i])for(let a=0;a<this.definitions[i].length;a++)this.loadMotion(i,a).then()}loadMotion(t,r){return Le(this,null,function*(){var i;if(!((i=this.definitions[t])!=null&&i[r])){ve.warn(this.tag,`Undefined motion at "${t}"[${r}]`);return}if(this.motionGroups[t][r]===null){ve.warn(this.tag,`Cannot start motion at "${t}"[${r}] because it's already failed in loading.`);return}if(this.motionGroups[t][r])return this.motionGroups[t][r];const a=yield this._loadMotion(t,r);if(!this.destroyed)return this.motionGroups[t][r]=a??null,a})}_loadMotion(t,r){throw new Error("Not implemented.")}startMotion(t,r){return Le(this,arguments,function*(i,a,o=Qd.NORMAL){var s;if(!this.state.reserve(i,a,o))return!1;const l=(s=this.definitions[i])==null?void 0:s[a];if(!l)return!1;this.currentAudio&&Wn.dispose(this.currentAudio);let h;if(xr.sound){const S=this.getSoundFile(l);if(S)try{h=Wn.add(this.settings.resolveURL(S),()=>this.currentAudio=void 0,()=>this.currentAudio=void 0),this.currentAudio=h}catch(y){ve.warn(this.tag,"Failed to create audio",S,y)}}const d=yield this.loadMotion(i,a);if(h){const S=Wn.play(h).catch(y=>ve.warn(this.tag,"Failed to play audio",h.src,y));xr.motionSync&&(yield S)}return this.state.start(d,i,a,o)?(ve.log(this.tag,"Start motion:",this.getMotionName(l)),this.emit("motionStart",i,a,h),this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),this.playing=!0,this._startMotion(d),!0):(h&&(Wn.dispose(h),this.currentAudio=void 0),!1)})}startRandomMotion(t,r){return Le(this,null,function*(){const i=this.definitions[t];if(i!=null&&i.length){const a=[];for(let o=0;o<i.length;o++)this.motionGroups[t][o]!==null&&!this.state.isActive(t,o)&&a.push(o);if(a.length){const o=Math.floor(Math.random()*a.length);return this.startMotion(t,a[o],r)}}return!1})}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.currentAudio&&(Wn.dispose(this.currentAudio),this.currentAudio=void 0)}update(t,r){var i;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((i=this.expressionManager)==null||i.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,Qd.IDLE)),this.updateParameters(t,r)}destroy(){var t;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(t=this.expressionManager)==null||t.destroy();const r=this;r.definitions=void 0,r.motionGroups=void 0}}const VC={x:0,y:0,width:0,height:0};class _4 extends Nn{constructor(){super(...arguments),this.focusController=new UC,this.originalWidth=0,this.originalHeight=0,this.width=0,this.height=0,this.localTransform=new Re,this.drawingMatrix=new Re,this.hitAreas={},this.textureFlipY=!1,this.viewport=[0,0,0,0],this.destroyed=!1}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const t=this,r=this.getSize();t.originalWidth=r[0],t.originalHeight=r[1];const i=Object.assign({width:Gg,height:jg},this.getLayout());this.localTransform.scale(i.width/Gg,i.height/jg),t.width=this.originalWidth*this.localTransform.a,t.height=this.originalHeight*this.localTransform.d;const a=i.x!==void 0&&i.x-i.width/2||i.centerX!==void 0&&i.centerX||i.left!==void 0&&i.left-i.width/2||i.right!==void 0&&i.right+i.width/2||0,o=i.y!==void 0&&i.y-i.height/2||i.centerY!==void 0&&i.centerY||i.top!==void 0&&i.top-i.height/2||i.bottom!==void 0&&i.bottom+i.height/2||0;this.localTransform.translate(this.width*a,-this.height*o)}setupHitAreas(){const t=this.getHitAreaDefs().filter(r=>r.index>=0);for(const r of t)this.hitAreas[r.name]=r}hitTest(t,r){return Object.keys(this.hitAreas).filter(i=>this.isHit(i,t,r))}isHit(t,r,i){if(!this.hitAreas[t])return!1;const a=this.hitAreas[t].index,o=this.getDrawableBounds(a,VC);return o.x<=r&&r<=o.x+o.width&&o.y<=i&&i<=o.y+o.height}getDrawableBounds(t,r){const i=this.getDrawableVertices(t);let a=i[0],o=i[0],s=i[1],l=i[1];for(let h=0;h<i.length;h+=2){const d=i[h],S=i[h+1];a=Math.min(d,a),o=Math.max(d,o),s=Math.min(S,s),l=Math.max(S,l)}return r!=null||(r={}),r.x=a,r.y=s,r.width=o-a,r.height=l-s,r}updateTransform(t){this.drawingMatrix.copyFrom(t).append(this.localTransform)}update(t,r){this.focusController.update(t)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}const zC="XHRLoader";class Vg extends Error{constructor(t,r,i,a=!1){super(t),this.url=r,this.status=i,this.aborted=a}}const $r=class{static createXHR(e,t,r,i,a){const o=new XMLHttpRequest;if($r.allXhrSet.add(o),e){let s=$r.xhrMap.get(e);s?s.add(o):(s=new Set([o]),$r.xhrMap.set(e,s)),e.listeners("destroy").includes($r.cancelXHRs)||e.once("destroy",$r.cancelXHRs)}return o.open("GET",t),o.responseType=r,o.onload=()=>{(o.status===200||o.status===0)&&o.response?i(o.response):o.onerror()},o.onerror=()=>{ve.warn(zC,`Failed to load resource as ${o.responseType} (Status ${o.status}): ${t}`),a(new Vg("Network error.",t,o.status))},o.onabort=()=>a(new Vg("Aborted.",t,o.status,!0)),o.onloadend=()=>{var s;$r.allXhrSet.delete(o),e&&((s=$r.xhrMap.get(e))==null||s.delete(o))},o}static cancelXHRs(){var e;(e=$r.xhrMap.get(this))==null||e.forEach(t=>{t.abort(),$r.allXhrSet.delete(t)}),$r.xhrMap.delete(this)}static release(){$r.allXhrSet.forEach(e=>e.abort()),$r.allXhrSet.clear(),$r.xhrMap=new WeakMap}};let Wc=$r;Wc.xhrMap=new WeakMap;Wc.allXhrSet=new Set;Wc.loader=(e,t)=>new Promise((r,i)=>{$r.createXHR(e.target,e.settings?e.settings.resolveURL(e.url):e.url,e.type,a=>{e.result=a,r()},i).send()});function m4(e,t){let r=-1;return i(0);function i(a,o){if(o)return Promise.reject(o);if(a<=r)return Promise.reject(new Error("next() called multiple times"));r=a;const s=e[a];if(!s)return Promise.resolve();try{return Promise.resolve(s(t,i.bind(null,a+1)))}catch(l){return Promise.reject(l)}}}class ma{static load(t){return m4(this.middlewares,t).then(()=>t.result)}}ma.middlewares=[Wc.loader];function JC(e,t={}){const r={resourceOptions:{crossorigin:t.crossOrigin}};if(kt.fromURL)return kt.fromURL(e,r).catch(o=>{if(o instanceof Error)throw o;const s=new Error("Texture loading error");throw s.event=o,s});r.resourceOptions.autoLoad=!1;const i=kt.from(e,r);if(i.baseTexture.valid)return Promise.resolve(i);const a=i.baseTexture.resource;return a._live2d_load!=null||(a._live2d_load=new Promise((o,s)=>{const l=h=>{a.source.removeEventListener("error",l);const d=new Error("Texture loading error");d.event=h,s(d)};a.source.addEventListener("error",l),a.load().then(()=>o(i)).catch(l)})),a._live2d_load}const zg="Live2DFactory",g4=(e,t)=>Le(void 0,null,function*(){if(typeof e.source=="string"){const r=yield ma.load({url:e.source,type:"json",target:e.live2dModel});r.url=e.source,e.source=r,e.live2dModel.emit("settingsJSONLoaded",r)}return t()}),v4=(e,t)=>Le(void 0,null,function*(){if(e.source instanceof zc)return e.settings=e.source,t();if(typeof e.source=="object"){const r=Ce.findRuntime(e.source);if(r){const i=r.createModelSettings(e.source);return e.settings=i,e.live2dModel.emit("settingsLoaded",i),t()}}throw new TypeError("Unknown settings format.")}),y4=(e,t)=>{if(e.settings){const r=Ce.findRuntime(e.settings);if(r)return r.ready().then(t)}return t()},b4=(e,t)=>Le(void 0,null,function*(){yield t();const r=e.internalModel;if(r){const i=e.settings,a=Ce.findRuntime(i);if(a){const o=[];i.pose&&o.push(ma.load({settings:i,url:i.pose,type:"json",target:r}).then(s=>{r.pose=a.createPose(r.coreModel,s),e.live2dModel.emit("poseLoaded",r.pose)}).catch(s=>{e.live2dModel.emit("poseLoadError",s),ve.warn(zg,"Failed to load pose.",s)})),i.physics&&o.push(ma.load({settings:i,url:i.physics,type:"json",target:r}).then(s=>{r.physics=a.createPhysics(r.coreModel,s),e.live2dModel.emit("physicsLoaded",r.physics)}).catch(s=>{e.live2dModel.emit("physicsLoadError",s),ve.warn(zg,"Failed to load physics.",s)})),o.length&&(yield Promise.all(o))}}}),x4=(e,t)=>Le(void 0,null,function*(){if(e.settings){const r=e.live2dModel,i=e.settings.textures.map(a=>{const o=e.settings.resolveURL(a);return JC(o,{crossOrigin:e.options.crossOrigin})});if(yield t(),e.internalModel)r.internalModel=e.internalModel,r.emit("modelLoaded",e.internalModel);else throw new TypeError("Missing internal model.");r.textures=yield Promise.all(i),r.emit("textureLoaded",r.textures)}else throw new TypeError("Missing settings.")}),S4=(e,t)=>Le(void 0,null,function*(){const r=e.settings;if(r instanceof zc){const i=Ce.findRuntime(r);if(!i)throw new TypeError("Unknown model settings.");const a=yield ma.load({settings:r,url:r.moc,type:"arraybuffer",target:e.live2dModel});if(!i.isValidMoc(a))throw new Error("Invalid moc data");const o=i.createCoreModel(a);return e.internalModel=i.createInternalModel(o,r,e.options),t()}throw new TypeError("Missing settings.")}),yr=class{static registerRuntime(e){yr.runtimes.push(e),yr.runtimes.sort((t,r)=>r.version-t.version)}static findRuntime(e){for(const t of yr.runtimes)if(t.test(e))return t}static setupLive2DModel(e,t,r){return Le(this,null,function*(){const i=new Promise(s=>e.once("textureLoaded",s)),a=new Promise(s=>e.once("modelLoaded",s)),o=Promise.all([i,a]).then(()=>e.emit("ready"));yield m4(yr.live2DModelMiddlewares,{live2dModel:e,source:t,options:r||{}}),yield o,e.emit("load")})}static loadMotion(e,t,r){var i,a;const o=s=>e.emit("motionLoadError",t,r,s);try{const s=(i=e.definitions[t])==null?void 0:i[r];if(!s)return Promise.resolve(void 0);e.listeners("destroy").includes(yr.releaseTasks)||e.once("destroy",yr.releaseTasks);let l=yr.motionTasksMap.get(e);l||(l={},yr.motionTasksMap.set(e,l));let h=l[t];h||(h=[],l[t]=h);const d=e.getMotionFile(s);return(a=h[r])!=null||(h[r]=ma.load({url:d,settings:e.settings,type:e.motionDataType,target:e}).then(S=>{var y;const E=(y=yr.motionTasksMap.get(e))==null?void 0:y[t];E&&delete E[r];const M=e.createMotion(S,t,s);return e.emit("motionLoaded",t,r,M),M}).catch(S=>{ve.warn(e.tag,`Failed to load motion: ${d}
`,S),o(S)})),h[r]}catch(s){ve.warn(e.tag,`Failed to load motion at "${t}"[${r}]
`,s),o(s)}return Promise.resolve(void 0)}static loadExpression(e,t){var r;const i=a=>e.emit("expressionLoadError",t,a);try{const a=e.definitions[t];if(!a)return Promise.resolve(void 0);e.listeners("destroy").includes(yr.releaseTasks)||e.once("destroy",yr.releaseTasks);let o=yr.expressionTasksMap.get(e);o||(o=[],yr.expressionTasksMap.set(e,o));const s=e.getExpressionFile(a);return(r=o[t])!=null||(o[t]=ma.load({url:s,settings:e.settings,type:"json",target:e}).then(l=>{const h=yr.expressionTasksMap.get(e);h&&delete h[t];const d=e.createExpression(l,a);return e.emit("expressionLoaded",t,d),d}).catch(l=>{ve.warn(e.tag,`Failed to load expression: ${s}
`,l),i(l)})),o[t]}catch(a){ve.warn(e.tag,`Failed to load expression at [${t}]
`,a),i(a)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof Jc?yr.motionTasksMap.delete(this):yr.expressionTasksMap.delete(this)}};let Ce=yr;Ce.runtimes=[];Ce.urlToJSON=g4;Ce.jsonToSettings=v4;Ce.waitUntilReady=y4;Ce.setupOptionals=b4;Ce.setupEssentials=x4;Ce.createInternalModel=S4;Ce.live2DModelMiddlewares=[g4,v4,y4,b4,x4,S4];Ce.motionTasksMap=new WeakMap;Ce.expressionTasksMap=new WeakMap;Jc.prototype._loadMotion=function(e,t){return Ce.loadMotion(this,e,t)};x_.prototype._loadExpression=function(e){return Ce.loadExpression(this,e)};class WC{constructor(){this._autoInteract=!1}get autoInteract(){return this._autoInteract}set autoInteract(t){t!==this._autoInteract&&(t?this.on("pointertap",Jg,this):this.off("pointertap",Jg,this),this._autoInteract=t)}registerInteraction(t){t!==this.interactionManager&&(this.unregisterInteraction(),this._autoInteract&&t&&(this.interactionManager=t,t.on("pointermove",Wg,this)))}unregisterInteraction(){var t;this.interactionManager&&((t=this.interactionManager)==null||t.off("pointermove",Wg,this),this.interactionManager=void 0)}}function Jg(e){this.tap(e.data.global.x,e.data.global.y)}function Wg(e){this.focus(e.data.global.x,e.data.global.y)}class YC extends Uc{}const oi=new ye,KC=new Re;let Hn;class T4 extends Si{constructor(t){super(),this.tag="Live2DModel(uninitialized)",this.textures=[],this.transform=new YC,this.anchor=new qn(this.onAnchorChange,this,0,0),this.glContextID=-1,this.elapsedTime=performance.now(),this.deltaTime=0,this._autoUpdate=!1,this.once("modelLoaded",()=>this.init(t))}static from(t,r){const i=new this(r);return Ce.setupLive2DModel(i,t,r).then(()=>i)}static fromSync(t,r){const i=new this(r);return Ce.setupLive2DModel(i,t,r).then(r==null?void 0:r.onLoad).catch(r==null?void 0:r.onError),i}static registerTicker(t){Hn=t}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){var r;Hn||(Hn=(r=window.PIXI)==null?void 0:r.Ticker),t?this._destroyed||(Hn?(Hn.shared.add(this.onTickerUpdate,this),this._autoUpdate=!0):ve.warn(this.tag,"No Ticker registered, please call Live2DModel.registerTicker(Ticker).")):(Hn==null||Hn.shared.remove(this.onTickerUpdate,this),this._autoUpdate=!1)}init(t){this.tag=`Live2DModel(${this.internalModel.settings.name})`;const r=Object.assign({autoUpdate:!0,autoInteract:!0},t);r.autoInteract&&(this.interactive=!0),this.autoInteract=r.autoInteract,this.autoUpdate=r.autoUpdate}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(t,r,i){return r===void 0?this.internalModel.motionManager.startRandomMotion(t,i):this.internalModel.motionManager.startMotion(t,r,i)}expression(t){return this.internalModel.motionManager.expressionManager?t===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(t):Promise.resolve(!1)}focus(t,r,i=!1){oi.x=t,oi.y=r,this.toModelPosition(oi,oi,!0);let a=oi.x/this.internalModel.originalWidth*2-1,o=oi.y/this.internalModel.originalHeight*2-1,s=Math.atan2(o,a);this.internalModel.focusController.focus(Math.cos(s),-Math.sin(s),i)}tap(t,r){const i=this.hitTest(t,r);i.length&&(ve.log(this.tag,"Hit",i),this.emit("hit",i))}hitTest(t,r){return oi.x=t,oi.y=r,this.toModelPosition(oi,oi),this.internalModel.hitTest(oi.x,oi.y)}toModelPosition(t,r=t.clone(),i){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(t,r),this.internalModel.localTransform.applyInverse(r,r),r}containsPoint(t){return this.getBounds(!0).contains(t.x,t.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}onTickerUpdate(){this.update(Hn.shared.deltaMS)}update(t){this.deltaTime+=t,this.elapsedTime+=t}_render(t){this.registerInteraction(t.plugins.interaction),t.batch.reset(),t.geometry.reset(),t.shader.reset(),t.state.reset();let r=!1;this.glContextID!==t.CONTEXT_UID&&(this.glContextID=t.CONTEXT_UID,this.internalModel.updateWebGLContext(t.gl,this.glContextID),r=!0);for(let o=0;o<this.textures.length;o++){const s=this.textures[o];s.valid&&((r||!s.baseTexture._glTextures[this.glContextID])&&(t.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),t.texture.bind(s.baseTexture,0)),this.internalModel.bindTexture(o,s.baseTexture._glTextures[this.glContextID].texture),s.baseTexture.touched=t.textureGC.count)}const i=t.framebuffer.viewport;this.internalModel.viewport=[i.x,i.y,i.width,i.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const a=KC.copyFrom(t.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(a),this.internalModel.draw(t.gl),t.state.reset(),t.texture.reset()}destroy(t){this.emit("destroy"),this.autoUpdate=!1,this.unregisterInteraction(),t!=null&&t.texture&&this.textures.forEach(r=>r.destroy(t.baseTexture)),this.internalModel.destroy(),super.destroy(t)}}p4(T4,[WC]);const tn=class{static resolveURL(e,t){var r;const i=(r=tn.filesMap[e])==null?void 0:r[t];if(i===void 0)throw new Error("Cannot find this file from uploaded files: "+t);return i}static upload(e,t){return Le(this,null,function*(){const r={};for(const i of t.getDefinedFiles()){const a=decodeURI(an.resolve(t.url,i)),o=e.find(s=>s.webkitRelativePath===a);o&&(r[i]=URL.createObjectURL(o))}tn.filesMap[t._objectURL]=r})}static createSettings(e){return Le(this,null,function*(){const t=e.find(s=>s.name.endsWith("model.json")||s.name.endsWith("model3.json"));if(!t)throw new TypeError("Settings file not found");const r=yield tn.readText(t),i=JSON.parse(r);i.url=t.webkitRelativePath;const a=Ce.findRuntime(i);if(!a)throw new Error("Unknown settings JSON");const o=a.createModelSettings(i);return o._objectURL=URL.createObjectURL(t),o})}static readText(e){return Le(this,null,function*(){return new Promise((t,r)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=r,i.readAsText(e,"utf8")})})}};let S_=tn;S_.filesMap={};S_.factory=(e,t)=>Le(void 0,null,function*(){if(Array.isArray(e.source)&&e.source[0]instanceof File){const r=e.source;let i=r.settings;if(!i)i=yield tn.createSettings(r);else if(!i._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');i.validateFiles(r.map(a=>encodeURI(a.webkitRelativePath))),yield tn.upload(r,i),i.resolveURL=function(a){return tn.resolveURL(this._objectURL,a)},e.source=i,e.live2dModel.once("modelLoaded",a=>{a.once("destroy",function(){const o=this.settings._objectURL;if(URL.revokeObjectURL(o),tn.filesMap[o])for(const s of Object.values(tn.filesMap[o]))URL.revokeObjectURL(s);delete tn.filesMap[o]})})}return t()});Ce.live2DModelMiddlewares.unshift(S_.factory);const jr=class{static unzip(e,t){return Le(this,null,function*(){const r=yield jr.getFilePaths(e),i=[];for(const o of t.getDefinedFiles()){const s=decodeURI(an.resolve(t.url,o));r.includes(s)&&i.push(s)}const a=yield jr.getFiles(e,i);for(let o=0;o<a.length;o++){const s=i[o],l=a[o];Object.defineProperty(l,"webkitRelativePath",{value:s})}return a})}static createSettings(e){return Le(this,null,function*(){const t=(yield jr.getFilePaths(e)).find(o=>o.endsWith("model.json")||o.endsWith("model3.json"));if(!t)throw new Error("Settings file not found");const r=yield jr.readText(e,t);if(!r)throw new Error("Empty settings file: "+t);const i=JSON.parse(r);i.url=t;const a=Ce.findRuntime(i);if(!a)throw new Error("Unknown settings JSON");return a.createModelSettings(i)})}static zipReader(e,t){return Le(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(e){return Le(this,null,function*(){throw new Error("Not implemented")})}static getFiles(e,t){return Le(this,null,function*(){throw new Error("Not implemented")})}static readText(e,t){return Le(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(e){}};let Yc=jr;Yc.ZIP_PROTOCOL="zip://";Yc.uid=0;Yc.factory=(e,t)=>Le(void 0,null,function*(){const r=e.source;let i,a,o;if(typeof r=="string"&&(r.endsWith(".zip")||r.startsWith(jr.ZIP_PROTOCOL))?(r.startsWith(jr.ZIP_PROTOCOL)?i=r.slice(jr.ZIP_PROTOCOL.length):i=r,a=yield ma.load({url:i,type:"blob",target:e.live2dModel})):Array.isArray(r)&&r.length===1&&r[0]instanceof File&&r[0].name.endsWith(".zip")&&(a=r[0],i=URL.createObjectURL(a),o=r.settings),a){if(!a.size)throw new Error("Empty zip file");const s=yield jr.zipReader(a,i);o||(o=yield jr.createSettings(s)),o._objectURL=jr.ZIP_PROTOCOL+jr.uid+"/"+o.url;const l=yield jr.unzip(s,o);l.settings=o,e.source=l,i.startsWith("blob:")&&e.live2dModel.once("modelLoaded",h=>{h.once("destroy",function(){URL.revokeObjectURL(i)})}),jr.releaseReader(s)}return t()});Ce.live2DModelMiddlewares.unshift(Yc.factory);if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const QC=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(e,t){QC.call(this,e,t),t.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class ZC extends AMotion{constructor(t){super(),this.params=[],this.setFadeIn(t.fade_in>0?t.fade_in:xr.expressionFadingDuration),this.setFadeOut(t.fade_out>0?t.fade_out:xr.expressionFadingDuration),Array.isArray(t.params)&&t.params.forEach(r=>{const i=r.calc||"add";if(i==="add"){const a=r.def||0;r.val-=a}else if(i==="mult"){const a=r.def||1;r.val/=a}this.params.push({calc:i,val:r.val,id:r.id})})}updateParamExe(t,r,i,a){this.params.forEach(o=>{t.setParamFloat(o.id,o.val*i)})}}class qC extends x_{constructor(t,r){var i;super(t,r),this.queueManager=new MotionQueueManager,this.definitions=(i=this.settings.expressions)!=null?i:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(t){return this.definitions.findIndex(r=>r.name===t)}getExpressionFile(t){return t.file}createExpression(t,r){return new ZC(t)}_setExpression(t){return this.queueManager.startMotion(t)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(t,r){return this.queueManager.updateParam(t)}}class t8 extends Jc{constructor(t,r){super(t,r),this.groups={idle:"idle"},this.motionDataType="arraybuffer",this.queueManager=new MotionQueueManager,this.definitions=this.settings.motions,this.init(r)}init(t){super.init(t),this.settings.expressions&&(this.expressionManager=new qC(this.settings,t))}isFinished(){return this.queueManager.isFinished()}createMotion(t,r,i){const a=Live2DMotion.loadMotion(t),o=r===this.groups.idle?xr.idleMotionFadingDuration:xr.motionFadingDuration;return a.setFadeIn(i.fade_in>0?i.fade_in:o),a.setFadeOut(i.fade_out>0?i.fade_out:o),a}getMotionFile(t){return t.file}getMotionName(t){return t.file}getSoundFile(t){return t.sound}_startMotion(t,r){return t.onFinishHandler=r,this.queueManager.stopAllMotions(),this.queueManager.startMotion(t)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(t,r){return this.queueManager.updateParam(t)}destroy(){super.destroy(),this.queueManager=void 0}}class e8{constructor(t){this.coreModel=t,this.blinkInterval=4e3,this.closingDuration=100,this.closedDuration=50,this.openingDuration=150,this.eyeState=0,this.eyeParamValue=1,this.closedTimer=0,this.nextBlinkTimeLeft=this.blinkInterval,this.leftParam=t.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=t.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(t){this.eyeParamValue=_c(t,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(t){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=t,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+NC(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+t/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=t,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+t/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const Pa=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class r8 extends _4{constructor(t,r,i){super(),this.textureFlipY=!0,this.drawDataCount=0,this.disableCulling=!1,this.coreModel=t,this.settings=r,this.motionManager=new t8(r,i),this.eyeBlink=new e8(t),this.eyeballXParamIndex=t.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=t.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=t.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=t.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=t.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=t.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=t.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:o,value:s})=>this.coreModel.setParamFloat(o,s)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:o,value:s})=>this.coreModel.setPartsOpacity(o,s)),this.coreModel.saveParam();const t=this.coreModel.getModelContext()._$aS;t!=null&&t.length&&(this.drawDataCount=t.length);let r=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:o=>r=o,get:()=>this.disableCulling?!1:r});const i=this.coreModel.getModelContext().clipManager,a=i.setupClip;i.setupClip=(o,s)=>{a.call(i,o,s),s.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const t={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){let i=r;r==="center_x"?i="centerX":r==="center_y"&&(i="centerY"),t[i]=this.settings.layout[r]}return t}updateWebGLContext(t,r){const i=this.coreModel.drawParamWebGL;i.firstDraw=!0,i.setGL(t),i.glno=r;for(const s in i)i.hasOwnProperty(s)&&i[s]instanceof WebGLBuffer&&(i[s]=null);const a=this.coreModel.getModelContext().clipManager;a.curFrameNo=r;const o=t.getParameter(t.FRAMEBUFFER_BINDING);a.getMaskRenderTexture(),t.bindFramebuffer(t.FRAMEBUFFER,o)}bindTexture(t,r){this.coreModel.setTexture(t,r)}getHitAreaDefs(){var t;return((t=this.settings.hitAreas)==null?void 0:t.map(r=>({id:r.id,name:r.name,index:this.coreModel.getDrawDataIndex(r.id)})))||[]}getDrawableIDs(){const t=this.coreModel.getModelContext(),r=[];for(let i=0;i<this.drawDataCount;i++){const a=t.getDrawData(i);a&&r.push(a.getDrawDataID().id)}return r}getDrawableIndex(t){return this.coreModel.getDrawDataIndex(t)}getDrawableVertices(t){if(typeof t=="string"&&(t=this.coreModel.getDrawDataIndex(t),t===-1))throw new TypeError("Unable to find drawable ID: "+t);return this.coreModel.getTransformedPoints(t).slice()}update(t,r){var i,a,o,s;super.update(t,r);const l=this.coreModel;this.emit("beforeMotionUpdate");const h=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),l.saveParam(),(i=this.motionManager.expressionManager)==null||i.update(l,r),h||(a=this.eyeBlink)==null||a.update(t),this.updateFocus(),this.updateNaturalMovements(t,r),(o=this.physics)==null||o.update(r),(s=this.pose)==null||s.update(t),this.emit("beforeModelUpdate"),l.update(),l.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(t,r){const i=r/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*Math.sin(i/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*Math.sin(i/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*Math.sin(i/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*Math.sin(i/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(i/3.2345))}draw(t){const r=this.disableCulling;t.getParameter(t.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const i=this.drawingMatrix;Pa[0]=i.a,Pa[1]=i.b,Pa[4]=i.c,Pa[5]=i.d,Pa[12]=i.tx,Pa[13]=i.ty,this.coreModel.setMatrix(Pa),this.coreModel.draw(),this.disableCulling=r}destroy(){super.destroy(),this.coreModel=void 0}}class bl extends zc{constructor(t){if(super(t),this.motions={},!bl.isValidJSON(t))throw new TypeError("Invalid JSON.");this.moc=t.model,js("string",t,this,"textures","textures"),this.copy(t)}static isValidJSON(t){var r;return!!t&&typeof t.model=="string"&&((r=t.textures)==null?void 0:r.length)>0&&t.textures.every(i=>typeof i=="string")}copy(t){Gs("string",t,this,"name","name"),Gs("string",t,this,"pose","pose"),Gs("string",t,this,"physics","physics"),Gs("object",t,this,"layout","layout"),Gs("object",t,this,"motions","motions"),js("object",t,this,"hit_areas","hitAreas"),js("object",t,this,"expressions","expressions"),js("object",t,this,"init_params","initParams"),js("object",t,this,"init_opacities","initOpacities")}replaceFiles(t){super.replaceFiles(t);for(const[r,i]of Object.entries(this.motions))for(let a=0;a<i.length;a++)i[a].file=t(i[a].file,`motions.${r}[${a}].file`),i[a].sound!==void 0&&(i[a].sound=t(i[a].sound,`motions.${r}[${a}].sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].file=t(this.expressions[r].file,`expressions[${r}].file`)}}const i8={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},n8={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class a8{constructor(t,r){this.coreModel=t,this.physicsHairs=[],r.physics_hair&&(this.physicsHairs=r.physics_hair.map(i=>{const a=new PhysicsHair;return a.setup(i.setup.length,i.setup.regist,i.setup.mass),i.src.forEach(({id:o,ptype:s,scale:l,weight:h})=>{const d=i8[s];d&&a.addSrcParam(d,o,l,h)}),i.targets.forEach(({id:o,ptype:s,scale:l,weight:h})=>{const d=n8[s];d&&a.addTargetParam(d,o,l,h)}),a}))}update(t){this.physicsHairs.forEach(r=>r.update(this.coreModel,t))}}class Yg{constructor(t){this.id=t,this.paramIndex=-1,this.partsIndex=-1,this.link=[]}initIndex(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)}}class o8{constructor(t,r){this.coreModel=t,this.opacityAnimDuration=500,this.partsGroups=[],r.parts_visible&&(this.partsGroups=r.parts_visible.map(({group:i})=>i.map(({id:a,link:o})=>{const s=new Yg(a);return o&&(s.link=o.map(l=>new Yg(l))),s})),this.init())}init(){this.partsGroups.forEach(t=>{t.forEach(r=>{if(r.initIndex(this.coreModel),r.paramIndex>=0){const i=this.coreModel.getParamFloat(r.paramIndex)!==0;this.coreModel.setPartsOpacity(r.partsIndex,i?1:0),this.coreModel.setParamFloat(r.paramIndex,i?1:0),r.link.length>0&&r.link.forEach(a=>a.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(t,r){const i=this.coreModel,a=.5,o=.15;let s=1,l=t.findIndex(({paramIndex:h,partsIndex:d})=>d>=0&&i.getParamFloat(h)!==0);if(l>=0){const h=i.getPartsOpacity(t[l].partsIndex);s=_c(h+r/this.opacityAnimDuration,0,1)}else l=0,s=1;t.forEach(({partsIndex:h},d)=>{if(h>=0)if(l==d)i.setPartsOpacity(h,s);else{let S=i.getPartsOpacity(h),y;s<a?y=s*(a-1)/a+1:y=(1-s)*a/(1-a),(1-y)*(1-s)>o&&(y=1-o/(1-s)),S>y&&(S=y),i.setPartsOpacity(h,S)}})}copyOpacity(t){const r=this.coreModel;t.forEach(({partsIndex:i,link:a})=>{if(i>=0&&a){const o=r.getPartsOpacity(i);a.forEach(({partsIndex:s})=>{s>=0&&r.setPartsOpacity(s,o)})}})}update(t){this.partsGroups.forEach(r=>{this.normalizePartsOpacityGroup(r,t),this.copyOpacity(r)})}}Ce.registerRuntime({version:2,test(e){return e instanceof bl||bl.isValidJSON(e)},ready(){return Promise.resolve()},isValidMoc(e){if(e.byteLength<3)return!1;const t=new Int8Array(e,0,3);return String.fromCharCode(...t)==="moc"},createModelSettings(e){return new bl(e)},createCoreModel(e){const t=Live2DModelWebGL.loadModel(e),r=Live2D.getError();if(r)throw r;return t},createInternalModel(e,t,r){return new r8(e,t,r)},createPose(e,t){return new o8(e,t)},createPhysics(e,t){return new a8(e,t)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class Ut{constructor(t,r){this.x=t||0,this.y=r||0}add(t){const r=new Ut(0,0);return r.x=this.x+t.x,r.y=this.y+t.y,r}substract(t){const r=new Ut(0,0);return r.x=this.x-t.x,r.y=this.y-t.y,r}multiply(t){const r=new Ut(0,0);return r.x=this.x*t.x,r.y=this.y*t.y,r}multiplyByScaler(t){return this.multiply(new Ut(t,t))}division(t){const r=new Ut(0,0);return r.x=this.x/t.x,r.y=this.y/t.y,r}divisionByScalar(t){return this.division(new Ut(t,t))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))}dot(t){return this.x*t.x+this.y*t.y}normalize(){const t=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/t,this.y=this.y/t}isEqual(t){return this.x==t.x&&this.y==t.y}isNotEqual(t){return!this.isEqual(t)}}const wh=class{static range(e,t,r){return e<t?e=t:e>r&&(e=r),e}static sin(e){return Math.sin(e)}static cos(e){return Math.cos(e)}static abs(e){return Math.abs(e)}static sqrt(e){return Math.sqrt(e)}static cbrt(e){if(e===0)return e;let t=e;const r=t<0;r&&(t=-t);let i;return t===1/0?i=1/0:(i=Math.exp(Math.log(t)/3),i=(t/(i*i)+2*i)/3),r?-i:i}static getEasingSine(e){return e<0?0:e>1?1:.5-.5*this.cos(e*Math.PI)}static max(e,t){return e>t?e:t}static min(e,t){return e>t?t:e}static degreesToRadian(e){return e/180*Math.PI}static radianToDegrees(e){return e*180/Math.PI}static directionToRadian(e,t){const r=Math.atan2(t.y,t.x),i=Math.atan2(e.y,e.x);let a=r-i;for(;a<-Math.PI;)a+=Math.PI*2;for(;a>Math.PI;)a-=Math.PI*2;return a}static directionToDegrees(e,t){const r=this.directionToRadian(e,t);let i=this.radianToDegrees(r);return t.x-e.x>0&&(i=-i),i}static radianToDirection(e){const t=new Ut;return t.x=this.sin(e),t.y=this.cos(e),t}static quadraticEquation(e,t,r){return this.abs(e)<wh.Epsilon?this.abs(t)<wh.Epsilon?-r:-r/t:-(t+this.sqrt(t*t-4*e*r))/(2*e)}static cardanoAlgorithmForBezier(e,t,r,i){if(this.sqrt(e)<wh.Epsilon)return this.range(this.quadraticEquation(t,r,i),0,1);const a=t/e,o=r/e,s=i/e,l=(3*o-a*a)/3,h=l/3,d=(2*a*a*a-9*a*o+27*s)/27,S=d/2,y=S*S+h*h*h,E=.5,M=E+.01;if(y<0){const L=-l/3,B=L*L*L,G=this.sqrt(B),j=-d/(2*G),z=this.range(j,-1,1),J=Math.acos(z),Q=2*this.cbrt(G),tt=Q*this.cos(J/3)-a/3;if(this.abs(tt-E)<M)return this.range(tt,0,1);const Z=Q*this.cos((J+2*Math.PI)/3)-a/3;if(this.abs(Z-E)<M)return this.range(Z,0,1);const lt=Q*this.cos((J+4*Math.PI)/3)-a/3;return this.range(lt,0,1)}if(y==0){let L;S<0?L=this.cbrt(-S):L=-this.cbrt(S);const B=2*L-a/3;if(this.abs(B-E)<M)return this.range(B,0,1);const G=-L-a/3;return this.range(G,0,1)}const O=this.sqrt(y),C=this.cbrt(O-S),N=this.cbrt(O+S),$=C-N-a/3;return this.range($,0,1)}constructor(){}};let xe=wh;xe.Epsilon=1e-5;class mi{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(t,r,i){const a=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=4;for(let s=0;s<o;++s)for(let l=0;l<o;++l)for(let h=0;h<o;++h)a[l+s*4]+=t[h+s*4]*r[l+h*4];for(let s=0;s<16;++s)i[s]=a[s]}loadIdentity(){const t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(t)}setMatrix(t){for(let r=0;r<16;++r)this._tr[r]=t[r]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(t){return this._tr[0]*t+this._tr[12]}transformY(t){return this._tr[5]*t+this._tr[13]}invertTransformX(t){return(t-this._tr[12])/this._tr[0]}invertTransformY(t){return(t-this._tr[13])/this._tr[5]}translateRelative(t,r){const i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,r,0,1]);mi.multiply(i,this._tr,this._tr)}translate(t,r){this._tr[12]=t,this._tr[13]=r}translateX(t){this._tr[12]=t}translateY(t){this._tr[13]=t}scaleRelative(t,r){const i=new Float32Array([t,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]);mi.multiply(i,this._tr,this._tr)}scale(t,r){this._tr[0]=t,this._tr[5]=r}multiplyByMatrix(t){mi.multiply(t.getArray(),this._tr,this._tr)}clone(){const t=new mi;for(let r=0;r<this._tr.length;r++)t._tr[r]=this._tr[r];return t}}class T_{initialize(t){this._model=t}drawModel(){this.getModel()!=null&&this.doDrawModel()}setMvpMatrix(t){this._mvpMatrix4x4.setMatrix(t.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(t,r,i,a){t<0?t=0:t>1&&(t=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),a<0?a=0:a>1&&(a=1),this._modelColor.R=t,this._modelColor.G=r,this._modelColor.B=i,this._modelColor.A=a}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(t){this._isPremultipliedAlpha=t}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(t){this._isCulling=t}isCulling(){return this._isCulling}setAnisotropy(t){this._anisortopy=t}getAnisotropy(){return this._anisortopy}getModel(){return this._model}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._modelColor=new tl,this._mvpMatrix4x4=new mi,this._mvpMatrix4x4.loadIdentity()}}var ca=(e=>(e[e.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",e[e.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",e[e.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",e))(ca||{});class tl{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}let Ki=!1,So=!1,To;const uf={vertexOffset:0,vertexStep:2};class ql{static startUp(t){if(Ki)return Xs("CubismFramework.startUp() is already done."),Ki;if(Live2DCubismCore._isStarted)return Ki=!0,!0;if(Live2DCubismCore._isStarted=!0,To=t,To&&Live2DCubismCore.Logging.csmSetLogFunction(To.logFunction),Ki=!0,Ki){const r=Live2DCubismCore.Version.csmGetVersion(),i=(r&4278190080)>>24,a=(r&16711680)>>16,o=r&65535,s=r;Xs("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+i).slice(-2),("00"+a).slice(-2),("0000"+o).slice(-4),s)}return Xs("CubismFramework.startUp() is complete."),Ki}static cleanUp(){Ki=!1,So=!1,To=void 0}static initialize(){if(!Ki){el("CubismFramework is not started.");return}if(So){el("CubismFramework.initialize() skipped, already initialized.");return}So=!0,Xs("CubismFramework.initialize() is complete.")}static dispose(){if(!Ki){el("CubismFramework is not started.");return}if(!So){el("CubismFramework.dispose() skipped, not initialized.");return}T_.staticRelease(),So=!1,Xs("CubismFramework.dispose() is complete.")}static isStarted(){return Ki}static isInitialized(){return So}static coreLogFunction(t){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(t)}static getLoggingLevel(){return To!=null?To.loggingLevel:co.LogLevel_Off}constructor(){}}var co=(e=>(e[e.LogLevel_Verbose=0]="LogLevel_Verbose",e[e.LogLevel_Debug=1]="LogLevel_Debug",e[e.LogLevel_Info=2]="LogLevel_Info",e[e.LogLevel_Warning=3]="LogLevel_Warning",e[e.LogLevel_Error=4]="LogLevel_Error",e[e.LogLevel_Off=5]="LogLevel_Off",e))(co||{});const Zu=()=>{};function Kg(e,...t){Kc.print(co.LogLevel_Debug,"[CSM][D]"+e+`
`,t)}function Xs(e,...t){Kc.print(co.LogLevel_Info,"[CSM][I]"+e+`
`,t)}function el(e,...t){Kc.print(co.LogLevel_Warning,"[CSM][W]"+e+`
`,t)}function wo(e,...t){Kc.print(co.LogLevel_Error,"[CSM][E]"+e+`
`,t)}class Kc{static print(t,r,i){if(t<ql.getLoggingLevel())return;const a=ql.coreLogFunction;if(!a)return;const o=r.replace(/{(\d+)}/g,(s,l)=>i[l]);a(o)}static dumpBytes(t,r,i){for(let a=0;a<i;a++)a%16==0&&a>0?this.print(t,`
`):a%8==0&&a>0&&this.print(t,"  "),this.print(t,"{0} ",[r[a]&255]);this.print(t,`
`)}constructor(){}}class E4{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(t,r,i){if(!r.isAvailable()||r.isFinished())return;if(!r.isStarted()){r.setIsStarted(!0),r.setStartTime(i-this._offsetSeconds),r.setFadeInStartTime(i);const l=this.getDuration();r.getEndTime()<0&&r.setEndTime(l<=0?-1:r.getStartTime()+l)}let a=this._weight;const o=this._fadeInSeconds==0?1:xe.getEasingSine((i-r.getFadeInStartTime())/this._fadeInSeconds),s=this._fadeOutSeconds==0||r.getEndTime()<0?1:xe.getEasingSine((r.getEndTime()-i)/this._fadeOutSeconds);a=a*o*s,r.setState(i,a),this.doUpdateParameters(t,i,a,r),r.getEndTime()>0&&r.getEndTime()<i&&r.setIsFinished(!0)}setFadeInTime(t){this._fadeInSeconds=t}setFadeOutTime(t){this._fadeOutSeconds=t}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(t){this._weight=t}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(t){this._offsetSeconds=t}getFiredEvent(t,r){return this._firedEventValues}setFinishedMotionHandler(t){this._onFinishedMotion=t}getFinishedMotionHandler(){return this._onFinishedMotion}}const Qg=1;class E_ extends E4{constructor(){super(),this._parameters=[]}static create(t){const r=new E_,i=t.FadeInTime,a=t.FadeOutTime;r.setFadeInTime(i!==void 0?i:Qg),r.setFadeOutTime(a!==void 0?a:Qg);const o=t.Parameters||[];for(let s=0;s<o.length;++s){const l=o[s],h=l.Id,d=l.Value;let S;switch(l.Blend){case"Multiply":S=Fa.ExpressionBlendType_Multiply;break;case"Overwrite":S=Fa.ExpressionBlendType_Overwrite;break;case"Add":default:S=Fa.ExpressionBlendType_Add;break}const y={parameterId:h,blendType:S,value:d};r._parameters.push(y)}return r}doUpdateParameters(t,r,i,a){for(let o=0;o<this._parameters.length;++o){const s=this._parameters[o];switch(s.blendType){case Fa.ExpressionBlendType_Add:{t.addParameterValueById(s.parameterId,s.value,i);break}case Fa.ExpressionBlendType_Multiply:{t.multiplyParameterValueById(s.parameterId,s.value,i);break}case Fa.ExpressionBlendType_Overwrite:{t.setParameterValueById(s.parameterId,s.value,i);break}}}}}var Fa=(e=>(e[e.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",e[e.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",e[e.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite",e))(Fa||{});class s8{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(t){this._fadeOutSeconds=t,this._isTriggeredFadeOut=!0}startFadeOut(t,r){const i=r+t;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||i<this._endTimeSeconds)&&(this._endTimeSeconds=i)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(t){this._startTimeSeconds=t}setFadeInStartTime(t){this._fadeInStartTimeSeconds=t}setEndTime(t){this._endTimeSeconds=t}setIsFinished(t){this._finished=t}setIsStarted(t){this._started=t}isAvailable(){return this._available}setIsAvailable(t){this._available=t}setState(t,r){this._stateTimeSeconds=t,this._stateWeight=r}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(t){this._lastEventCheckSeconds=t}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class I4{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let t=0;t<this._motions.length;++t)this._motions[t]&&this._motions[t].release();this._motions=void 0}startMotion(t,r,i){if(t==null)return l8;let a;for(let o=0;o<this._motions.length;++o)a=this._motions[o],a!=null&&a.setFadeOut(a._motion.getFadeOutTime());return a=new s8,a._autoDelete=r,a._motion=t,this._motions.push(a),a._motionQueueEntryHandle}isFinished(){let t=0;for(;t<this._motions.length;){const r=this._motions[t];if(r==null){this._motions.splice(t,1);continue}if(r._motion==null){r.release(),this._motions.splice(t,1);continue}if(!r.isFinished())return!1;t++}return!0}isFinishedByHandle(t){for(let r=0;r<this._motions.length;r++){const i=this._motions[r];if(i!=null&&i._motionQueueEntryHandle==t&&!i.isFinished())return!1}return!0}stopAllMotions(){for(let t=0;t<this._motions.length;t++){const r=this._motions[t];r!=null&&r.release()}this._motions=[]}getCubismMotionQueueEntry(t){return this._motions.find(r=>r!=null&&r._motionQueueEntryHandle==t)}setEventCallback(t,r=null){this._eventCallBack=t,this._eventCustomData=r}doUpdateMotion(t,r){let i=!1,a=0;for(;a<this._motions.length;){const o=this._motions[a];if(o==null){this._motions.splice(a,1);continue}const s=o._motion;if(s==null){o.release(),this._motions.splice(a,1);continue}s.updateParameters(t,o,r),i=!0;const l=s.getFiredEvent(o.getLastCheckEventSeconds()-o.getStartTime(),r-o.getStartTime());for(let h=0;h<l.length;++h)this._eventCallBack(this,l[h],this._eventCustomData);o.setLastCheckEventSeconds(r),o.isFinished()?(o.release(),this._motions.splice(a,1)):(o.isTriggeredFadeOut()&&o.startFadeOut(o.getFadeOutSeconds(),r),a++)}return i}}const l8=-1;class u8 extends x_{constructor(t,r){var i;super(t,r),this.queueManager=new I4,this.definitions=(i=t.expressions)!=null?i:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(t){return this.definitions.findIndex(r=>r.Name===t)}getExpressionFile(t){return t.File}createExpression(t,r){return E_.create(t)}_setExpression(t){return this.queueManager.startMotion(t,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(t,r){return this.queueManager.doUpdateMotion(t,r)}}class A4{constructor(t){this.groups=t.Groups,this.hitAreas=t.HitAreas,this.layout=t.Layout,this.moc=t.FileReferences.Moc,this.expressions=t.FileReferences.Expressions,this.motions=t.FileReferences.Motions,this.textures=t.FileReferences.Textures,this.physics=t.FileReferences.Physics,this.pose=t.FileReferences.Pose}getEyeBlinkParameters(){var t,r;return(r=(t=this.groups)==null?void 0:t.find(i=>i.Name==="EyeBlink"))==null?void 0:r.Ids}getLipSyncParameters(){var t,r;return(r=(t=this.groups)==null?void 0:t.find(i=>i.Name==="LipSync"))==null?void 0:r.Ids}}class Qo extends zc{constructor(t){if(super(t),!Qo.isValidJSON(t))throw new TypeError("Invalid JSON.");Object.assign(this,new A4(t))}static isValidJSON(t){var r;return!!(t!=null&&t.FileReferences)&&typeof t.FileReferences.Moc=="string"&&((r=t.FileReferences.Textures)==null?void 0:r.length)>0&&t.FileReferences.Textures.every(i=>typeof i=="string")}replaceFiles(t){if(super.replaceFiles(t),this.motions)for(const[r,i]of Object.entries(this.motions))for(let a=0;a<i.length;a++)i[a].File=t(i[a].File,`motions.${r}[${a}].File`),i[a].Sound!==void 0&&(i[a].Sound=t(i[a].Sound,`motions.${r}[${a}].Sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].File=t(this.expressions[r].File,`expressions[${r}].File`)}}p4(Qo,[A4]);var ka=(e=>(e[e.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",e[e.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",e[e.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",e))(ka||{}),Zi=(e=>(e[e.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",e[e.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",e[e.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",e[e.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",e))(Zi||{});class Gn{constructor(t=0,r=0){this.time=t,this.value=r}}class h8{constructor(){this.basePointIndex=0,this.segmentType=0}}class c8{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class f8{constructor(){this.fireTime=0,this.value=""}}class d8{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class P4{constructor(t){this._json=t}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(t){return I_.EvaluationOptionFlag_AreBeziersRistricted==t?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(t){return this._json.Curves[t].Target}getMotionCurveId(t){return this._json.Curves[t].Id}getMotionCurveFadeInTime(t){return this._json.Curves[t].FadeInTime}getMotionCurveFadeOutTime(t){return this._json.Curves[t].FadeOutTime}getMotionCurveSegmentCount(t){return this._json.Curves[t].Segments.length}getMotionCurveSegment(t,r){return this._json.Curves[t].Segments[r]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(t){return this._json.UserData[t].Time}getEventValue(t){return this._json.UserData[t].Value}}var I_=(e=>(e[e.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",e))(I_||{});const p8="EyeBlink",_8="LipSync",m8="Model",g8="Parameter",v8="PartOpacity",y8=!1;function fi(e,t,r){const i=new Gn;return i.time=e.time+(t.time-e.time)*r,i.value=e.value+(t.value-e.value)*r,i}function b8(e,t){let r=(t-e[0].time)/(e[1].time-e[0].time);return r<0&&(r=0),e[0].value+(e[1].value-e[0].value)*r}function x8(e,t){let r=(t-e[0].time)/(e[3].time-e[0].time);r<0&&(r=0);const i=fi(e[0],e[1],r),a=fi(e[1],e[2],r),o=fi(e[2],e[3],r),s=fi(i,a,r),l=fi(a,o,r);return fi(s,l,r).value}function S8(e,t){const r=t,i=e[0].time,a=e[3].time,o=e[1].time,s=e[2].time,l=a-3*s+3*o-i,h=3*s-6*o+3*i,d=3*o-3*i,S=i-r,y=xe.cardanoAlgorithmForBezier(l,h,d,S),E=fi(e[0],e[1],y),M=fi(e[1],e[2],y),O=fi(e[2],e[3],y),C=fi(E,M,y),N=fi(M,O,y);return fi(C,N,y).value}function T8(e,t){return e[0].value}function E8(e,t){return e[1].value}function hf(e,t,r){const i=e.curves[t];let a=-1;const o=i.baseSegmentIndex+i.segmentCount;let s=0;for(let h=i.baseSegmentIndex;h<o;++h)if(s=e.segments[h].basePointIndex+(e.segments[h].segmentType==Zi.CubismMotionSegmentType_Bezier?3:1),e.points[s].time>r){a=h;break}if(a==-1)return e.points[s].value;const l=e.segments[a];return l.evaluate(e.points.slice(l.basePointIndex),r)}class A_ extends E4{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0}static create(t,r){const i=new A_;return i.parse(t),i._sourceFrameRate=i._motionData.fps,i._loopDurationSeconds=i._motionData.duration,i._onFinishedMotion=r,i}doUpdateParameters(t,r,i,a){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=p8),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=_8);let o=r-a.getStartTime();o<0&&(o=0);let s=Number.MAX_VALUE,l=Number.MAX_VALUE;const h=64;let d=0,S=0;this._eyeBlinkParameterIds.length>h&&Kg("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>h&&Kg("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const y=this._fadeInSeconds<=0?1:xe.getEasingSine((r-a.getFadeInStartTime())/this._fadeInSeconds),E=this._fadeOutSeconds<=0||a.getEndTime()<0?1:xe.getEasingSine((a.getEndTime()-r)/this._fadeOutSeconds);let M,O,C,N=o;if(this._isLoop)for(;N>this._motionData.duration;)N-=this._motionData.duration;const $=this._motionData.curves;for(O=0;O<this._motionData.curveCount&&$[O].type==ka.CubismMotionCurveTarget_Model;++O)M=hf(this._motionData,O,N),$[O].id==this._modelCurveIdEyeBlink?l=M:$[O].id==this._modelCurveIdLipSync&&(s=M);for(;O<this._motionData.curveCount&&$[O].type==ka.CubismMotionCurveTarget_Parameter;++O){if(C=t.getParameterIndex($[O].id),C==-1)continue;const L=t.getParameterValueByIndex(C);if(M=hf(this._motionData,O,N),l!=Number.MAX_VALUE){for(let G=0;G<this._eyeBlinkParameterIds.length&&G<h;++G)if(this._eyeBlinkParameterIds[G]==$[O].id){M*=l,S|=1<<G;break}}if(s!=Number.MAX_VALUE){for(let G=0;G<this._lipSyncParameterIds.length&&G<h;++G)if(this._lipSyncParameterIds[G]==$[O].id){M+=s,d|=1<<G;break}}let B;if($[O].fadeInTime<0&&$[O].fadeOutTime<0)B=L+(M-L)*i;else{let G,j;$[O].fadeInTime<0?G=y:G=$[O].fadeInTime==0?1:xe.getEasingSine((r-a.getFadeInStartTime())/$[O].fadeInTime),$[O].fadeOutTime<0?j=E:j=$[O].fadeOutTime==0||a.getEndTime()<0?1:xe.getEasingSine((a.getEndTime()-r)/$[O].fadeOutTime);const z=this._weight*G*j;B=L+(M-L)*z}t.setParameterValueByIndex(C,B,1)}{if(l!=Number.MAX_VALUE)for(let L=0;L<this._eyeBlinkParameterIds.length&&L<h;++L){const B=t.getParameterValueById(this._eyeBlinkParameterIds[L]);if(S>>L&1)continue;const G=B+(l-B)*i;t.setParameterValueById(this._eyeBlinkParameterIds[L],G)}if(s!=Number.MAX_VALUE)for(let L=0;L<this._lipSyncParameterIds.length&&L<h;++L){const B=t.getParameterValueById(this._lipSyncParameterIds[L]);if(d>>L&1)continue;const G=B+(s-B)*i;t.setParameterValueById(this._lipSyncParameterIds[L],G)}}for(;O<this._motionData.curveCount&&$[O].type==ka.CubismMotionCurveTarget_PartOpacity;++O)if(M=hf(this._motionData,O,N),Zl.setOpacityFromMotion)t.setPartOpacityById($[O].id,M);else{if(C=t.getParameterIndex($[O].id),C==-1)continue;t.setParameterValueByIndex(C,M)}o>=this._motionData.duration&&(this._isLoop?(a.setStartTime(r),this._isLoopFadeIn&&a.setFadeInStartTime(r)):(this._onFinishedMotion&&this._onFinishedMotion(this),a.setIsFinished(!0))),this._lastWeight=i}setIsLoop(t){this._isLoop=t}isLoop(){return this._isLoop}setIsLoopFadeIn(t){this._isLoopFadeIn=t}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(t,r){const i=this._motionData.curves;for(let a=0;a<this._motionData.curveCount;++a)if(t==i[a].id){i[a].fadeInTime=r;return}}setParameterFadeOutTime(t,r){const i=this._motionData.curves;for(let a=0;a<this._motionData.curveCount;++a)if(t==i[a].id){i[a].fadeOutTime=r;return}}getParameterFadeInTime(t){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(t==r[i].id)return r[i].fadeInTime;return-1}getParameterFadeOutTime(t){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(t==r[i].id)return r[i].fadeOutTime;return-1}setEffectIds(t,r){this._eyeBlinkParameterIds=t,this._lipSyncParameterIds=r}release(){this._motionData=void 0}parse(t){this._motionData=new d8;let r=new P4(t);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount();const i=r.getEvaluationOptionFlag(I_.EvaluationOptionFlag_AreBeziersRistricted),a=r.getMotionFadeInTime(),o=r.getMotionFadeOutTime();a!==void 0?this._fadeInSeconds=a<0?1:a:this._fadeInSeconds=1,o!==void 0?this._fadeOutSeconds=o<0?1:o:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new c8),this._motionData.segments=Array.from({length:r.getMotionTotalSegmentCount()}).map(()=>new h8),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new f8),this._motionData.points=[];let s=0,l=0;for(let h=0;h<this._motionData.curveCount;++h){const d=this._motionData.curves[h];switch(r.getMotionCurveTarget(h)){case m8:d.type=ka.CubismMotionCurveTarget_Model;break;case g8:d.type=ka.CubismMotionCurveTarget_Parameter;break;case v8:d.type=ka.CubismMotionCurveTarget_PartOpacity;break;default:el('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}d.id=r.getMotionCurveId(h),d.baseSegmentIndex=l;const S=r.getMotionCurveFadeInTime(h),y=r.getMotionCurveFadeOutTime(h);d.fadeInTime=S!==void 0?S:-1,d.fadeOutTime=y!==void 0?y:-1;for(let E=0;E<r.getMotionCurveSegmentCount(h);){switch(E==0?(this._motionData.segments[l].basePointIndex=s,this._motionData.points[s]=new Gn(r.getMotionCurveSegment(h,E),r.getMotionCurveSegment(h,E+1)),s+=1,E+=2):this._motionData.segments[l].basePointIndex=s-1,r.getMotionCurveSegment(h,E)){case Zi.CubismMotionSegmentType_Linear:{this._motionData.segments[l].segmentType=Zi.CubismMotionSegmentType_Linear,this._motionData.segments[l].evaluate=b8,this._motionData.points[s]=new Gn(r.getMotionCurveSegment(h,E+1),r.getMotionCurveSegment(h,E+2)),s+=1,E+=3;break}case Zi.CubismMotionSegmentType_Bezier:{this._motionData.segments[l].segmentType=Zi.CubismMotionSegmentType_Bezier,i||y8?this._motionData.segments[l].evaluate=x8:this._motionData.segments[l].evaluate=S8,this._motionData.points[s]=new Gn(r.getMotionCurveSegment(h,E+1),r.getMotionCurveSegment(h,E+2)),this._motionData.points[s+1]=new Gn(r.getMotionCurveSegment(h,E+3),r.getMotionCurveSegment(h,E+4)),this._motionData.points[s+2]=new Gn(r.getMotionCurveSegment(h,E+5),r.getMotionCurveSegment(h,E+6)),s+=3,E+=7;break}case Zi.CubismMotionSegmentType_Stepped:{this._motionData.segments[l].segmentType=Zi.CubismMotionSegmentType_Stepped,this._motionData.segments[l].evaluate=T8,this._motionData.points[s]=new Gn(r.getMotionCurveSegment(h,E+1),r.getMotionCurveSegment(h,E+2)),s+=1,E+=3;break}case Zi.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[l].segmentType=Zi.CubismMotionSegmentType_InverseStepped,this._motionData.segments[l].evaluate=E8,this._motionData.points[s]=new Gn(r.getMotionCurveSegment(h,E+1),r.getMotionCurveSegment(h,E+2)),s+=1,E+=3;break}}++d.segmentCount,++l}this._motionData.curves.push(d)}for(let h=0;h<r.getEventCount();++h)this._motionData.events[h].fireTime=r.getEventTime(h),this._motionData.events[h].value=r.getEventValue(h);r.release()}getFiredEvent(t,r){this._firedEventValues.length=0;for(let i=0;i<this._motionData.eventCount;++i)this._motionData.events[i].fireTime>t&&this._motionData.events[i].fireTime<=r&&this._firedEventValues.push(this._motionData.events[i].value);return this._firedEventValues}}class I8 extends Jc{constructor(t,r){var i;super(t,r),this.groups={idle:"Idle"},this.motionDataType="json",this.queueManager=new I4,this.definitions=(i=t.motions)!=null?i:{},this.eyeBlinkIds=t.getEyeBlinkParameters()||[],this.lipSyncIds=t.getLipSyncParameters()||[],this.init(r)}init(t){super.init(t),this.settings.expressions&&(this.expressionManager=new u8(this.settings,t)),this.queueManager.setEventCallback((r,i,a)=>{this.emit("motion:"+i)})}isFinished(){return this.queueManager.isFinished()}_startMotion(t,r){return t.setFinishedMotionHandler(r),this.queueManager.stopAllMotions(),this.queueManager.startMotion(t,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(t,r,i){const a=A_.create(t),o=new P4(t),s=(r===this.groups.idle?xr.idleMotionFadingDuration:xr.motionFadingDuration)/1e3;return o.getMotionFadeInTime()===void 0&&a.setFadeInTime(i.FadeInTime>0?i.FadeInTime:s),o.getMotionFadeOutTime()===void 0&&a.setFadeOutTime(i.FadeOutTime>0?i.FadeOutTime:s),a.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),a}getMotionFile(t){return t.File}getMotionName(t){return t.File}getSoundFile(t){return t.Sound}updateParameters(t,r){return this.queueManager.doUpdateMotion(t,r)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const A8="ParamAngleX",P8="ParamAngleY",w8="ParamAngleZ",M8="ParamEyeBallX",O8="ParamEyeBallY",R8="ParamBodyAngleX",C8="ParamBreath";class P_{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new P_}setParameters(t){this._breathParameters=t}getParameters(){return this._breathParameters}updateParameters(t,r){this._currentTime+=r;const i=this._currentTime*2*3.14159;for(let a=0;a<this._breathParameters.length;++a){const o=this._breathParameters[a];t.addParameterValueById(o.parameterId,o.offset+o.peak*Math.sin(i/o.cycle),o.weight)}}}class Vs{constructor(t,r,i,a,o){this.parameterId=t??void 0,this.offset=r??0,this.peak=i??0,this.cycle=a??0,this.weight=o??0}}const Zd=class{static create(e){return new Zd(e)}setBlinkingInterval(e){this._blinkingIntervalSeconds=e}setBlinkingSetting(e,t,r){this._closingSeconds=e,this._closedSeconds=t,this._openingSeconds=r}setParameterIds(e){this._parameterIds=e}getParameterIds(){return this._parameterIds}updateParameters(e,t){this._userTimeSeconds+=t;let r,i=0;switch(this._blinkingState){case si.EyeState_Closing:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,i>=1&&(i=1,this._blinkingState=si.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-i;break;case si.EyeState_Closed:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,i>=1&&(this._blinkingState=si.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case si.EyeState_Opening:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,i>=1&&(i=1,this._blinkingState=si.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=i;break;case si.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=si.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case si.EyeState_First:default:this._blinkingState=si.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1;break}Zd.CloseIfZero||(r=-r);for(let a=0;a<this._parameterIds.length;++a)e.setParameterValueById(this._parameterIds[a],r)}constructor(e){var t,r;this._blinkingState=si.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],e!=null&&(this._parameterIds=(r=(t=e.getEyeBlinkParameters())==null?void 0:t.slice())!=null?r:this._parameterIds)}determinNextBlinkingTiming(){const e=Math.random();return this._userTimeSeconds+e*(2*this._blinkingIntervalSeconds-1)}};let w4=Zd;w4.CloseIfZero=!0;var si=(e=>(e[e.EyeState_First=0]="EyeState_First",e[e.EyeState_Interval=1]="EyeState_Interval",e[e.EyeState_Closing=2]="EyeState_Closing",e[e.EyeState_Closed=3]="EyeState_Closed",e[e.EyeState_Opening=4]="EyeState_Opening",e))(si||{});class qd{constructor(t=0,r=0,i=0,a=0){this.x=t,this.y=r,this.width=i,this.height=a}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}expand(t,r){this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2}}const cf=4,$8=10;let Eo,rl,tp;class ff{getChannelFlagAsColor(t){return this._channelColors[t]}getMaskRenderTexture(){let t=0;if(this._maskTexture&&this._maskTexture.texture!=0&&(this._maskTexture.frameNo=this._currentFrameNo,t=this._maskTexture.texture),t==0){const r=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,r,r,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),t=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,tp),this._maskTexture=new L8(this._currentFrameNo,t)}return t}setGL(t){this.gl=t}calcClippedDrawTotalBounds(t,r){let i=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE;const l=r._clippedDrawableIndexList.length;for(let h=0;h<l;h++){const d=r._clippedDrawableIndexList[h],S=t.getDrawableVertexCount(d),y=t.getDrawableVertices(d);let E=Number.MAX_VALUE,M=Number.MAX_VALUE,O=Number.MIN_VALUE,C=Number.MIN_VALUE;const N=S*uf.vertexStep;for(let $=uf.vertexOffset;$<N;$+=uf.vertexStep){const L=y[$],B=y[$+1];L<E&&(E=L),L>O&&(O=L),B<M&&(M=B),B>C&&(C=B)}if(E!=Number.MAX_VALUE)if(E<i&&(i=E),M<a&&(a=M),O>o&&(o=O),C>s&&(s=C),i==Number.MAX_VALUE)r._allClippedDrawRect.x=0,r._allClippedDrawRect.y=0,r._allClippedDrawRect.width=0,r._allClippedDrawRect.height=0,r._isUsing=!1;else{r._isUsing=!0;const $=o-i,L=s-a;r._allClippedDrawRect.x=i,r._allClippedDrawRect.y=a,r._allClippedDrawRect.width=$,r._allClippedDrawRect.height=L}}}constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new qd,this._tmpMatrix=new mi,this._tmpMatrixForMask=new mi,this._tmpMatrixForDraw=new mi;let t=new tl;t.R=1,t.G=0,t.B=0,t.A=0,this._channelColors.push(t),t=new tl,t.R=0,t.G=1,t.B=0,t.A=0,this._channelColors.push(t),t=new tl,t.R=0,t.G=0,t.B=1,t.A=0,this._channelColors.push(t),t=new tl,t.R=0,t.G=0,t.B=0,t.A=1,this._channelColors.push(t)}release(){var t,r,i;const a=this;for(let o=0;o<this._clippingContextListForMask.length;o++)this._clippingContextListForMask[o]&&((t=this._clippingContextListForMask[o])==null||t.release());a._clippingContextListForMask=void 0,a._clippingContextListForDraw=void 0,this._maskTexture&&((r=this.gl)==null||r.deleteFramebuffer(this._maskTexture.texture),a._maskTexture=void 0),a._channelColors=void 0,(i=this.gl)==null||i.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(t,r,i,a){for(let o=0;o<r;o++){if(a[o]<=0){this._clippingContextListForDraw.push(null);continue}let s=this.findSameClip(i[o],a[o]);s==null&&(s=new D8(this,i[o],a[o]),this._clippingContextListForMask.push(s)),s.addClippedDrawable(o),this._clippingContextListForDraw.push(s)}}setupClippingContext(t,r){this._currentFrameNo++;let i=0;for(let a=0;a<this._clippingContextListForMask.length;a++){const o=this._clippingContextListForMask[a];this.calcClippedDrawTotalBounds(t,o),o._isUsing&&i++}if(i>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),r.getMvpMatrix(),r.preDraw(),this.setupLayoutBounds(i),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let a=0;a<this._clippingContextListForMask.length;a++){const o=this._clippingContextListForMask[a],s=o._allClippedDrawRect,l=o._layoutBounds,h=.05;this._tmpBoundsOnModel.setRect(s),this._tmpBoundsOnModel.expand(s.width*h,s.height*h);const d=l.width/this._tmpBoundsOnModel.width,S=l.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(d,S),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(d,S),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),o._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),o._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const y=o._clippingIdCount;for(let E=0;E<y;E++){const M=o._clippingIdList[E];t.getDrawableDynamicFlagVertexPositionsDidChange(M)&&(r.setIsCulling(t.getDrawableCulling(M)!=!1),r.setClippingContextBufferForMask(o),r.drawMesh(t.getDrawableTextureIndices(M),t.getDrawableVertexIndexCount(M),t.getDrawableVertexCount(M),t.getDrawableVertexIndices(M),t.getDrawableVertices(M),t.getDrawableVertexUvs(M),t.getDrawableOpacity(M),ca.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,tp),r.setClippingContextBufferForMask(null),this.gl.viewport(rl[0],rl[1],rl[2],rl[3])}}findSameClip(t,r){for(let i=0;i<this._clippingContextListForMask.length;i++){const a=this._clippingContextListForMask[i],o=a._clippingIdCount;if(o!=r)continue;let s=0;for(let l=0;l<o;l++){const h=a._clippingIdList[l];for(let d=0;d<o;d++)if(t[d]==h){s++;break}}if(s==o)return a}return null}setupLayoutBounds(t){let r=t/cf,i=t%cf;r=~~r,i=~~i;let a=0;for(let o=0;o<cf;o++){const s=r+(o<i?1:0);if(s!=0)if(s==1){const l=this._clippingContextListForMask[a++];l._layoutChannelNo=o,l._layoutBounds.x=0,l._layoutBounds.y=0,l._layoutBounds.width=1,l._layoutBounds.height=1}else if(s==2)for(let l=0;l<s;l++){let h=l%2;h=~~h;const d=this._clippingContextListForMask[a++];d._layoutChannelNo=o,d._layoutBounds.x=h*.5,d._layoutBounds.y=0,d._layoutBounds.width=.5,d._layoutBounds.height=1}else if(s<=4)for(let l=0;l<s;l++){let h=l%2,d=l/2;h=~~h,d=~~d;const S=this._clippingContextListForMask[a++];S._layoutChannelNo=o,S._layoutBounds.x=h*.5,S._layoutBounds.y=d*.5,S._layoutBounds.width=.5,S._layoutBounds.height=.5}else if(s<=9)for(let l=0;l<s;l++){let h=l%3,d=l/3;h=~~h,d=~~d;const S=this._clippingContextListForMask[a++];S._layoutChannelNo=o,S._layoutBounds.x=h/3,S._layoutBounds.y=d/3,S._layoutBounds.width=1/3,S._layoutBounds.height=1/3}else if(Zl.supportMoreMaskDivisions&&s<=16)for(let l=0;l<s;l++){let h=l%4,d=l/4;h=~~h,d=~~d;const S=this._clippingContextListForMask[a++];S._layoutChannelNo=o,S._layoutBounds.x=h/4,S._layoutBounds.y=d/4,S._layoutBounds.width=1/4,S._layoutBounds.height=1/4}else wo("not supported mask count : {0}",s)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(t){this._clippingMaskBufferSize=t}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class L8{constructor(t,r){this.frameNo=t,this.texture=r}}class D8{constructor(t,r,i){this._isUsing=!1,this._owner=t,this._clippingIdList=r,this._clippingIdCount=i,this._allClippedDrawRect=new qd,this._layoutBounds=new qd,this._clippedDrawableIndexList=[],this._matrixForMask=new mi,this._matrixForDraw=new mi}release(){const t=this;t._layoutBounds=void 0,t._allClippedDrawRect=void 0,t._clippedDrawableIndexList=void 0}addClippedDrawable(t){this._clippedDrawableIndexList.push(t)}getClippingManager(){return this._owner}setGl(t){this._owner.setGL(t)}}class Zo{static getInstance(){return Eo==null&&(Eo=new Zo),Eo}static deleteInstance(){Eo&&(Eo.release(),Eo=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(t,r,i,a,o,s,l,h,d,S,y,E,M){y||wo("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let O,C,N,$;const L=t.getClippingContextBufferForMask();if(L!=null){const B=this._shaderSets[il.ShaderNames_SetupMask];this.gl.useProgram(B.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(B.samplerTexture0Location,0),l.vertex==null&&(l.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,l.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(B.attributePositionLocation),this.gl.vertexAttribPointer(B.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),l.uv==null&&(l.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,l.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(B.attributeTexCoordLocation),this.gl.vertexAttribPointer(B.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const G=L._layoutChannelNo,j=L.getClippingManager().getChannelFlagAsColor(G);this.gl.uniform4f(B.uniformChannelFlagLocation,j.R,j.G,j.B,j.A),this.gl.uniformMatrix4fv(B.uniformClipMatrixLocation,!1,L._matrixForMask.getArray());const z=L._layoutBounds;this.gl.uniform4f(B.uniformBaseColorLocation,z.x*2-1,z.y*2-1,z.getRight()*2-1,z.getBottom()*2-1),O=this.gl.ZERO,C=this.gl.ONE_MINUS_SRC_COLOR,N=this.gl.ZERO,$=this.gl.ONE_MINUS_SRC_ALPHA}else{const B=t.getClippingContextBufferForDraw(),G=B!=null?M?2:1:0;let j;switch(d){case ca.CubismBlendMode_Normal:default:j=this._shaderSets[il.ShaderNames_NormalPremultipliedAlpha+G],O=this.gl.ONE,C=this.gl.ONE_MINUS_SRC_ALPHA,N=this.gl.ONE,$=this.gl.ONE_MINUS_SRC_ALPHA;break;case ca.CubismBlendMode_Additive:j=this._shaderSets[il.ShaderNames_AddPremultipliedAlpha+G],O=this.gl.ONE,C=this.gl.ONE,N=this.gl.ZERO,$=this.gl.ONE;break;case ca.CubismBlendMode_Multiplicative:j=this._shaderSets[il.ShaderNames_MultPremultipliedAlpha+G],O=this.gl.DST_COLOR,C=this.gl.ONE_MINUS_SRC_ALPHA,N=this.gl.ZERO,$=this.gl.ONE;break}if(this.gl.useProgram(j.shaderProgram),l.vertex==null&&(l.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,l.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(j.attributePositionLocation),this.gl.vertexAttribPointer(j.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),l.uv==null&&(l.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,l.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(j.attributeTexCoordLocation),this.gl.vertexAttribPointer(j.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),B!=null){this.gl.activeTexture(this.gl.TEXTURE1);const z=B.getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,z),this.gl.uniform1i(j.samplerTexture1Location,1),this.gl.uniformMatrix4fv(j.uniformClipMatrixLocation,!1,B._matrixForDraw.getArray());const J=B._layoutChannelNo,Q=B.getClippingManager().getChannelFlagAsColor(J);this.gl.uniform4f(j.uniformChannelFlagLocation,Q.R,Q.G,Q.B,Q.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(j.samplerTexture0Location,0),this.gl.uniformMatrix4fv(j.uniformMatrixLocation,!1,E.getArray()),this.gl.uniform4f(j.uniformBaseColorLocation,S.R,S.G,S.B,S.A)}l.index==null&&(l.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,l.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(O,C,N,$)}releaseShaderProgram(){for(let t=0;t<this._shaderSets.length;t++)this.gl.deleteProgram(this._shaderSets[t].shaderProgram),this._shaderSets[t].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let t=0;t<$8;t++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(N8,F8),this._shaderSets[1].shaderProgram=this.loadShaderProgram(k8,B8),this._shaderSets[2].shaderProgram=this.loadShaderProgram(Zg,H8),this._shaderSets[3].shaderProgram=this.loadShaderProgram(Zg,U8),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor")}loadShaderProgram(t,r){let i=this.gl.createProgram(),a=this.compileShaderSource(this.gl.VERTEX_SHADER,t);if(!a)return wo("Vertex shader compile error!"),0;let o=this.compileShaderSource(this.gl.FRAGMENT_SHADER,r);return o?(this.gl.attachShader(i,a),this.gl.attachShader(i,o),this.gl.linkProgram(i),this.gl.getProgramParameter(i,this.gl.LINK_STATUS)?(this.gl.deleteShader(a),this.gl.deleteShader(o),i):(wo("Failed to link program: {0}",i),this.gl.deleteShader(a),this.gl.deleteShader(o),i&&this.gl.deleteProgram(i),0)):(wo("Vertex shader compile error!"),0)}compileShaderSource(t,r){const i=r,a=this.gl.createShader(t);if(this.gl.shaderSource(a,i),this.gl.compileShader(a),!a){const o=this.gl.getShaderInfoLog(a);wo("Shader compile log: {0} ",o)}return this.gl.getShaderParameter(a,this.gl.COMPILE_STATUS)?a:(this.gl.deleteShader(a),null)}setGl(t){this.gl=t}}var il=(e=>(e[e.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",e[e.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",e[e.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",e[e.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",e[e.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",e[e.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",e[e.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",e[e.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",e[e.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",e[e.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",e))(il||{});const N8="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",F8="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",k8="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Zg="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",B8="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",H8="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",U8="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class M4 extends T_{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new ff,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}initialize(t){t.isUsingMasking()&&(this._clippingManager=new ff,this._clippingManager.initialize(t,t.getDrawableCount(),t.getDrawableMasks(),t.getDrawableMaskCounts()));for(let r=t.getDrawableCount()-1;r>=0;r--)this._sortedDrawableIndexList[r]=0;super.initialize(t)}bindTexture(t,r){this._textures[t]=r}getBindedTextures(){return this._textures}setClippingMaskBufferSize(t){this._clippingManager.release(),this._clippingManager=new ff,this._clippingManager.setClippingMaskBufferSize(t),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){var t,r,i;const a=this;this._clippingManager.release(),a._clippingManager=void 0,(t=this.gl)==null||t.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(r=this.gl)==null||r.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(i=this.gl)==null||i.deleteBuffer(this._bufferData.index),this._bufferData.index=null,a._bufferData=void 0,a._textures=void 0}doDrawModel(){this.preDraw(),this._clippingManager!=null&&this._clippingManager.setupClippingContext(this.getModel(),this);const t=this.getModel().getDrawableCount(),r=this.getModel().getDrawableRenderOrders();for(let i=0;i<t;++i){const a=r[i];this._sortedDrawableIndexList[a]=i}for(let i=0;i<t;++i){const a=this._sortedDrawableIndexList[i];this.getModel().getDrawableDynamicFlagIsVisible(a)&&(this.setClippingContextBufferForDraw(this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[a]:null),this.setIsCulling(this.getModel().getDrawableCulling(a)),this.drawMesh(this.getModel().getDrawableTextureIndices(a),this.getModel().getDrawableVertexIndexCount(a),this.getModel().getDrawableVertexCount(a),this.getModel().getDrawableVertexIndices(a),this.getModel().getDrawableVertices(a),this.getModel().getDrawableVertexUvs(a),this.getModel().getDrawableOpacity(a),this.getModel().getDrawableBlendMode(a),this.getModel().getDrawableInvertedMaskBit(a)))}}drawMesh(t,r,i,a,o,s,l,h,d){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const S=this.getModelColor();this.getClippingContextBufferForMask()==null&&(S.A*=l,this.isPremultipliedAlpha()&&(S.R*=S.A,S.G*=S.A,S.B*=S.A));let y=null;this._textures[t]!=null&&(y=this._textures[t]),Zo.getInstance().setupShaderProgram(this,y,i,o,a,s,this._bufferData,l,h,S,this.isPremultipliedAlpha(),this.getMvpMatrix(),d),this.gl.drawElements(this.gl.TRIANGLES,r,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){Zo.deleteInstance()}setRenderState(t,r){tp=t,rl=r}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(t){this._clippingContextBufferForMask=t}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(t){this._clippingContextBufferForDraw=t}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(t){this.gl=t,this._clippingManager.setGL(t),Zo.getInstance().setGl(t)}}T_.staticRelease=()=>{M4.doStaticRelease()};const qg=new mi;class G8 extends _4{constructor(t,r,i){super(),this.lipSync=!0,this.breath=P_.create(),this.renderer=new M4,this.idParamAngleX=A8,this.idParamAngleY=P8,this.idParamAngleZ=w8,this.idParamEyeBallX=M8,this.idParamEyeBallY=O8,this.idParamBodyAngleX=R8,this.idParamBreath=C8,this.pixelsPerUnit=1,this.centeringTransform=new Re,this.coreModel=t,this.settings=r,this.motionManager=new I8(r,i),this.init()}init(){var t;super.init(),((t=this.settings.getEyeBlinkParameters())==null?void 0:t.length)>0&&(this.eyeBlink=w4.create(this.settings)),this.breath.setParameters([new Vs(this.idParamAngleX,0,15,6.5345,.5),new Vs(this.idParamAngleY,0,8,3.5345,.5),new Vs(this.idParamAngleZ,0,10,5.5345,.5),new Vs(this.idParamBodyAngleX,0,4,15.5345,.5),new Vs(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const t={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){const i=r.charAt(0).toLowerCase()+r.slice(1);t[i]=this.settings.layout[r]}return t}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(t,r){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(t),this.renderer._clippingManager._currentFrameNo=r,this.renderer._clippingManager._maskTexture=void 0,Zo.getInstance()._shaderSets=[]}bindTexture(t,r){this.renderer.bindTexture(t,r)}getHitAreaDefs(){var t,r;return(r=(t=this.settings.hitAreas)==null?void 0:t.map(i=>({id:i.Id,name:i.Name,index:this.coreModel.getDrawableIndex(i.Id)})))!=null?r:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(t){return this.coreModel.getDrawableIndex(t)}getDrawableVertices(t){if(typeof t=="string"&&(t=this.coreModel.getDrawableIndex(t),t===-1))throw new TypeError("Unable to find drawable ID: "+t);const r=this.coreModel.getDrawableVertices(t).slice();for(let i=0;i<r.length;i+=2)r[i]=r[i]*this.pixelsPerUnit+this.originalWidth/2,r[i+1]=-r[i+1]*this.pixelsPerUnit+this.originalHeight/2;return r}updateTransform(t){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(t)}update(t,r){var i,a,o,s;super.update(t,r),t/=1e3,r/=1e3;const l=this.coreModel;this.emit("beforeMotionUpdate");const h=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),l.saveParameters(),(i=this.motionManager.expressionManager)==null||i.update(l,r),h||(a=this.eyeBlink)==null||a.updateParameters(l,t),this.updateFocus(),this.updateNaturalMovements(t*1e3,r*1e3),(o=this.physics)==null||o.evaluate(l,t),(s=this.pose)==null||s.updateParameters(l,t),this.emit("beforeModelUpdate"),l.update(),l.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateNaturalMovements(t,r){var i;(i=this.breath)==null||i.updateParameters(this.coreModel,t/1e3)}draw(t){const r=this.drawingMatrix,i=qg.getArray();i[0]=r.a,i[1]=r.b,i[4]=-r.c,i[5]=-r.d,i[12]=r.tx,i[13]=r.ty,this.renderer.setMvpMatrix(qg),this.renderer.setRenderState(t.getParameter(t.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}let df,tv=20;function j8(){return ql.isStarted()?Promise.resolve():(df!=null||(df=new Promise((e,t)=>{function r(){try{X8(),e()}catch(i){if(tv--,tv<0){const a=new Error("Failed to start up Cubism 4 framework.");a.cause=i,t(a);return}ve.log("Cubism4","Startup failed, retrying 10ms later..."),setTimeout(r,10)}}r()})),df)}function X8(e){e=Object.assign({logFunction:console.log,loggingLevel:co.LogLevel_Verbose},e),ql.startUp(e),ql.initialize()}const V8=.001,ev=.5;class w_{static create(t){const r=new w_;typeof t.FadeInTime=="number"&&(r._fadeTimeSeconds=t.FadeInTime,r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=ev));const i=t.Groups,a=i.length;for(let o=0;o<a;++o){const s=i[o],l=s.length;let h=0;for(let d=0;d<l;++d){const S=s[d],y=new mc;y.partId=S.Id;const E=S.Link;if(E){const M=E.length;for(let O=0;O<M;++O){const C=new mc;C.partId=E[O],y.link.push(C)}}r._partGroups.push(y),++h}r._partGroupCounts.push(h)}return r}updateParameters(t,r){t!=this._lastModel&&this.reset(t),this._lastModel=t,r<0&&(r=0);let i=0;for(let a=0;a<this._partGroupCounts.length;a++){const o=this._partGroupCounts[a];this.doFade(t,r,i,o),i+=o}this.copyPartOpacities(t)}reset(t){let r=0;for(let i=0;i<this._partGroupCounts.length;++i){const a=this._partGroupCounts[i];for(let o=r;o<r+a;++o){this._partGroups[o].initialize(t);const s=this._partGroups[o].partIndex,l=this._partGroups[o].parameterIndex;if(!(s<0)){t.setPartOpacityByIndex(s,o==r?1:0),t.setParameterValueByIndex(l,o==r?1:0);for(let h=0;h<this._partGroups[o].link.length;++h)this._partGroups[o].link[h].initialize(t)}}r+=a}}copyPartOpacities(t){for(let r=0;r<this._partGroups.length;++r){const i=this._partGroups[r];if(i.link.length==0)continue;const a=this._partGroups[r].partIndex,o=t.getPartOpacityByIndex(a);for(let s=0;s<i.link.length;++s){const l=i.link[s].partIndex;l<0||t.setPartOpacityByIndex(l,o)}}}doFade(t,r,i,a){let o=-1,s=1;const l=.5,h=.15;for(let d=i;d<i+a;++d){const S=this._partGroups[d].partIndex,y=this._partGroups[d].parameterIndex;if(t.getParameterValueByIndex(y)>V8){if(o>=0)break;o=d,s=t.getPartOpacityByIndex(S),s+=r/this._fadeTimeSeconds,s>1&&(s=1)}}o<0&&(o=0,s=1);for(let d=i;d<i+a;++d){const S=this._partGroups[d].partIndex;if(o==d)t.setPartOpacityByIndex(S,s);else{let y=t.getPartOpacityByIndex(S),E;s<l?E=s*(l-1)/l+1:E=(1-s)*l/(1-l),(1-E)*(1-s)>h&&(E=1-h/(1-s)),y>E&&(y=E),t.setPartOpacityByIndex(S,y)}}}constructor(){this._fadeTimeSeconds=ev,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class mc{constructor(t){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],t!=null&&this.assignment(t)}assignment(t){return this.partId=t.partId,this.link=t.link.map(r=>r.clone()),this}initialize(t){this.parameterIndex=t.getParameterIndex(this.partId),this.partIndex=t.getPartIndex(this.partId),t.setParameterValueByIndex(this.parameterIndex,1)}clone(){const t=new mc;return t.partId=this.partId,t.parameterIndex=this.parameterIndex,t.partIndex=this.partIndex,t.link=this.link.map(r=>r.clone()),t}}class z8{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const t=this._model.parameters.count,r=this._savedParameters.length;for(let i=0;i<t;++i)i<r?this._savedParameters[i]=this._parameterValues[i]:this._savedParameters.push(this._parameterValues[i])}getModel(){return this._model}getPartIndex(t){let r;const i=this._model.parts.count;for(r=0;r<i;++r)if(t==this._partIds[r])return r;return t in this._notExistPartId?this._notExistPartId[t]:(r=i+this._notExistPartId.length,this._notExistPartId[t]=r,this._notExistPartOpacities[r]=0,r)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(t,r){if(t in this._notExistPartOpacities){this._notExistPartOpacities[t]=r;return}Zu(0<=t&&t<this.getPartCount()),this._partOpacities[t]=r}setPartOpacityById(t,r){const i=this.getPartIndex(t);i<0||this.setPartOpacityByIndex(i,r)}getPartOpacityByIndex(t){return t in this._notExistPartOpacities?this._notExistPartOpacities[t]:(Zu(0<=t&&t<this.getPartCount()),this._partOpacities[t])}getPartOpacityById(t){const r=this.getPartIndex(t);return r<0?0:this.getPartOpacityByIndex(r)}getParameterIndex(t){let r;const i=this._model.parameters.count;for(r=0;r<i;++r)if(t==this._parameterIds[r])return r;return t in this._notExistParameterId?this._notExistParameterId[t]:(r=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[t]=r,this._notExistParameterValues[r]=0,r)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(t){return this._model.parameters.maximumValues[t]}getParameterMinimumValue(t){return this._model.parameters.minimumValues[t]}getParameterDefaultValue(t){return this._model.parameters.defaultValues[t]}getParameterValueByIndex(t){return t in this._notExistParameterValues?this._notExistParameterValues[t]:(Zu(0<=t&&t<this.getParameterCount()),this._parameterValues[t])}getParameterValueById(t){const r=this.getParameterIndex(t);return this.getParameterValueByIndex(r)}setParameterValueByIndex(t,r,i=1){if(t in this._notExistParameterValues){this._notExistParameterValues[t]=i==1?r:this._notExistParameterValues[t]*(1-i)+r*i;return}Zu(0<=t&&t<this.getParameterCount()),this._model.parameters.maximumValues[t]<r&&(r=this._model.parameters.maximumValues[t]),this._model.parameters.minimumValues[t]>r&&(r=this._model.parameters.minimumValues[t]),this._parameterValues[t]=i==1?r:this._parameterValues[t]=this._parameterValues[t]*(1-i)+r*i}setParameterValueById(t,r,i=1){const a=this.getParameterIndex(t);this.setParameterValueByIndex(a,r,i)}addParameterValueByIndex(t,r,i=1){this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)+r*i)}addParameterValueById(t,r,i=1){const a=this.getParameterIndex(t);this.addParameterValueByIndex(a,r,i)}multiplyParameterValueById(t,r,i=1){const a=this.getParameterIndex(t);this.multiplyParameterValueByIndex(a,r,i)}multiplyParameterValueByIndex(t,r,i=1){this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)*(1+(r-1)*i))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(t){const r=this._model.drawables.count;for(let i=0;i<r;++i)if(this._drawableIds[i]==t)return i;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(t){return this._model.drawables.ids[t]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(t){return this._model.drawables.textureIndices[t]}getDrawableDynamicFlagVertexPositionsDidChange(t){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(r[t])}getDrawableVertexIndexCount(t){return this._model.drawables.indexCounts[t]}getDrawableVertexCount(t){return this._model.drawables.vertexCounts[t]}getDrawableVertices(t){return this.getDrawableVertexPositions(t)}getDrawableVertexIndices(t){return this._model.drawables.indices[t]}getDrawableVertexPositions(t){return this._model.drawables.vertexPositions[t]}getDrawableVertexUvs(t){return this._model.drawables.vertexUvs[t]}getDrawableOpacity(t){return this._model.drawables.opacities[t]}getDrawableCulling(t){const r=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(r[t])}getDrawableBlendMode(t){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(r[t])?ca.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(r[t])?ca.CubismBlendMode_Multiplicative:ca.CubismBlendMode_Normal}getDrawableInvertedMaskBit(t){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(r[t])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let t=0;t<this._model.drawables.count;++t)if(!(this._model.drawables.maskCounts[t]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(t){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(r[t])}getDrawableDynamicFlagVisibilityDidChange(t){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(r[t])}getDrawableDynamicFlagOpacityDidChange(t){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(r[t])}getDrawableDynamicFlagRenderOrderDidChange(t){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(r[t])}loadParameters(){let t=this._model.parameters.count;const r=this._savedParameters.length;t>r&&(t=r);for(let i=0;i<t;++i)this._parameterValues[i]=this._savedParameters[i]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const t=this._model.parameters.ids,r=this._model.parameters.count;for(let i=0;i<r;++i)this._parameterIds.push(t[i])}{const t=this._model.parts.ids,r=this._model.parts.count;for(let i=0;i<r;++i)this._partIds.push(t[i])}{const t=this._model.drawables.ids,r=this._model.drawables.count;for(let i=0;i<r;++i)this._drawableIds.push(t[i])}}constructor(t){this._model=t,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class M_{static create(t){const r=Live2DCubismCore.Moc.fromArrayBuffer(t);if(r)return new M_(r);throw new Error("Unknown error")}createModel(){let t;const r=Live2DCubismCore.Model.fromMoc(this._moc);if(r)return t=new z8(r),++this._modelCount,t;throw new Error("Unknown error")}deleteModel(t){t!=null&&--this._modelCount}constructor(t){this._moc=t,this._modelCount=0}release(){this._moc._release(),this._moc=void 0}}var ep=(e=>(e[e.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",e))(ep||{}),Ba=(e=>(e[e.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",e[e.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",e[e.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",e))(Ba||{});class J8{constructor(){this.initialPosition=new Ut(0,0),this.position=new Ut(0,0),this.lastPosition=new Ut(0,0),this.lastGravity=new Ut(0,0),this.force=new Ut(0,0),this.velocity=new Ut(0,0)}}class W8{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class Y8{constructor(){this.source={}}}class K8{constructor(){this.destination={},this.translationScale=new Ut(0,0)}}class Q8{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new Ut(0,0),this.wind=new Ut(0,0)}}class Z8{constructor(t){this._json=t}release(){this._json=void 0}getGravity(){const t=new Ut(0,0);return t.x=this._json.Meta.EffectiveForces.Gravity.X,t.y=this._json.Meta.EffectiveForces.Gravity.Y,t}getWind(){const t=new Ut(0,0);return t.x=this._json.Meta.EffectiveForces.Wind.X,t.y=this._json.Meta.EffectiveForces.Wind.Y,t}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(t){return this._json.PhysicsSettings[t].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(t){return this._json.PhysicsSettings[t].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(t){return this._json.PhysicsSettings[t].Normalization.Position.Default}getNormalizationAngleMinimumValue(t){return this._json.PhysicsSettings[t].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(t){return this._json.PhysicsSettings[t].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(t){return this._json.PhysicsSettings[t].Normalization.Angle.Default}getInputCount(t){return this._json.PhysicsSettings[t].Input.length}getInputWeight(t,r){return this._json.PhysicsSettings[t].Input[r].Weight}getInputReflect(t,r){return this._json.PhysicsSettings[t].Input[r].Reflect}getInputType(t,r){return this._json.PhysicsSettings[t].Input[r].Type}getInputSourceId(t,r){return this._json.PhysicsSettings[t].Input[r].Source.Id}getOutputCount(t){return this._json.PhysicsSettings[t].Output.length}getOutputVertexIndex(t,r){return this._json.PhysicsSettings[t].Output[r].VertexIndex}getOutputAngleScale(t,r){return this._json.PhysicsSettings[t].Output[r].Scale}getOutputWeight(t,r){return this._json.PhysicsSettings[t].Output[r].Weight}getOutputDestinationId(t,r){return this._json.PhysicsSettings[t].Output[r].Destination.Id}getOutputType(t,r){return this._json.PhysicsSettings[t].Output[r].Type}getOutputReflect(t,r){return this._json.PhysicsSettings[t].Output[r].Reflect}getParticleCount(t){return this._json.PhysicsSettings[t].Vertices.length}getParticleMobility(t,r){return this._json.PhysicsSettings[t].Vertices[r].Mobility}getParticleDelay(t,r){return this._json.PhysicsSettings[t].Vertices[r].Delay}getParticleAcceleration(t,r){return this._json.PhysicsSettings[t].Vertices[r].Acceleration}getParticleRadius(t,r){return this._json.PhysicsSettings[t].Vertices[r].Radius}getParticlePosition(t,r){const i=new Ut(0,0);return i.x=this._json.PhysicsSettings[t].Vertices[r].Position.X,i.y=this._json.PhysicsSettings[t].Vertices[r].Position.Y,i}}const rv="X",iv="Y",nv="Angle",q8=5,O4=100,t6=.001;class O_{static create(t){const r=new O_;return r.parse(t),r._physicsRig.gravity.y=0,r}evaluate(t,r){let i,a,o,s;const l=new Ut;let h,d,S,y,E,M,O,C;E=t.getModel().parameters.values,M=t.getModel().parameters.maximumValues,O=t.getModel().parameters.minimumValues,C=t.getModel().parameters.defaultValues;for(let N=0;N<this._physicsRig.subRigCount;++N){i={angle:0},l.x=0,l.y=0,h=this._physicsRig.settings[N],d=this._physicsRig.inputs.slice(h.baseInputIndex),S=this._physicsRig.outputs.slice(h.baseOutputIndex),y=this._physicsRig.particles.slice(h.baseParticleIndex);for(let $=0;$<h.inputCount;++$)a=d[$].weight/O4,d[$].sourceParameterIndex==-1&&(d[$].sourceParameterIndex=t.getParameterIndex(d[$].source.id)),d[$].getNormalizedParameterValue(l,i,E[d[$].sourceParameterIndex],O[d[$].sourceParameterIndex],M[d[$].sourceParameterIndex],C[d[$].sourceParameterIndex],h.normalizationPosition,h.normalizationAngle,d[$].reflect,a);o=xe.degreesToRadian(-i.angle),l.x=l.x*xe.cos(o)-l.y*xe.sin(o),l.y=l.x*xe.sin(o)+l.y*xe.cos(o),d6(y,h.particleCount,l,i.angle,this._options.wind,t6*h.normalizationPosition.maximum,r,q8);for(let $=0;$<h.outputCount;++$){const L=S[$].vertexIndex;if(L<1||L>=h.particleCount)break;S[$].destinationParameterIndex==-1&&(S[$].destinationParameterIndex=t.getParameterIndex(S[$].destination.id));const B=new Ut;B.x=y[L].position.x-y[L-1].position.x,B.y=y[L].position.y-y[L-1].position.y,s=S[$].getValue(B,y,L,S[$].reflect,this._options.gravity);const G=S[$].destinationParameterIndex,j=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(E.subarray(G))):E.slice(G);p6(j,O[G],M[G],s,S[$]);for(let z=G,J=0;z<E.length;z++,J++)E[z]=j[J]}}}setOptions(t){this._options=t}getOption(){return this._options}constructor(){this._options=new e6,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}release(){this._physicsRig=void 0}parse(t){this._physicsRig=new Q8;let r=new Z8(t);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount();let i=0,a=0,o=0;for(let s=0;s<this._physicsRig.subRigCount;++s){const l=new W8;l.normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(s),l.normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(s),l.normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(s),l.normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(s),l.normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(s),l.normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(s),l.inputCount=r.getInputCount(s),l.baseInputIndex=i,i+=l.inputCount;for(let h=0;h<l.inputCount;++h){const d=new Y8;switch(d.sourceParameterIndex=-1,d.weight=r.getInputWeight(s,h),d.reflect=r.getInputReflect(s,h),r.getInputType(s,h)){case rv:d.type=Ba.CubismPhysicsSource_X,d.getNormalizedParameterValue=r6;break;case iv:d.type=Ba.CubismPhysicsSource_Y,d.getNormalizedParameterValue=i6;break;case nv:d.type=Ba.CubismPhysicsSource_Angle,d.getNormalizedParameterValue=n6;break}d.source.targetType=ep.CubismPhysicsTargetType_Parameter,d.source.id=r.getInputSourceId(s,h),this._physicsRig.inputs.push(d)}l.outputCount=r.getOutputCount(s),l.baseOutputIndex=a,a+=l.outputCount;for(let h=0;h<l.outputCount;++h){const d=new K8;switch(d.destinationParameterIndex=-1,d.vertexIndex=r.getOutputVertexIndex(s,h),d.angleScale=r.getOutputAngleScale(s,h),d.weight=r.getOutputWeight(s,h),d.destination.targetType=ep.CubismPhysicsTargetType_Parameter,d.destination.id=r.getOutputDestinationId(s,h),r.getOutputType(s,h)){case rv:d.type=Ba.CubismPhysicsSource_X,d.getValue=a6,d.getScale=h6;break;case iv:d.type=Ba.CubismPhysicsSource_Y,d.getValue=o6,d.getScale=c6;break;case nv:d.type=Ba.CubismPhysicsSource_Angle,d.getValue=s6,d.getScale=f6;break}d.reflect=r.getOutputReflect(s,h),this._physicsRig.outputs.push(d)}l.particleCount=r.getParticleCount(s),l.baseParticleIndex=o,o+=l.particleCount;for(let h=0;h<l.particleCount;++h){const d=new J8;d.mobility=r.getParticleMobility(s,h),d.delay=r.getParticleDelay(s,h),d.acceleration=r.getParticleAcceleration(s,h),d.radius=r.getParticleRadius(s,h),d.position=r.getParticlePosition(s,h),this._physicsRig.particles.push(d)}this._physicsRig.settings.push(l)}this.initialize(),r.release()}initialize(){let t,r,i;for(let a=0;a<this._physicsRig.subRigCount;++a){r=this._physicsRig.settings[a],t=this._physicsRig.particles.slice(r.baseParticleIndex),t[0].initialPosition=new Ut(0,0),t[0].lastPosition=new Ut(t[0].initialPosition.x,t[0].initialPosition.y),t[0].lastGravity=new Ut(0,-1),t[0].lastGravity.y*=-1,t[0].velocity=new Ut(0,0),t[0].force=new Ut(0,0);for(let o=1;o<r.particleCount;++o)i=new Ut(0,0),i.y=t[o].radius,t[o].initialPosition=new Ut(t[o-1].initialPosition.x+i.x,t[o-1].initialPosition.y+i.y),t[o].position=new Ut(t[o].initialPosition.x,t[o].initialPosition.y),t[o].lastPosition=new Ut(t[o].initialPosition.x,t[o].initialPosition.y),t[o].lastGravity=new Ut(0,-1),t[o].lastGravity.y*=-1,t[o].velocity=new Ut(0,0),t[o].force=new Ut(0,0)}}}class e6{constructor(){this.gravity=new Ut(0,0),this.wind=new Ut(0,0)}}function r6(e,t,r,i,a,o,s,l,h,d){e.x+=R_(r,i,a,o,s.minimum,s.maximum,s.defalut,h)*d}function i6(e,t,r,i,a,o,s,l,h,d){e.y+=R_(r,i,a,o,s.minimum,s.maximum,s.defalut,h)*d}function n6(e,t,r,i,a,o,s,l,h,d){t.angle+=R_(r,i,a,o,l.minimum,l.maximum,l.defalut,h)*d}function a6(e,t,r,i,a){let o=e.x;return i&&(o*=-1),o}function o6(e,t,r,i,a){let o=e.y;return i&&(o*=-1),o}function s6(e,t,r,i,a){let o;return r>=2?a=t[r-1].position.substract(t[r-2].position):a=a.multiplyByScaler(-1),o=xe.directionToRadian(a,e),i&&(o*=-1),o}function l6(e,t){return Math.abs(Math.max(e,t)-Math.min(e,t))}function u6(e,t){return Math.min(e,t)+l6(e,t)/2}function h6(e,t){return e.x}function c6(e,t){return e.y}function f6(e,t){return t}function d6(e,t,r,i,a,o,s,l){let h,d,S,y,E=new Ut(0,0),M=new Ut(0,0),O=new Ut(0,0),C=new Ut(0,0);e[0].position=new Ut(r.x,r.y),h=xe.degreesToRadian(i),y=xe.radianToDirection(h),y.normalize();for(let N=1;N<t;++N)e[N].force=y.multiplyByScaler(e[N].acceleration).add(a),e[N].lastPosition=new Ut(e[N].position.x,e[N].position.y),d=e[N].delay*s*30,E=e[N].position.substract(e[N-1].position),S=xe.directionToRadian(e[N].lastGravity,y)/l,E.x=xe.cos(S)*E.x-E.y*xe.sin(S),E.y=xe.sin(S)*E.x+E.y*xe.cos(S),e[N].position=e[N-1].position.add(E),M=e[N].velocity.multiplyByScaler(d),O=e[N].force.multiplyByScaler(d).multiplyByScaler(d),e[N].position=e[N].position.add(M).add(O),C=e[N].position.substract(e[N-1].position),C.normalize(),e[N].position=e[N-1].position.add(C.multiplyByScaler(e[N].radius)),xe.abs(e[N].position.x)<o&&(e[N].position.x=0),d!=0&&(e[N].velocity=e[N].position.substract(e[N].lastPosition),e[N].velocity=e[N].velocity.divisionByScalar(d),e[N].velocity=e[N].velocity.multiplyByScaler(e[N].mobility)),e[N].force=new Ut(0,0),e[N].lastGravity=new Ut(y.x,y.y)}function p6(e,t,r,i,a){let o,s,l;o=a.getScale(a.translationScale,a.angleScale),s=i*o,s<t?(s<a.valueBelowMinimum&&(a.valueBelowMinimum=s),s=t):s>r&&(s>a.valueExceededMaximum&&(a.valueExceededMaximum=s),s=r),l=a.weight/O4,l>=1||(s=e[0]*(1-l)+s*l),e[0]=s}function R_(e,t,r,i,a,o,s,l){let h=0;const d=xe.max(r,t);d<e&&(e=d);const S=xe.min(r,t);S>e&&(e=S);const y=xe.min(a,o),E=xe.max(a,o),M=s,O=u6(S,d),C=e-O;switch(Math.sign(C)){case 1:{const N=E-M,$=d-O;$!=0&&(h=C*(N/$),h+=M);break}case-1:{const N=y-M,$=S-O;$!=0&&(h=C*(N/$),h+=M);break}case 0:{h=M;break}}return l?h:h*-1}Ce.registerRuntime({version:4,ready:j8,test(e){return e instanceof Qo||Qo.isValidJSON(e)},isValidMoc(e){if(e.byteLength<4)return!1;const t=new Int8Array(e,0,4);return String.fromCharCode(...t)==="MOC3"},createModelSettings(e){return new Qo(e)},createCoreModel(e){const t=M_.create(e);try{const r=t.createModel();return r.__moc=t,r}catch(r){try{t.release()}catch{}throw r}},createInternalModel(e,t,r){const i=new G8(e,t,r),a=e;return a.__moc&&(i.__moc=a.__moc,delete a.__moc,i.once("destroy",_6)),i},createPhysics(e,t){return O_.create(t)},createPose(e,t){return w_.create(t)}});function _6(){var e;(e=this.__moc)==null||e.release()}/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rn;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(rn||(rn={}));var An;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(An||(An={}));var hs={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},C_=function(){function e(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rp=function(e,t){return rp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},rp(e,t)};function $_(e,t){rp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function av(e,t){var r,i;t===void 0&&(t=!1);var a=e.length;if(!(a<6)){for(var o=0,s=0,l=e[a-2],h=e[a-1];s<a;s+=2){var d=e[s],S=e[s+1];o+=(d-l)*(S+h),l=d,h=S}if(!t&&o>0||t&&o<=0)for(var y=a/2,s=y+y%2;s<a;s+=2){var E=a-s-2,M=a-s-1,O=s,C=s+1;r=[e[O],e[E]],e[E]=r[0],e[O]=r[1],i=[e[C],e[M]],e[M]=i[0],e[C]=i[1]}}}var L_={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,i=e.holes,a=t.points,o=t.indices;if(r.length>=6){av(r,!1);for(var s=[],l=0;l<i.length;l++){var h=i[l];av(h.points,!0),s.push(r.length/2),r=r.concat(h.points)}var d=C2(r,s,2);if(!d)return;for(var S=a.length/2,l=0;l<d.length;l+=3)o.push(d[l]+S),o.push(d[l+1]+S),o.push(d[l+2]+S);for(var l=0;l<r.length;l++)a.push(r[l])}}},tu={build:function(e){var t=e.points,r,i,a,o,s,l;if(e.type===ur.CIRC){var h=e.shape;r=h.x,i=h.y,s=l=h.radius,a=o=0}else if(e.type===ur.ELIP){var d=e.shape;r=d.x,i=d.y,s=d.width,l=d.height,a=o=0}else{var S=e.shape,y=S.width/2,E=S.height/2;r=S.x+y,i=S.y+E,s=l=Math.max(0,Math.min(S.radius,Math.min(y,E))),a=y-s,o=E-l}if(!(s>=0&&l>=0&&a>=0&&o>=0)){t.length=0;return}var M=Math.ceil(2.3*Math.sqrt(s+l)),O=M*8+(a?4:0)+(o?4:0);if(t.length=O,O!==0){if(M===0){t.length=8,t[0]=t[6]=r+a,t[1]=t[3]=i+o,t[2]=t[4]=r-a,t[5]=t[7]=i-o;return}var C=0,N=M*4+(a?2:0)+2,$=N,L=O;{var B=a+s,G=o,j=r+B,z=r-B,J=i+G;if(t[C++]=j,t[C++]=J,t[--N]=J,t[--N]=z,o){var Q=i-G;t[$++]=z,t[$++]=Q,t[--L]=Q,t[--L]=j}}for(var tt=1;tt<M;tt++){var Z=Math.PI/2*(tt/M),B=a+Math.cos(Z)*s,G=o+Math.sin(Z)*l,j=r+B,z=r-B,J=i+G,Q=i-G;t[C++]=j,t[C++]=J,t[--N]=J,t[--N]=z,t[$++]=z,t[$++]=Q,t[--L]=Q,t[--L]=j}{var B=a,G=o+l,j=r+B,z=r-B,J=i+G,Q=i-G;t[C++]=j,t[C++]=J,t[--L]=Q,t[--L]=j,a&&(t[C++]=z,t[C++]=J,t[--L]=Q,t[--L]=z)}}},triangulate:function(e,t){var r=e.points,i=t.points,a=t.indices;if(r.length!==0){var o=i.length/2,s=o,l,h;if(e.type!==ur.RREC){var d=e.shape;l=d.x,h=d.y}else{var S=e.shape;l=S.x+S.width/2,h=S.y+S.height/2}var y=e.matrix;i.push(e.matrix?y.a*l+y.c*h+y.tx:l,e.matrix?y.b*l+y.d*h+y.ty:h),o++,i.push(r[0],r[1]);for(var E=2;E<r.length;E+=2)i.push(r[E],r[E+1]),a.push(o++,s,o);a.push(s+1,s,o)}}},R4={build:function(e){var t=e.shape,r=t.x,i=t.y,a=t.width,o=t.height,s=e.points;s.length=0,s.push(r,i,r+a,i,r+a,i+o,r,i+o)},triangulate:function(e,t){var r=e.points,i=t.points,a=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(a,a+1,a+2,a+1,a+2,a+3)}};function Io(e,t,r){var i=t-e;return e+i*r}function qu(e,t,r,i,a,o,s){s===void 0&&(s=[]);for(var l=20,h=s,d=0,S=0,y=0,E=0,M=0,O=0,C=0,N=0;C<=l;++C)N=C/l,d=Io(e,r,N),S=Io(t,i,N),y=Io(r,a,N),E=Io(i,o,N),M=Io(d,y,N),O=Io(S,E,N),!(C===0&&h[h.length-2]===M&&h[h.length-1]===O)&&h.push(M,O);return h}var C4={build:function(e){if(cs.nextRoundedRectBehavior){tu.build(e);return}var t=e.shape,r=e.points,i=t.x,a=t.y,o=t.width,s=t.height,l=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));r.length=0,l?(qu(i,a+l,i,a,i+l,a,r),qu(i+o-l,a,i+o,a,i+o,a+l,r),qu(i+o,a+s-l,i+o,a+s,i+o-l,a+s,r),qu(i+l,a+s,i,a+s,i,a+s-l,r)):r.push(i,a,i+o,a,i+o,a+s,i,a+s)},triangulate:function(e,t){if(cs.nextRoundedRectBehavior){tu.triangulate(e,t);return}for(var r=e.points,i=t.points,a=t.indices,o=i.length/2,s=C2(r,null,2),l=0,h=s.length;l<h;l+=3)a.push(s[l]+o),a.push(s[l+1]+o),a.push(s[l+2]+o);for(var l=0,h=r.length;l<h;l++)i.push(r[l],r[++l])}};function ov(e,t,r,i,a,o,s,l){var h=e-r*a,d=t-i*a,S=e+r*o,y=t+i*o,E,M;s?(E=i,M=-r):(E=-i,M=r);var O=h+E,C=d+M,N=S+E,$=y+M;return l.push(O,C),l.push(N,$),2}function wa(e,t,r,i,a,o,s,l){var h=r-e,d=i-t,S=Math.atan2(h,d),y=Math.atan2(a-e,o-t);l&&S<y?S+=Math.PI*2:!l&&S>y&&(y+=Math.PI*2);var E=S,M=y-S,O=Math.abs(M),C=Math.sqrt(h*h+d*d),N=(15*O*Math.sqrt(C)/Math.PI>>0)+1,$=M/N;if(E+=$,l){s.push(e,t),s.push(r,i);for(var L=1,B=E;L<N;L++,B+=$)s.push(e,t),s.push(e+Math.sin(B)*C,t+Math.cos(B)*C);s.push(e,t),s.push(a,o)}else{s.push(r,i),s.push(e,t);for(var L=1,B=E;L<N;L++,B+=$)s.push(e+Math.sin(B)*C,t+Math.cos(B)*C),s.push(e,t);s.push(a,o),s.push(e,t)}return N*2}function m6(e,t){var r=e.shape,i=e.points||r.points.slice(),a=t.closePointEps;if(i.length!==0){var o=e.lineStyle,s=new ye(i[0],i[1]),l=new ye(i[i.length-2],i[i.length-1]),h=r.type!==ur.POLY||r.closeStroke,d=Math.abs(s.x-l.x)<a&&Math.abs(s.y-l.y)<a;if(h){i=i.slice(),d&&(i.pop(),i.pop(),l.set(i[i.length-2],i[i.length-1]));var S=(s.x+l.x)*.5,y=(l.y+s.y)*.5;i.unshift(S,y),i.push(S,y)}var E=t.points,M=i.length/2,O=i.length,C=E.length/2,N=o.width/2,$=N*N,L=o.miterLimit*o.miterLimit,B=i[0],G=i[1],j=i[2],z=i[3],J=0,Q=0,tt=-(G-z),Z=B-j,lt=0,bt=0,Mt=Math.sqrt(tt*tt+Z*Z);tt/=Mt,Z/=Mt,tt*=N,Z*=N;var Gt=o.alignment,mt=(1-Gt)*2,pt=Gt*2;h||(o.cap===An.ROUND?O+=wa(B-tt*(mt-pt)*.5,G-Z*(mt-pt)*.5,B-tt*mt,G-Z*mt,B+tt*pt,G+Z*pt,E,!0)+2:o.cap===An.SQUARE&&(O+=ov(B,G,tt,Z,mt,pt,!0,E))),E.push(B-tt*mt,G-Z*mt),E.push(B+tt*pt,G+Z*pt);for(var Dt=1;Dt<M-1;++Dt){B=i[(Dt-1)*2],G=i[(Dt-1)*2+1],j=i[Dt*2],z=i[Dt*2+1],J=i[(Dt+1)*2],Q=i[(Dt+1)*2+1],tt=-(G-z),Z=B-j,Mt=Math.sqrt(tt*tt+Z*Z),tt/=Mt,Z/=Mt,tt*=N,Z*=N,lt=-(z-Q),bt=j-J,Mt=Math.sqrt(lt*lt+bt*bt),lt/=Mt,bt/=Mt,lt*=N,bt*=N;var ut=j-B,gt=G-z,et=j-J,it=Q-z,Rt=ut*et+gt*it,Jt=gt*et-it*ut,zt=Jt<0;if(Math.abs(Jt)<.001*Math.abs(Rt)){E.push(j-tt*mt,z-Z*mt),E.push(j+tt*pt,z+Z*pt),Rt>=0&&(o.join===rn.ROUND?O+=wa(j,z,j-tt*mt,z-Z*mt,j-lt*mt,z-bt*mt,E,!1)+4:O+=2,E.push(j-lt*pt,z-bt*pt),E.push(j+lt*mt,z+bt*mt));continue}var de=(-tt+B)*(-Z+z)-(-tt+j)*(-Z+G),Qt=(-lt+J)*(-bt+z)-(-lt+j)*(-bt+Q),ue=(ut*Qt-et*de)/Jt,je=(it*de-gt*Qt)/Jt,rr=(ue-j)*(ue-j)+(je-z)*(je-z),Pe=j+(ue-j)*mt,Zt=z+(je-z)*mt,he=j-(ue-j)*pt,ce=z-(je-z)*pt,Yt=Math.min(ut*ut+gt*gt,et*et+it*it),ir=zt?mt:pt,Y=Yt+ir*ir*$,ae=rr<=Y;ae?o.join===rn.BEVEL||rr/$>L?(zt?(E.push(Pe,Zt),E.push(j+tt*pt,z+Z*pt),E.push(Pe,Zt),E.push(j+lt*pt,z+bt*pt)):(E.push(j-tt*mt,z-Z*mt),E.push(he,ce),E.push(j-lt*mt,z-bt*mt),E.push(he,ce)),O+=2):o.join===rn.ROUND?zt?(E.push(Pe,Zt),E.push(j+tt*pt,z+Z*pt),O+=wa(j,z,j+tt*pt,z+Z*pt,j+lt*pt,z+bt*pt,E,!0)+4,E.push(Pe,Zt),E.push(j+lt*pt,z+bt*pt)):(E.push(j-tt*mt,z-Z*mt),E.push(he,ce),O+=wa(j,z,j-tt*mt,z-Z*mt,j-lt*mt,z-bt*mt,E,!1)+4,E.push(j-lt*mt,z-bt*mt),E.push(he,ce)):(E.push(Pe,Zt),E.push(he,ce)):(E.push(j-tt*mt,z-Z*mt),E.push(j+tt*pt,z+Z*pt),o.join===rn.ROUND?zt?O+=wa(j,z,j+tt*pt,z+Z*pt,j+lt*pt,z+bt*pt,E,!0)+2:O+=wa(j,z,j-tt*mt,z-Z*mt,j-lt*mt,z-bt*mt,E,!1)+2:o.join===rn.MITER&&rr/$<=L&&(zt?(E.push(he,ce),E.push(he,ce)):(E.push(Pe,Zt),E.push(Pe,Zt)),O+=2),E.push(j-lt*mt,z-bt*mt),E.push(j+lt*pt,z+bt*pt),O+=2)}B=i[(M-2)*2],G=i[(M-2)*2+1],j=i[(M-1)*2],z=i[(M-1)*2+1],tt=-(G-z),Z=B-j,Mt=Math.sqrt(tt*tt+Z*Z),tt/=Mt,Z/=Mt,tt*=N,Z*=N,E.push(j-tt*mt,z-Z*mt),E.push(j+tt*pt,z+Z*pt),h||(o.cap===An.ROUND?O+=wa(j-tt*(mt-pt)*.5,z-Z*(mt-pt)*.5,j-tt*mt,z-Z*mt,j+tt*pt,z+Z*pt,E,!1)+2:o.cap===An.SQUARE&&(O+=ov(j,z,tt,Z,mt,pt,!1,E)));for(var ii=t.indices,fn=hs.epsilon*hs.epsilon,Dt=C;Dt<O+C-2;++Dt)B=E[Dt*2],G=E[Dt*2+1],j=E[(Dt+1)*2],z=E[(Dt+1)*2+1],J=E[(Dt+2)*2],Q=E[(Dt+2)*2+1],!(Math.abs(B*(z-Q)+j*(Q-G)+J*(G-z))<fn)&&ii.push(Dt,Dt+1,Dt+2)}}function g6(e,t){var r=0,i=e.shape,a=e.points||i.points,o=i.type!==ur.POLY||i.closeStroke;if(a.length!==0){var s=t.points,l=t.indices,h=a.length/2,d=s.length/2,S=d;for(s.push(a[0],a[1]),r=1;r<h;r++)s.push(a[r*2],a[r*2+1]),l.push(S,S+1),S++;o&&l.push(S,d)}}function ip(e,t){e.lineStyle.native?g6(e,t):m6(e,t)}var np=function(){function e(){}return e.curveTo=function(t,r,i,a,o,s){var l=s[s.length-2],h=s[s.length-1],d=h-r,S=l-t,y=a-r,E=i-t,M=Math.abs(d*E-S*y);if(M<1e-8||o===0)return(s[s.length-2]!==t||s[s.length-1]!==r)&&s.push(t,r),null;var O=d*d+S*S,C=y*y+E*E,N=d*y+S*E,$=o*Math.sqrt(O)/M,L=o*Math.sqrt(C)/M,B=$*N/O,G=L*N/C,j=$*E+L*S,z=$*y+L*d,J=S*(L+B),Q=d*(L+B),tt=E*($+G),Z=y*($+G),lt=Math.atan2(Q-z,J-j),bt=Math.atan2(Z-z,tt-j);return{cx:j+t,cy:z+r,radius:o,startAngle:lt,endAngle:bt,anticlockwise:S*y>E*d}},e.arc=function(t,r,i,a,o,s,l,h,d){for(var S=l-s,y=hs._segmentsCount(Math.abs(S)*o,Math.ceil(Math.abs(S)/Yl)*40),E=S/(y*2),M=E*2,O=Math.cos(E),C=Math.sin(E),N=y-1,$=N%1/N,L=0;L<=N;++L){var B=L+$*L,G=E+s+M*B,j=Math.cos(G),z=-Math.sin(G);d.push((O*j+C*z)*o+i,(O*-z+C*j)*o+a)}},e}(),$4=function(){function e(){}return e.curveLength=function(t,r,i,a,o,s,l,h){for(var d=10,S=0,y=0,E=0,M=0,O=0,C=0,N=0,$=0,L=0,B=0,G=0,j=t,z=r,J=1;J<=d;++J)y=J/d,E=y*y,M=E*y,O=1-y,C=O*O,N=C*O,$=N*t+3*C*y*i+3*O*E*o+M*l,L=N*r+3*C*y*a+3*O*E*s+M*h,B=j-$,G=z-L,j=$,z=L,S+=Math.sqrt(B*B+G*G);return S},e.curveTo=function(t,r,i,a,o,s,l){var h=l[l.length-2],d=l[l.length-1];l.length-=2;var S=hs._segmentsCount(e.curveLength(h,d,t,r,i,a,o,s)),y=0,E=0,M=0,O=0,C=0;l.push(h,d);for(var N=1,$=0;N<=S;++N)$=N/S,y=1-$,E=y*y,M=E*y,O=$*$,C=O*$,l.push(M*h+3*E*$*t+3*y*O*i+C*o,M*d+3*E*$*r+3*y*O*a+C*s)},e}(),L4=function(){function e(){}return e.curveLength=function(t,r,i,a,o,s){var l=t-2*i+o,h=r-2*a+s,d=2*i-2*t,S=2*a-2*r,y=4*(l*l+h*h),E=4*(l*d+h*S),M=d*d+S*S,O=2*Math.sqrt(y+E+M),C=Math.sqrt(y),N=2*y*C,$=2*Math.sqrt(M),L=E/C;return(N*O+C*E*(O-$)+(4*M*y-E*E)*Math.log((2*C+L+O)/(L+$)))/(4*N)},e.curveTo=function(t,r,i,a,o){for(var s=o[o.length-2],l=o[o.length-1],h=hs._segmentsCount(e.curveLength(s,l,t,r,i,a)),d=0,S=0,y=1;y<=h;++y){var E=y/h;d=s+(t-s)*E,S=l+(r-l)*E,o.push(d+(t+(i-t)*E-d)*E,S+(r+(a-r)*E-S)*E)}},e}(),D4=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,i){this.reset(),this.style=t,this.start=r,this.attribStart=i},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Ma,Mh=(Ma={},Ma[ur.POLY]=L_,Ma[ur.CIRC]=tu,Ma[ur.ELIP]=tu,Ma[ur.RECT]=R4,Ma[ur.RREC]=C4,Ma),ap=[],nl=[],op=function(){function e(t,r,i,a){r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=r,this.matrix=a,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Ao=new ye,N4=function(e){$_(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Ql,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),nl.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var i=this.batches[r];i.reset(),ap.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,i,a,o){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null);var s=new op(r,i,a,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(r,i){if(i===void 0&&(i=null),!this.graphicsData.length)return null;var a=new op(r,null,null,i),o=this.graphicsData[this.graphicsData.length-1];return a.lineStyle=o.lineStyle,o.holes.push(a),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var i=this.graphicsData,a=0;a<i.length;++a){var o=i[a];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,Ao):Ao.copyFrom(r),o.shape.contains(Ao.x,Ao.y))){var s=!1;if(o.holes)for(var l=0;l<o.holes.length;l++){var h=o.holes[l];if(h.shape.contains(Ao.x,Ao.y)){s=!0;break}}if(!s)return!0}}return!1},t.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var l=i[s],h=l.fillStyle,d=l.lineStyle,S=Mh[l.type];S.build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(h.visible||d.visible)&&this.processHoles(l.holes);for(var y=0;y<2;y++){var E=y===0?h:d;if(E.visible){var M=E.texture.baseTexture,O=this.indices.length,C=this.points.length/2;M.wrapMode=ki.REPEAT,y===0?this.processFill(l):this.processLine(l);var N=this.points.length/2-C;N!==0&&(a&&!this._compareStyles(o,E)&&(a.end(O,C),a=null),a||(a=ap.pop()||new D4,a.begin(E,O,C),this.batches.push(a),o=E),this.addUvs(this.points,r,E.texture,C,N,E.matrix))}}}var $=this.indices.length,L=this.points.length/2;if(a&&a.end($,L),this.batches.length===0){this.batchable=!0;return}var B=L>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&B===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=B?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,i){return!(!r||!i||r.texture.baseTexture!==i.texture.baseTexture||r.color+r.alpha!==i.color+i.alpha||!!r.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,i=this.graphicsData.length;r<i;r++){var a=this.graphicsData[r],o=a.fillStyle,s=a.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,i=0,a=r.length;i<a;i++)for(var o=r[i],s=0;s<o.size;s++){var l=o.start+s;this.indicesUint16[l]=this.indicesUint16[l]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,i=0;i<r.length;i++)if(r[i].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++ne._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),nl.push(this.drawCalls[i]);this.drawCalls.length=0;var a=this.colors,o=this.textureIds,s=nl.pop();s||(s=new fc,s.texArray=new dc),s.texArray.count=0,s.start=0,s.size=0,s.type=pi.TRIANGLES;var l=0,h=null,d=0,S=!1,y=pi.TRIANGLES,E=0;this.drawCalls.push(s);for(var i=0;i<this.batches.length;i++){var M=this.batches[i],O=8,C=M.style,N=C.texture.baseTexture;S!==!!C.native&&(S=!!C.native,y=S?pi.LINES:pi.TRIANGLES,h=null,l=O,r++),h!==N&&(h=N,N._batchEnabled!==r&&(l===O&&(r++,l=0,s.size>0&&(s=nl.pop(),s||(s=new fc,s.texArray=new dc),this.drawCalls.push(s)),s.start=E,s.size=0,s.texArray.count=0,s.type=y),N.touched=1,N._batchEnabled=r,N._batchLocation=l,N.wrapMode=ki.REPEAT,s.texArray.elements[s.texArray.count++]=N,l++)),s.size+=M.size,E+=M.size,d=N._batchLocation,this.addColors(a,C.color,C.alpha,M.attribSize,M.attribStart),this.addTextureIds(o,d,M.attribSize,M.attribStart)}ne._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,i=this.uvs,a=this.colors,o=this.textureIds,s=new ArrayBuffer(r.length*3*4),l=new Float32Array(s),h=new Uint32Array(s),d=0,S=0;S<r.length/2;S++)l[d++]=r[S*2],l[d++]=r[S*2+1],l[d++]=i[S*2],l[d++]=i[S*2+1],h[d++]=a[S],l[d++]=o[S];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)L_.triangulate(r,this);else{var i=Mh[r.type];i.triangulate(r,this)}},t.prototype.processLine=function(r){ip(r,this);for(var i=0;i<r.holes.length;i++)ip(r.holes[i],this)},t.prototype.processHoles=function(r){for(var i=0;i<r.length;i++){var a=r[i],o=Mh[a.type];o.build(a),a.matrix&&this.transformPoints(a.points,a.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,i){for(var a=0;a<r.length/2;a++){var o=r[a*2],s=r[a*2+1];r[a*2]=i.a*o+i.c*s+i.tx,r[a*2+1]=i.b*o+i.d*s+i.ty}},t.prototype.addColors=function(r,i,a,o,s){s===void 0&&(s=0);var l=(i>>16)+(i&65280)+((i&255)<<16),h=Bc(l,a);r.length=Math.max(r.length,s+o);for(var d=0;d<o;d++)r[s+d]=h},t.prototype.addTextureIds=function(r,i,a,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+a);for(var s=0;s<a;s++)r[o+s]=i},t.prototype.addUvs=function(r,i,a,o,s,l){l===void 0&&(l=null);for(var h=0,d=i.length,S=a.frame;h<s;){var y=r[(o+h)*2],E=r[(o+h)*2+1];if(l){var M=l.a*y+l.c*E+l.tx;E=l.b*y+l.d*E+l.ty,y=M}h++,i.push(y/S.width,E/S.height)}var O=a.baseTexture;(S.width<O.width||S.height<O.height)&&this.adjustUvs(i,a,d,s)},t.prototype.adjustUvs=function(r,i,a,o){for(var s=i.baseTexture,l=1e-6,h=a+o*2,d=i.frame,S=d.width/s.width,y=d.height/s.height,E=d.x/d.width,M=d.y/d.height,O=Math.floor(r[a]+l),C=Math.floor(r[a+1]+l),N=a+2;N<h;N+=2)O=Math.min(O,Math.floor(r[N]+l)),C=Math.min(C,Math.floor(r[N+1]+l));E-=O,M-=C;for(var N=a;N<h;N+=2)r[N]=(r[N]+E)*S,r[N+1]=(r[N+1]+M)*y},t.BATCHABLE_SIZE=100,t}(m_),F4=function(e){$_(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=An.BUTT,r.join=rn.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(C_),v6=new Float32Array(3),pf={},cs=function(e){$_(t,e);function t(r){r===void 0&&(r=null);var i=e.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new C_,i._lineStyle=new F4,i._matrix=null,i._holeMode=!1,i.state=Sa.for2d(),i._geometry=r||new N4,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=$t.NORMAL,i}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,i,a,o,s){return r===void 0&&(r=null),i===void 0&&(i=0),a===void 0&&(a=1),o===void 0&&(o=.5),s===void 0&&(s=!1),typeof r=="number"&&(r={width:r,color:i,alpha:a,alignment:o,native:s}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:kt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:An.BUTT,join:rn.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var i=r.width>0&&r.alpha>0;return i?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:i},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new vl,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[i-2],r[i-1]))}else this.currentPath=new vl,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,i){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(r,i){this.currentPath||this.moveTo(0,0);var a=this.currentPath.points,o=a[a.length-2],s=a[a.length-1];return(o!==r||s!==i)&&a.push(r,i),this},t.prototype._initCurve=function(r,i){r===void 0&&(r=0),i===void 0&&(i=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,i]):this.moveTo(r,i)},t.prototype.quadraticCurveTo=function(r,i,a,o){this._initCurve();var s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),L4.curveTo(r,i,a,o,s),this},t.prototype.bezierCurveTo=function(r,i,a,o,s,l){return this._initCurve(),$4.curveTo(r,i,a,o,s,l,this.currentPath.points),this},t.prototype.arcTo=function(r,i,a,o,s){this._initCurve(r,i);var l=this.currentPath.points,h=np.curveTo(r,i,a,o,s,l);if(h){var d=h.cx,S=h.cy,y=h.radius,E=h.startAngle,M=h.endAngle,O=h.anticlockwise;this.arc(d,S,y,E,M,O)}return this},t.prototype.arc=function(r,i,a,o,s,l){if(l===void 0&&(l=!1),o===s)return this;!l&&s<=o?s+=Yl:l&&o<=s&&(o+=Yl);var h=s-o;if(h===0)return this;var d=r+Math.cos(o)*a,S=i+Math.sin(o)*a,y=this._geometry.closePointEps,E=this.currentPath?this.currentPath.points:null;if(E){var M=Math.abs(E[E.length-2]-d),O=Math.abs(E[E.length-1]-S);M<y&&O<y||E.push(d,S)}else this.moveTo(d,S),E=this.currentPath.points;return np.arc(d,S,r,i,a,o,s,l,E),this},t.prototype.beginFill=function(r,i){return r===void 0&&(r=0),i===void 0&&(i=1),this.beginTextureFill({texture:kt.WHITE,color:r,alpha:i})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:kt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var i=r.alpha>0;return i?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:i},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,i,a,o){return this.drawShape(new te(r,i,a,o))},t.prototype.drawRoundedRect=function(r,i,a,o,s){return this.drawShape(new Nx(r,i,a,o,s))},t.prototype.drawCircle=function(r,i,a){return this.drawShape(new Lx(r,i,a))},t.prototype.drawEllipse=function(r,i,a,o){return this.drawShape(new Dx(r,i,a,o))},t.prototype.drawPolygon=function(){for(var r=arguments,i=[],a=0;a<arguments.length;a++)i[a]=r[a];var o,s=!0,l=i[0];l.points?(s=l.closeStroke,o=l.points):Array.isArray(i[0])?o=i[0]:o=i;var h=new vl(o);return h.closeStroke=s,this.drawShape(h),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===ur.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var i=this._geometry;i.updateBatches(),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,i=this.blendMode,a=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=a,this.vertexData=new Float32Array(r.points);for(var o=0;o<a;o++){var s=r.batches[o],l=s.style.color,h=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),d=new Float32Array(r.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),S=new Uint16Array(r.indicesUint16.buffer,s.start*2,s.size),y={vertexData:h,blendMode:i,indices:S,uvs:d,_batchRGB:no(l),_tintRGB:l,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=y}},t.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,a=this.batches.length;i<a;i++){var o=this.batches[i];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var i=this._resolveDirectShader(r),a=this._geometry,o=this.tint,s=this.worldAlpha,l=i.uniforms,h=a.drawCalls;l.translationMatrix=this.transform.worldTransform,l.tint[0]=(o>>16&255)/255*s,l.tint[1]=(o>>8&255)/255*s,l.tint[2]=(o&255)/255*s,l.tint[3]=s,r.shader.bind(i),r.geometry.bind(a,i),r.state.set(this.state);for(var d=0,S=h.length;d<S;d++)this._renderDrawCallDirect(r,a.drawCalls[d])},t.prototype._renderDrawCallDirect=function(r,i){for(var a=i.texArray,o=i.type,s=i.size,l=i.start,h=a.count,d=0;d<h;d++)r.texture.bind(a.elements[d],d);r.geometry.draw(o,s,l)},t.prototype._resolveDirectShader=function(r){var i=this.shader,a=this.pluginName;if(!i){if(!pf[a]){for(var o=r.plugins[a].MAX_TEXTURES,s=new Int32Array(o),l=0;l<o;l++)s[l]=l;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Re,default:ha.from({uSamplers:s},!0)},d=r.plugins[a]._shader.program;pf[a]=new wn(d,h)}i=pf[a]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var i=r.bounds,a=i.minX,o=i.minY,s=i.maxX,l=i.maxY;this._bounds.addFrame(this.transform,a,o,s,l)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=no(this.tint,v6),i=0;i<this.batches.length;i++){var a=this.batches[i],o=a._batchRGB,s=r[0]*o[0]*255,l=r[1]*o[1]*255,h=r[2]*o[2]*255,d=(s<<16)+(l<<8)+(h|0);a._tintRGB=(d>>16)+(d&65280)+((d&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,l=i.d,h=i.tx,d=i.ty,S=this._geometry.points,y=this.vertexData,E=0,M=0;M<S.length;M+=2){var O=S[M],C=S[M+1];y[E++]=a*O+s*C+h,y[E++]=l*C+o*O+d}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new ye,t}(Si),y6={buildPoly:L_,buildCircle:tu,buildRectangle:R4,buildRoundedRectangle:C4,buildLine:ip,ArcUtils:np,BezierUtils:$4,QuadraticUtils:L4,BatchPart:D4,FILL_COMMANDS:Mh,BATCH_POOL:ap,DRAW_CALL_POOL:nl};/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sp=function(e,t){return sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},sp(e,t)};function b6(e,t){sp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zs=new ye,x6=new Uint16Array([0,1,2,0,2,3]),Es=function(e){b6(t,e);function t(r){var i=e.call(this)||this;return i._anchor=new qn(i._onAnchorUpdate,i,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=$t.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=r||kt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=x6,i.pluginName="batch",i.isSprite=!0,i._roundPixels=St.ROUND_PIXELS,i}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xa(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xa(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,l=i.d,h=i.tx,d=i.ty,S=this.vertexData,y=r.trim,E=r.orig,M=this._anchor,O=0,C=0,N=0,$=0;if(y?(C=y.x-M._x*E.width,O=C+y.width,$=y.y-M._y*E.height,N=$+y.height):(C=-M._x*E.width,O=C+E.width,$=-M._y*E.height,N=$+E.height),S[0]=a*C+s*$+h,S[1]=l*$+o*C+d,S[2]=a*O+s*$+h,S[3]=l*$+o*O+d,S[4]=a*O+s*N+h,S[5]=l*N+o*O+d,S[6]=a*C+s*N+h,S[7]=l*N+o*C+d,this._roundPixels)for(var L=St.RESOLUTION,B=0;B<S.length;++B)S[B]=Math.round((S[B]*L|0)/L)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,i=this.vertexTrimmedData,a=r.orig,o=this._anchor,s=this.transform.worldTransform,l=s.a,h=s.b,d=s.c,S=s.d,y=s.tx,E=s.ty,M=-o._x*a.width,O=M+a.width,C=-o._y*a.height,N=C+a.height;i[0]=l*M+d*C+y,i[1]=S*C+h*M+E,i[2]=l*O+d*C+y,i[3]=S*C+h*O+E,i[4]=l*O+d*N+y,i[5]=S*N+h*O+E,i[6]=l*M+d*N+y,i[7]=S*N+h*M+E},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,i=this._texture.orig;!r||r.width===i.width&&r.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Ql),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new te),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,zs);var i=this._texture.orig.width,a=this._texture.orig.height,o=-i*this.anchor.x,s=0;return zs.x>=o&&zs.x<o+i&&(s=-a*this.anchor.y,zs.y>=s&&zs.y<s+a)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var i=typeof r=="boolean"?r:r&&r.texture;if(i){var a=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!a)}this._texture=null},t.from=function(r,i){var a=r instanceof kt?r:kt.from(r,i);return new t(a)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var i=Xa(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var i=Xa(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||kt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Si);/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lp=function(e,t){return lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},lp(e,t)};function S6(e,t){lp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fs;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(fs||(fs={}));var _f={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:fs.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},T6=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ga=function(){function e(t){this.styleID=0,this.reset(),gf(this,t,t)}return e.prototype.clone=function(){var t={};return gf(t,this,_f),new e(t)},e.prototype.reset=function(){gf(this,_f,_f)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=mf(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=mf(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){E6(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=mf(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var i=r.length-1;i>=0;i--){var a=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&T6.indexOf(a)<0&&(a='"'+a+'"'),r[i]=a}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function sv(e){return typeof e=="number"?H2(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function mf(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=sv(e[t]);return e}else return sv(e)}function E6(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function gf(e,t,r){for(var i in r)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}var th={willReadFrequently:!0},Gi=function(){function e(t,r,i,a,o,s,l,h,d){this.text=t,this.style=r,this.width=i,this.height=a,this.lines=o,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=h,this.fontProperties=d}return e.measureText=function(t,r,i,a){a===void 0&&(a=e._canvas),i=i??r.wordWrap;var o=r.toFontString(),s=e.measureFont(o);s.fontSize===0&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var l=a.getContext("2d",th);l.font=o;for(var h=i?e.wordWrap(t,r,a):t,d=h.split(/(?:\r\n|\r|\n)/),S=new Array(d.length),y=0,E=0;E<d.length;E++){var M=l.measureText(d[E]).width+(d[E].length-1)*r.letterSpacing;S[E]=M,y=Math.max(y,M)}var O=y+r.strokeThickness;r.dropShadow&&(O+=r.dropShadowDistance);var C=r.lineHeight||s.fontSize+r.strokeThickness,N=Math.max(C,s.fontSize+r.strokeThickness)+(d.length-1)*(C+r.leading);return r.dropShadow&&(N+=r.dropShadowDistance),new e(t,r,O,N,d,S,C+r.leading,y,s)},e.wordWrap=function(t,r,i){i===void 0&&(i=e._canvas);for(var a=i.getContext("2d",th),o=0,s="",l="",h=Object.create(null),d=r.letterSpacing,S=r.whiteSpace,y=e.collapseSpaces(S),E=e.collapseNewlines(S),M=!y,O=r.wordWrapWidth+d,C=e.tokenize(t),N=0;N<C.length;N++){var $=C[N];if(e.isNewline($)){if(!E){l+=e.addLine(s),M=!y,s="",o=0;continue}$=" "}if(y){var L=e.isBreakingSpace($),B=e.isBreakingSpace(s[s.length-1]);if(L&&B)continue}var G=e.getFromCache($,d,h,a);if(G>O)if(s!==""&&(l+=e.addLine(s),s="",o=0),e.canBreakWords($,r.breakWords))for(var j=e.wordWrapSplit($),z=0;z<j.length;z++){for(var J=j[z],Q=1;j[z+Q];){var tt=j[z+Q],Z=J[J.length-1];if(!e.canBreakChars(Z,tt,$,z,r.breakWords))J+=tt;else break;Q++}z+=J.length-1;var lt=e.getFromCache(J,d,h,a);lt+o>O&&(l+=e.addLine(s),M=!1,s="",o=0),s+=J,o+=lt}else{s.length>0&&(l+=e.addLine(s),s="",o=0);var bt=N===C.length-1;l+=e.addLine($,!bt),M=!1,s="",o=0}else G+o>O&&(M=!1,l+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace($)||M)&&(s+=$,o+=G)}return l+=e.addLine(s,!1),l},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,i,a){var o=i[t];if(typeof o!="number"){var s=t.length*r;o=a.measureText(t).width+s,i[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var i=t[r];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],i="";if(typeof t!="string")return r;for(var a=0;a<t.length;a++){var o=t[a],s=t[a+1];if(e.isBreakingSpace(o,s)||e.isNewline(o)){i!==""&&(r.push(i),i=""),r.push(o);continue}i+=o}return i!==""&&r.push(i),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,i,a,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},i=e._canvas,a=e._context;a.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(a.measureText(o).width),l=Math.ceil(a.measureText(e.BASELINE_SYMBOL).width),h=Math.ceil(e.HEIGHT_MULTIPLIER*l);l=l*e.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,a.fillStyle="#f00",a.fillRect(0,0,s,h),a.font=t,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,l);var d=a.getImageData(0,0,s,h).data,S=d.length,y=s*4,E=0,M=0,O=!1;for(E=0;E<l;++E){for(var C=0;C<y;C+=4)if(d[M+C]!==255){O=!0;break}if(!O)M+=y;else break}for(r.ascent=l-E,M=S-y,O=!1,E=h;E>l;--E){for(var C=0;C<y;C+=4)if(d[M+C]!==255){O=!0;break}if(!O)M-=y;else break}return r.descent=E-l,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var r=new OffscreenCanvas(0,0),i=r.getContext("2d",th);if(i&&i.measureText)return e.__canvas=r,r;t=St.ADAPTER.createCanvas()}catch{t=St.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",th)),e.__context},enumerable:!1,configurable:!0}),e}();Gi._fonts={};Gi.METRICS_STRING="|ÉqÅ";Gi.BASELINE_SYMBOL="M";Gi.BASELINE_MULTIPLIER=1.4;Gi.HEIGHT_MULTIPLIER=2;Gi._newlines=[10,13];Gi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var I6={texture:!0,children:!1,baseTexture:!0},Qc=function(e){S6(t,e);function t(r,i,a){var o=this,s=!1;a||(a=St.ADAPTER.createCanvas(),s=!0),a.width=3,a.height=3;var l=kt.from(a);return l.orig=new te,l.trim=new te,o=e.call(this,l)||this,o._ownCanvas=s,o.canvas=a,o.context=a.getContext("2d",{willReadFrequently:!0}),o._resolution=St.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=i,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var a=this.context,o=Gi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,l=o.height,h=o.lines,d=o.lineHeight,S=o.lineWidths,y=o.maxLineWidth,E=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+i.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+i.padding*2)*this._resolution),a.scale(this._resolution,this._resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.lineWidth=i.strokeThickness,a.textBaseline=i.textBaseline,a.lineJoin=i.lineJoin,a.miterLimit=i.miterLimit;for(var M,O,C=i.dropShadow?2:1,N=0;N<C;++N){var $=i.dropShadow&&N===0,L=$?Math.ceil(Math.max(1,l)+i.padding*2):0,B=L*this._resolution;if($){a.fillStyle="black",a.strokeStyle="black";var G=i.dropShadowColor,j=no(typeof G=="number"?G:U2(G)),z=i.dropShadowBlur*this._resolution,J=i.dropShadowDistance*this._resolution;a.shadowColor="rgba("+j[0]*255+","+j[1]*255+","+j[2]*255+","+i.dropShadowAlpha+")",a.shadowBlur=z,a.shadowOffsetX=Math.cos(i.dropShadowAngle)*J,a.shadowOffsetY=Math.sin(i.dropShadowAngle)*J+B}else a.fillStyle=this._generateFillStyle(i,h,o),a.strokeStyle=i.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;var Q=(d-E.fontSize)/2;(!t.nextLineHeightBehavior||d-E.fontSize<0)&&(Q=0);for(var tt=0;tt<h.length;tt++)M=i.strokeThickness/2,O=i.strokeThickness/2+tt*d+E.ascent+Q,i.align==="right"?M+=y-S[tt]:i.align==="center"&&(M+=(y-S[tt])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(h[tt],M+i.padding,O+i.padding-L,!0),i.fill&&this.drawLetterSpacing(h[tt],M+i.padding,O+i.padding-L)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,i,a,o){o===void 0&&(o=!1);var s=this._style,l=s.letterSpacing,h=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(l===0||h){h&&(this.context.letterSpacing=l,this.context.textLetterSpacing=l),o?this.context.strokeText(r,i,a):this.context.fillText(r,i,a);return}for(var d=i,S=Array.from?Array.from(r):r.split(""),y=this.context.measureText(r).width,E=0,M=0;M<S.length;++M){var O=S[M];o?this.context.strokeText(O,d,a):this.context.fillText(O,d,a);for(var C="",N=M+1;N<S.length;++N)C+=S[N];E=this.context.measureText(C).width,d+=y-E+l,y=E}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var i=Mx(r);i.data&&(r.width=i.width,r.height=i.height,this.context.putImageData(i.data,0,0))}var a=this._texture,o=this._style,s=o.trim?0:o.padding,l=a.baseTexture;a.trim.width=a._frame.width=r.width/this._resolution,a.trim.height=a._frame.height=r.height/this._resolution,a.trim.x=-s,a.trim.y=-s,a.orig.width=a._frame.width-s*2,a.orig.height=a._frame.height-s*2,this._onTextureUpdate(),l.setRealSize(r.width,r.height,this._resolution),a.updateUvs(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.updateTransform=function(){this.updateText(!0),e.prototype.updateTransform.call(this)},t.prototype.getBounds=function(r,i){return this.updateText(!0),this._textureID===-1&&(r=!1),e.prototype.getBounds.call(this,r,i)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,l=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,d=this.canvas.width/this._resolution-l-h*2,S=this.canvas.height/this._resolution-l-h*2,y=o.slice(),E=r.fillGradientStops.slice();if(!E.length)for(var M=y.length+1,O=1;O<M;++O)E.push(O/M);if(y.unshift(o[0]),E.unshift(0),y.push(o[o.length-1]),E.push(1),r.fillGradientType===fs.LINEAR_VERTICAL){s=this.context.createLinearGradient(d/2,h,d/2,S+h);for(var C=a.fontProperties.fontSize+r.strokeThickness,O=0;O<i.length;O++){var N=a.lineHeight*(O-1)+C,$=a.lineHeight*O,L=$;O>0&&N>$&&(L=($+N)/2);var B=$+C,G=a.lineHeight*(O+1),j=B;O+1<i.length&&G<B&&(j=(B+G)/2);for(var z=(j-L)/S,J=0;J<y.length;J++){var Q=0;typeof E[J]=="number"?Q=E[J]:Q=J/y.length;var tt=Math.min(1,Math.max(0,L/S+Q*z));tt=Number(tt.toFixed(5)),s.addColorStop(tt,y[J])}}}else{s=this.context.createLinearGradient(h,S/2,d+h,S/2);for(var Z=y.length+1,lt=1,O=0;O<y.length;O++){var bt=void 0;typeof E[O]=="number"?bt=E[O]:bt=lt/Z,s.addColorStop(bt,y[O]),lt++}}return s},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},I6,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var i=Xa(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var i=Xa(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof ga?this._style=r:this._style=new ga(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Es),lv=Math.pow;const A6=new te;class P6 extends cs{constructor(){super(),this.initialized=!1,this.texts=[],this.strokeWidth=4,this.normalColor=14883354,this.activeColor=2017330,this.interactive=!0,this.on("added",this.init).on("pointermove",this.onPointerMove)}init(){const t=this.parent.internalModel,r=new ga({fontSize:24,fill:"#ffffff",stroke:"#000000",strokeThickness:4});this.texts=Object.keys(t.hitAreas).map(i=>{const a=new Qc(i,r);return a.visible=!1,this.addChild(a),a})}onPointerMove(t){const r=this.parent.hitTest(t.data.global.x,t.data.global.y);this.texts.forEach(i=>{i.visible=r.includes(i.text)})}_render(t){const r=this.parent.internalModel,i=1/Math.sqrt(lv(this.transform.worldTransform.a,2)+lv(this.transform.worldTransform.b,2));this.texts.forEach(a=>{this.lineStyle({width:this.strokeWidth*i,color:a.visible?this.activeColor:this.normalColor});const o=r.getDrawableBounds(r.hitAreas[a.text].index,A6),s=r.localTransform;o.x=o.x*s.a+s.tx,o.y=o.y*s.d+s.ty,o.width=o.width*s.a,o.height=o.height*s.d,this.drawRect(o.x,o.y,o.width,o.height),a.x=o.x+this.strokeWidth*i,a.y=o.y+this.strokeWidth*i,a.scale.set(i)}),super._render(t),this.clear()}}class w6{constructor(t,r){Xt(this,"model"),Xt(this,"currentModelIndex",0),Xt(this,"currentClothesIndex",0),Xt(this,"hitAreaFrames"),this.options=t,this.events=r,this.hitAreaFrames=new P6}get modelIndex(){return this.currentModelIndex}set modelIndex(t){this.currentModelIndex=t}get modelClothesIndex(){return this.currentClothesIndex}set modelClothesIndex(t){this.currentClothesIndex=t}get currentModelOptions(){return this.options.models[this.modelIndex]}create(){return new Promise((t,r)=>{this.events.emit("load","loading");let i=this.currentModelOptions.path;Array.isArray(i)&&(i=this.currentModelOptions.path[this.modelClothesIndex]),this.model=T4.fromSync(i,{motionPreload:this.currentModelOptions.motionPreloadStrategy||Zb.IDLE,onError:()=>{this.events.emit("load","fail"),r()}}),this.model.on("load",()=>{this.events.emit("load","success"),t()}),this.model.on("hit",a=>{this.events.emit("hit",a),this.playRandomMotion(a)})})}settingModel(){switch(ys()){case Rr.mobile:this.setPosition(...this.currentModelOptions.mobilePosition||[]),this.setScale(this.currentModelOptions.mobileScale);break;case Rr.pc:this.setPosition(...this.currentModelOptions.position||[]),this.setScale(this.currentModelOptions.scale);break}this.currentModelOptions.showHitAreaFrames&&this.addHitAreaFrames(),ac(this.currentModelOptions.volume)&&(Wn.volume=this.currentModelOptions.volume),this.setAnchor(...this.currentModelOptions.anchor||[]),this.setRotation(this.currentModelOptions.rotation)}addHitAreaFrames(){var t;(t=this.model)==null||t.addChild(this.hitAreaFrames)}removeHitAreaFrames(){var t;(t=this.model)==null||t.removeChildren(0)}get modelSize(){var t,r;return{width:((t=this.model)==null?void 0:t.width)||0,height:((r=this.model)==null?void 0:r.height)||0}}setScale(t=.1){var r;(r=this.model)==null||r.scale.set(t,t)}setPosition(t=0,r=0){this.model.x=t,this.model.y=r}setRotation(t=0){this.model.rotation=Math.PI*t/180}setAnchor(t=0,r=0){this.model.anchor.set(t,r)}playMotion(t,r){var i;(i=this.model)==null||i.motion(t,r)}playRandomMotion(t){var r;const i=Object.keys(((r=this.model)==null?void 0:r.internalModel.motionManager.motionGroups)||{});let a=i.find(o=>t[0].includes(o.toLowerCase())||o.toLowerCase().includes(t[0]));a||(a=Ad(i)),this.playMotion(a||"")}}function M6(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function O6(e){var t=this;return new t(function(r,i){if(!(e&&typeof e.length<"u"))return i(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var a=Array.prototype.slice.call(e);if(a.length===0)return r([]);var o=a.length;function s(h,d){if(d&&(typeof d=="object"||typeof d=="function")){var S=d.then;if(typeof S=="function"){S.call(d,function(y){s(h,y)},function(y){a[h]={status:"rejected",reason:y},--o===0&&r(a)});return}}a[h]={status:"fulfilled",value:d},--o===0&&r(a)}for(var l=0;l<a.length;l++)s(l,a[l])})}function k4(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}k4.prototype=Error.prototype;function R6(e){var t=this;return new t(function(r,i){if(!(e&&typeof e.length<"u"))return i(new TypeError("Promise.any accepts an array"));var a=Array.prototype.slice.call(e);if(a.length===0)return i();for(var o=[],s=0;s<a.length;s++)try{t.resolve(a[s]).then(r).catch(function(l){o.push(l),o.length===a.length&&i(new k4(o,"All promises were rejected"))})}catch(l){i(l)}})}var C6=setTimeout;function B4(e){return!!(e&&typeof e.length<"u")}function $6(){}function L6(e,t){return function(){e.apply(t,arguments)}}function ke(e){if(!(this instanceof ke))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],U4(e,this)}function H4(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,ke._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?up:eu)(t.promise,e._value);return}var i;try{i=r(e._value)}catch(a){eu(t.promise,a);return}up(t.promise,i)})}function up(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof ke){e._state=3,e._value=t,hp(e);return}else if(typeof r=="function"){U4(L6(r,t),e);return}}e._state=1,e._value=t,hp(e)}catch(i){eu(e,i)}}function eu(e,t){e._state=2,e._value=t,hp(e)}function hp(e){e._state===2&&e._deferreds.length===0&&ke._immediateFn(function(){e._handled||ke._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)H4(e,e._deferreds[t]);e._deferreds=null}function D6(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function U4(e,t){var r=!1;try{e(function(i){r||(r=!0,up(t,i))},function(i){r||(r=!0,eu(t,i))})}catch(i){if(r)return;r=!0,eu(t,i)}}ke.prototype.catch=function(e){return this.then(null,e)};ke.prototype.then=function(e,t){var r=new this.constructor($6);return H4(this,new D6(e,t,r)),r};ke.prototype.finally=M6;ke.all=function(e){return new ke(function(t,r){if(!B4(e))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(i.length===0)return t([]);var a=i.length;function o(l,h){try{if(h&&(typeof h=="object"||typeof h=="function")){var d=h.then;if(typeof d=="function"){d.call(h,function(S){o(l,S)},r);return}}i[l]=h,--a===0&&t(i)}catch(S){r(S)}}for(var s=0;s<i.length;s++)o(s,i[s])})};ke.any=R6;ke.allSettled=O6;ke.resolve=function(e){return e&&typeof e=="object"&&e.constructor===ke?e:new ke(function(t){t(e)})};ke.reject=function(e){return new ke(function(t,r){r(e)})};ke.race=function(e){return new ke(function(t,r){if(!B4(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)ke.resolve(e[i]).then(t,r)})};ke._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){C6(e,0)};ke._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var uv=Object.getOwnPropertySymbols,N6=Object.prototype.hasOwnProperty,F6=Object.prototype.propertyIsEnumerable;function k6(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function B6(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(i.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var H6=B6()?Object.assign:function(e,t){for(var r,i=k6(e),a,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)N6.call(r,s)&&(i[s]=r[s]);if(uv){a=uv(r);for(var l=0;l<a.length;l++)F6.call(r,a[l])&&(i[a[l]]=r[a[l]])}}return i};const U6=O2(H6);/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=ke);Object.assign||(Object.assign=U6);var G6=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var j6=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-j6}}var vf=Date.now(),hv=["ms","moz","webkit","o"];for(var yf=0;yf<hv.length&&!globalThis.requestAnimationFrame;++yf){var bf=hv[yf];globalThis.requestAnimationFrame=globalThis[bf+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[bf+"CancelAnimationFrame"]||globalThis[bf+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=G6+vf-t;return r<0&&(r=0),vf=t,globalThis.self.setTimeout(function(){vf=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/accessibility - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G4={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ge.mixin(G4);var X6=9,eh=100,V6=0,z6=0,cv=2,fv=1,J6=-1e3,W6=-1e3,Y6=2,j4=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_i.tablet||_i.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=eh+"px",r.style.height=eh+"px",r.style.position="absolute",r.style.top=V6+"px",r.style.left=z6+"px",r.style.zIndex=cv.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=fv+"px",r.style.height=fv+"px",r.style.position="absolute",r.style.top=J6+"px",r.style.left=W6+"px",r.style.zIndex=Y6.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}},e.prototype.update=function(){var t=performance.now();if(!(_i.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),i=r.left,a=r.top,o=r.width,s=r.height,l=this.renderer,h=l.width,d=l.height,S=l.resolution,y=o/h*S,E=s/d*S,M=this.div;M.style.left=i+"px",M.style.top=a+"px",M.style.width=h+"px",M.style.height=d+"px";for(var O=0;O<this.children.length;O++){var C=this.children[O];if(C.renderId!==this.renderId)C._accessibleActive=!1,Ya(this.children,O,1),this.div.removeChild(C._accessibleDiv),this.pool.push(C._accessibleDiv),C._accessibleDiv=null,O--;else{M=C._accessibleDiv;var N=C.hitArea,$=C.worldTransform;C.hitArea?(M.style.left=($.tx+N.x*$.a)*y+"px",M.style.top=($.ty+N.y*$.d)*E+"px",M.style.width=N.width*$.a*y+"px",M.style.height=N.height*$.d*E+"px"):(N=C.getBounds(),this.capHitArea(N),M.style.left=N.x*y+"px",M.style.top=N.y*E+"px",M.style.width=N.width*y+"px",M.style.height=N.height*E+"px",M.title!==C.accessibleTitle&&C.accessibleTitle!==null&&(M.title=C.accessibleTitle),M.getAttribute("aria-label")!==C.accessibleHint&&C.accessibleHint!==null&&M.setAttribute("aria-label",C.accessibleHint)),(C.accessibleTitle!==M.title||C.tabIndex!==M.tabIndex)&&(M.title=C.accessibleTitle,M.tabIndex=C.tabIndex,this.debug&&this.updateDebugHTML(M))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,i=r.width,a=r.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>a&&(t.height=a-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=eh+"px",r.style.height=eh+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=cv.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,i=t.target.displayObject,a=r.eventData;r.dispatchEvent(i,"click",a),r.dispatchEvent(i,"pointertap",a),r.dispatchEvent(i,"tap",a)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,i=t.target.displayObject,a=r.eventData;r.dispatchEvent(i,"mouseover",a)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,i=t.target.displayObject,a=r.eventData;r.dispatchEvent(i,"mouseout",a)},e.prototype._onKeyDown=function(t){t.keyCode===X6&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:"accessibility",type:[ge.RendererPlugin,ge.CanvasRendererPlugin]},e}();/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cp=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ye,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,i){return t.worldTransform.applyInverse(i||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fp=function(e,t){return fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},fp(e,t)};function K6(e,t){fp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var X4=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Oh=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Q6=function(){function e(){this._tempPoint=new ye}return e.prototype.recursiveFindHit=function(t,r,i,a,o){var s;if(!r||!r.visible)return!1;var l=t.data.global;o=r.interactive||o;var h=!1,d=o,S=!0;if(r.hitArea)a&&(r.worldTransform.applyInverse(l,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?h=!0:(a=!1,S=!1)),d=!1;else if(r._mask&&a){var y=r._mask.isMaskData?r._mask.maskObject:r._mask;y&&!(!((s=y.containsPoint)===null||s===void 0)&&s.call(y,l))&&(a=!1)}if(S&&r.interactiveChildren&&r.children)for(var E=r.children,M=E.length-1;M>=0;M--){var O=E[M],C=this.recursiveFindHit(t,O,i,a,d);if(C){if(!O.parent)continue;d=!1,C&&(t.target&&(a=!1),h=!0)}}return o&&(a&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(l)&&(h=!0),r.interactive&&(h&&!t.target&&(t.target=r),i&&i(t,r,!!h))),h},e.prototype.findHit=function(t,r,i,a){this.recursiveFindHit(t,r,i,a,!1)},e}(),V4={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ge.mixin(V4);var rh=1,ih={target:null,data:{global:null}},z4=function(e){K6(t,e);function t(r,i){var a=e.call(this)||this;return i=i||{},a.renderer=r,a.autoPreventDefault=i.autoPreventDefault!==void 0?i.autoPreventDefault:!0,a.interactionFrequency=i.interactionFrequency||10,a.mouse=new cp,a.mouse.identifier=rh,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[rh]=a.mouse,a.interactionDataPool=[],a.eventData=new X4,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.tickerAdded=!1,a.mouseOverRenderer=!("PointerEvent"in globalThis),a.supportsTouchEvents="ontouchstart"in globalThis,a.supportsPointerEvents=!!globalThis.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a.resolution=1,a.delayedEvents=[],a.search=new Q6,a._tempDisplayObject=new b_,a._eventListenerOptions={capture:!0,passive:!1},a._useSystemTicker=i.useSystemTicker!==void 0?i.useSystemTicker:!0,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,i){return ih.target=null,ih.data.global=r,i||(i=this.lastObjectRendered),this.processInteractive(ih,i,null,!0),ih.target},t.prototype.setTargetElement=function(r,i){i===void 0&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(_r.system.add(this.tickerUpdate,this,un.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(_r.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var i=this.activeInteractionData[r];if(i.originalEvent&&i.pointerType!=="touch"){var a=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var i=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var a=this.cursorStyles[r];if(a)switch(typeof a){case"string":i&&(this.interactionDOMElement.style.cursor=a);break;case"function":a(r);break;case"object":i&&Object.assign(this.interactionDOMElement.style,a);break}else i&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,i,a){(!a.stopPropagationHint||r===a.stopsPropagatingAt)&&(a.currentTarget=r,a.type=i,r.emit(i,a),r[i]&&r[i](a))},t.prototype.delayDispatchEvent=function(r,i,a){this.delayedEvents.push({displayObject:r,eventString:i,eventData:a})},t.prototype.mapPositionToPoint=function(r,i,a){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;r.x=(i-o.left)*(this.interactionDOMElement.width/o.width)*s,r.y=(a-o.top)*(this.interactionDOMElement.height/o.height)*s},t.prototype.processInteractive=function(r,i,a,o){var s=this.search.findHit(r,i,a,o),l=this.delayedEvents;if(!l.length)return s;r.stopPropagationHint=!1;var h=l.length;this.delayedEvents=[];for(var d=0;d<h;d++){var S=l[d],y=S.displayObject,E=S.eventString,M=S.eventData;M.stopsPropagatingAt===y&&(M.stopPropagationHint=!0),this.dispatchEvent(y,E,M)}return s},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);if(this.autoPreventDefault&&i[0].isNormalized){var a=r.cancelable||!("cancelable"in r);a&&r.preventDefault()}for(var o=i.length,s=0;s<o;s++){var l=i[s],h=this.getInteractionDataForPointerId(l),d=this.configureInteractionEventForDOMEvent(this.eventData,l,h);if(d.data.originalEvent=r,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),l.pointerType==="touch")this.emit("touchstart",d);else if(l.pointerType==="mouse"||l.pointerType==="pen"){var S=l.button===2;this.emit(S?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,i,a){var o=r.data,s=r.data.identifier;if(a){if(i.trackedPointers[s]||(i.trackedPointers[s]=new Oh(s)),this.dispatchEvent(i,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(i,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var l=o.button===2;l?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,l?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,i,a){var o=this.normalizeToPointerData(r),s=o.length,l=r.target;r.composedPath&&r.composedPath().length>0&&(l=r.composedPath()[0]);for(var h=l!==this.interactionDOMElement?"outside":"",d=0;d<s;d++){var S=o[d],y=this.getInteractionDataForPointerId(S),E=this.configureInteractionEventForDOMEvent(this.eventData,S,y);if(E.data.originalEvent=r,this.processInteractive(E,this.lastObjectRendered,a,i||!h),this.emit(i?"pointercancel":"pointerup"+h,E),S.pointerType==="mouse"||S.pointerType==="pen"){var M=S.button===2;this.emit(M?"rightup"+h:"mouseup"+h,E)}else S.pointerType==="touch"&&(this.emit(i?"touchcancel":"touchend"+h,E),this.releaseInteractionDataForPointerId(S.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,i){var a=r.data,o=r.data.identifier;i.trackedPointers[o]!==void 0&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",r),a.pointerType==="touch"&&this.dispatchEvent(i,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,i,a){var o=r.data,s=r.data.identifier,l=i.trackedPointers[s],h=o.pointerType==="touch",d=o.pointerType==="mouse"||o.pointerType==="pen",S=!1;if(d){var y=o.button===2,E=Oh.FLAGS,M=y?E.RIGHT_DOWN:E.LEFT_DOWN,O=l!==void 0&&l.flags&M;a?(this.dispatchEvent(i,y?"rightup":"mouseup",r),O&&(this.dispatchEvent(i,y?"rightclick":"click",r),S=!0)):O&&this.dispatchEvent(i,y?"rightupoutside":"mouseupoutside",r),l&&(y?l.rightDown=!1:l.leftDown=!1)}a?(this.dispatchEvent(i,"pointerup",r),h&&this.dispatchEvent(i,"touchend",r),l&&((!d||S)&&this.dispatchEvent(i,"pointertap",r),h&&(this.dispatchEvent(i,"tap",r),l.over=!1))):l&&(this.dispatchEvent(i,"pointerupoutside",r),h&&this.dispatchEvent(i,"touchendoutside",r)),l&&l.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);(i[0].pointerType==="mouse"||i[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var a=i.length,o=0;o<a;o++){var s=i[o],l=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,l);h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),s.pointerType==="touch"&&this.emit("touchmove",h),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",h)}i[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,i,a){var o=r.data,s=o.pointerType==="touch",l=o.pointerType==="mouse"||o.pointerType==="pen";l&&this.processPointerOverOut(r,i,a),(!this.moveWhenInside||a)&&(this.dispatchEvent(i,"pointermove",r),s&&this.dispatchEvent(i,"touchmove",r),l&&this.dispatchEvent(i,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r),a=i[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,i,a){var o=r.data,s=r.data.identifier,l=o.pointerType==="mouse"||o.pointerType==="pen",h=i.trackedPointers[s];a&&!h&&(h=i.trackedPointers[s]=new Oh(s)),h!==void 0&&(a&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(i,"pointerover",r),l&&this.delayDispatchEvent(i,"mouseover",r)),l&&this.cursor===null&&(this.cursor=i.cursor)):h.over&&(h.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),l&&this.dispatchEvent(i,"mouseout",r),h.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r),a=i[0],o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,a.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",s)}},t.prototype.getInteractionDataForPointerId=function(r){var i=r.pointerId,a;return i===rh||r.pointerType==="mouse"?a=this.mouse:this.activeInteractionData[i]?a=this.activeInteractionData[i]:(a=this.interactionDataPool.pop()||new cp,a.identifier=i,this.activeInteractionData[i]=a),a.copyEvent(r),a},t.prototype.releaseInteractionDataForPointerId=function(r){var i=this.activeInteractionData[r];i&&(delete this.activeInteractionData[r],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(r,i,a){return r.data=a,this.mapPositionToPoint(a.global,i.clientX,i.clientY),i.pointerType==="touch"&&(i.globalX=a.global.x,i.globalY=a.global.y),a.originalEvent=i,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var i=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var a=0,o=r.changedTouches.length;a<o;a++){var s=r.changedTouches[a];typeof s.button>"u"&&(s.button=r.touches.length?1:0),typeof s.buttons>"u"&&(s.buttons=r.touches.length?1:0),typeof s.isPrimary>"u"&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var l=r;typeof l.isPrimary>"u"&&(l.isPrimary=!0),typeof l.width>"u"&&(l.width=1),typeof l.height>"u"&&(l.height=1),typeof l.tiltX>"u"&&(l.tiltX=0),typeof l.tiltY>"u"&&(l.tiltY=0),typeof l.pointerType>"u"&&(l.pointerType="mouse"),typeof l.pointerId>"u"&&(l.pointerId=rh),typeof l.pressure>"u"&&(l.pressure=.5),typeof l.twist>"u"&&(l.twist=0),typeof l.tangentialPressure>"u"&&(l.tangentialPressure=0),l.isNormalized=!0,i.push(l)}else i.push(r);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t.extension={name:"interaction",type:[ge.RendererPlugin,ge.CanvasRendererPlugin]},t}(Nn);/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Z6=new te,q6=4,J4=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,i){var a=new Image;return a.src=this.base64(t,r,i),a},e.prototype.base64=function(t,r,i){return this.canvas(t).toDataURL(r,i)},e.prototype.canvas=function(t,r){var i=this._rawPixels(t,r),a=i.pixels,o=i.width,s=i.height,l=i.flipY,h=new Vd(o,s,1),d=h.context.getImageData(0,0,o,s);if(e.arrayPostDivide(a,d.data),h.context.putImageData(d,0,0),l){var S=new Vd(h.width,h.height,1);S.context.scale(1,-1),S.context.drawImage(h.canvas,0,-s),h.destroy(),h=S}return h.canvas},e.prototype.pixels=function(t,r){var i=this._rawPixels(t,r).pixels;return e.arrayPostDivide(i,i),i},e.prototype._rawPixels=function(t,r){var i=this.renderer,a,o=!1,s,l=!1;if(t)if(t instanceof _a)s=t;else{var h=i.context.webGLVersion>=2?i.multisample:Ie.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ie.NONE){var d=_a.create({width:s.width,height:s.height});i.framebuffer.bind(s.framebuffer),i.framebuffer.blit(d.framebuffer),i.framebuffer.bind(null),s.destroy(!0),s=d}l=!0}s?(a=s.baseTexture.resolution,r=r??s.frame,o=!1,i.renderTexture.bind(s)):(a=i.resolution,r||(r=Z6,r.width=i.width,r.height=i.height),o=!0,i.renderTexture.bind(null));var S=Math.round(r.width*a),y=Math.round(r.height*a),E=new Uint8Array(q6*S*y),M=i.gl;return M.readPixels(Math.round(r.x*a),Math.round(r.y*a),S,y,M.RGBA,M.UNSIGNED_BYTE,E),l&&s.destroy(!0),{pixels:E,width:S,height:y,flipY:o}},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var i=0;i<t.length;i+=4){var a=r[i+3]=t[i+3];a!==0?(r[i]=Math.round(Math.min(t[i]*255/a,255)),r[i+1]=Math.round(Math.min(t[i+1]*255/a,255)),r[i+2]=Math.round(Math.min(t[i+2]*255/a,255))):(r[i]=t[i],r[i+1]=t[i+1],r[i+2]=t[i+2])}},e.extension={name:"extract",type:ge.RendererPlugin},e}();/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nh=function(){function e(t,r,i){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function dv(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Tn=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var i=[];r;)i.push(r),r=r._next;return i},e.prototype.has=function(t){if(!(t instanceof nh))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,r),a=a._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return dv(this,new nh(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return dv(this,new nh(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof nh))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function W4(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[t.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[r.key[o]]=i[o]||"";return a[r.q.name]={},a[r.key[12]].replace(r.q.parser,function(s,l,h){l&&(a[r.q.name][l]=h)}),a}var xf,ah=null,t$=0,pv=200,e$=204,r$=1223,i$=2;function _v(){}function mv(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function Sf(e){return e.toString().replace("object ","")}var Ne=function(){function e(t,r,i){if(this._dequeue=_v,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_v,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Tn,this.onProgress=new Tn,this.onComplete=new Tn,this.onAfterMiddleware=new Tn}return e.setExtensionLoadType=function(t,r){mv(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){mv(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:typeof xf>"u"&&(xf=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),xf&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(r)?r[i]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,i){i||(i=t+"/"+this._getExtension(r));var a=document.createElement("source");return a.src=r,a.type=i,a},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Sf(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Sf(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Sf(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",i=typeof t.status>"u"?pv:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType>"u")&&(r=t.responseText),i===t$&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=pv:i===r$&&(i=e$);var a=i/100|0;if(a===i$)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(l){this.abort("Error trying to parse loaded json: "+l);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var s=document.createElement("div");s.innerHTML=r,this.data=s}this.type=e.TYPE.XML}catch(l){this.abort("Error trying to parse loaded xml: "+l);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,ah||(ah=document.createElement("a")),ah.href=t;var i=W4(ah.href,{strictMode:!0}),a=!i.port&&r.port===""||i.port===r.port,o=i.protocol?i.protocol+":":"";return i.host!==r.hostname||!a||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var i=t.indexOf("/");r=t.substring(i+1,t.indexOf(";",i))}else{var a=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(a>-1?a:t.length,o>-1?o:t.length);t=t.substring(0,s),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,avif:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,avif:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Ne||(Ne={}));function Oa(){}function n$(e){return function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];if(e===null)throw new Error("Callback was already called.");var a=e;e=null,a.apply(this,r)}}var a$=function(){function e(t,r){this.data=t,this.callback=r}return e}(),Tf=function(){function e(t,r){var i=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Oa,this.unsaturated=Oa,this.empty=Oa,this.drain=Oa,this.error=Oa,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(a,o,s){if(s&&typeof s!="function")throw new Error("task callback must be a function");if(i.started=!0,a==null&&i.idle()){setTimeout(function(){return i.drain()},1);return}var l=new a$(a,typeof s=="function"?s:Oa);o?i._tasks.unshift(l):i._tasks.push(l),setTimeout(i.process,1)},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var a=i._tasks.shift();i._tasks.length===0&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(a.data,n$(i._next(a)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var i=arguments,a=[],o=0;o<arguments.length;o++)a[o]=i[o];r.workers-=1,t.callback.apply(t,a),a[0]!=null&&r.error(a[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=Oa,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,i,a){var o=0,s=t.length;function l(h){if(h||o===s){i&&i(h);return}a?setTimeout(function(){r(t[o++],l)},1):r(t[o++],l)}l()},e.queue=function(t,r){return new e(t,r)},e}(),Ef=100,o$=/(#[\w-]+)?$/,ru=function(){function e(t,r){var i=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,d){return i._loadResource(h,d)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,d){return i._loadResource(h,d)},this._queue=Tf.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Tn,this.onError=new Tn,this.onLoad=new Tn,this.onStart=new Tn,this.onComplete=new Tn;for(var a=0;a<e._plugins.length;++a){var o=e._plugins[a],s=o.pre,l=o.use;s&&this.pre(s),l&&this.use(l)}this._protected=!1}return e.prototype._add=function(t,r,i,a){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new Ne(t,r,i),typeof a=="function"&&this.resources[t].onAfterMiddleware.once(a),this.loading){for(var o=i.parentResource,s=[],l=0;l<o.children.length;++l)o.children[l].isComplete||s.push(o.children[l]);var h=o.progressChunk*(s.length+1),d=h/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=d;for(var l=0;l<s.length;++l)s[l].progressChunk=d;this.resources[t].progressChunk=d}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(Nr("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,i=Ef/r,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=W4(t,{strictMode:!0}),i;if(r.protocol||!r.path||t.indexOf("//")===0?i=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?i=this.baseUrl+"/"+t:i=this.baseUrl+t,this.defaultQueryString){var a=o$.exec(i)[0];i=i.slice(0,i.length-a.length),i.indexOf("?")!==-1?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=a}return i},e.prototype._loadResource=function(t,r){var i=this;t._dequeue=r,Tf.eachSeries(this._beforeMiddleware,function(a,o){a.call(i,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Ef,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Tf.eachSeries(this._afterMiddleware,function(i,a){i.call(r,t,a)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(Ef,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return Nr("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),cn.add({type:ge.Loader,ref:t}),e},e._plugins=[],e}();cn.handleByList(ge.Loader,ru._plugins);ru.prototype.add=function(e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(r=e,i=t||r.callback||r.onComplete,t=r.url,e=r.name||r.key||r.url),typeof t!="string"&&(i=r,r=t,t=e),typeof t!="string")throw new Error("No url passed to add resource to loader.");return typeof r=="function"&&(i=r,r=null),this._add(e,t,r,i)};var Y4=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?ru.shared:new ru},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.extension=ge.Application,e}(),K4=function(){function e(){}return e.add=function(){Ne.setExtensionLoadType("svg",Ne.LOAD_TYPE.XHR),Ne.setExtensionXhrType("svg",Ne.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===Ne.TYPE.IMAGE||t.extension==="svg")){var i=t.data,a=t.url,o=t.name,s=t.metadata;kt.fromLoader(i,a,o,s).then(function(l){t.texture=l,r()}).catch(r)}else r()},e.extension=ge.Loader,e}(),s$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l$(e){for(var t="",r=0;r<e.length;){for(var i=[0,0,0],a=[0,0,0,0],o=0;o<i.length;++o)r<e.length?i[o]=e.charCodeAt(r++)&255:i[o]=0;a[0]=i[0]>>2,a[1]=(i[0]&3)<<4|i[1]>>4,a[2]=(i[1]&15)<<2|i[2]>>6,a[3]=i[2]&63;var s=r-(e.length-1);switch(s){case 2:a[3]=64,a[2]=64;break;case 1:a[3]=64;break}for(var o=0;o<a.length;++o)t+=s$.charAt(a[o])}return t}function u$(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Ne.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+l$(e.xhr.responseText),e.type=Ne.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var i=globalThis.URL||globalThis.webkitURL,a=i.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=a,e.type=Ne.TYPE.IMAGE,e.data.onload=function(){i.revokeObjectURL(a),e.data.onload=null,t()};return}}t()}var h$=function(){function e(){}return e.extension=ge.Loader,e.use=u$,e}();cn.add(K4,h$);/*!
 * @pixi/compressed-textures - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _e,Vt;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Vt||(Vt={}));var iu=(_e={},_e[Vt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_e[Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_e[Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_e[Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_e[Vt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_e[Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_e[Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_e[Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_e[Vt.COMPRESSED_R11_EAC]=.5,_e[Vt.COMPRESSED_SIGNED_R11_EAC]=.5,_e[Vt.COMPRESSED_RG11_EAC]=1,_e[Vt.COMPRESSED_SIGNED_RG11_EAC]=1,_e[Vt.COMPRESSED_RGB8_ETC2]=.5,_e[Vt.COMPRESSED_RGBA8_ETC2_EAC]=1,_e[Vt.COMPRESSED_SRGB8_ETC2]=.5,_e[Vt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_e[Vt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_e[Vt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_e[Vt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_e[Vt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_e[Vt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_e[Vt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_e[Vt.COMPRESSED_RGB_ETC1_WEBGL]=.5,_e[Vt.COMPRESSED_RGB_ATC_WEBGL]=.5,_e[Vt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_e[Vt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_e[Vt.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,_e);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dp=function(e,t){return dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},dp(e,t)};function Q4(e,t){dp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function c$(e,t,r,i){function a(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function l(S){try{d(i.next(S))}catch(y){s(y)}}function h(S){try{d(i.throw(S))}catch(y){s(y)}}function d(S){S.done?o(S.value):a(S.value).then(l,h)}d((i=i.apply(e,[])).next())})}function f$(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(d){return function(S){return h([d,S])}}function h(d){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(o=d[0]&2?a.return:d[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,d[1])).done)return o;switch(a=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(S){d=[6,S],a=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Z4=function(e){Q4(t,e);function t(r,i){i===void 0&&(i={width:1,height:1,autoLoad:!0});var a=this,o,s;return typeof r=="string"?(o=r,s=new Uint8Array):(o=null,s=r),a=e.call(this,s,i)||this,a.origin=o,a.buffer=s?new pc(s):null,a.origin&&i.autoLoad!==!1&&a.load(),s&&s.length&&(a.loaded=!0,a.onBlobLoaded(a.buffer.rawBinaryData)),a}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return c$(this,void 0,Promise,function(){var r,i,a;return f$(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return i=o.sent(),[4,i.arrayBuffer()];case 3:return a=o.sent(),this.data=new Uint32Array(a),this.buffer=new pc(a),this.loaded=!0,this.onBlobLoaded(a),this.update(),[2,this]}})})},t}(ho),gc=function(e){Q4(t,e);function t(r,i){var a=e.call(this,r,i)||this;return a.format=i.format,a.levels=i.levels||1,a._width=i.width,a._height=i.height,a._extension=t._formatToExtension(a.format),(i.levelBuffers||a.buffer)&&(a._levelBuffers=i.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:a.buffer.uint8View,a.format,a.levels,4,4,a.width,a.height)),a}return t.prototype.upload=function(r,i,a){var o=r.gl,s=r.context.extensions[this._extension];if(!s)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var l=0,h=this.levels;l<h;l++){var d=this._levelBuffers[l],S=d.levelID,y=d.levelWidth,E=d.levelHeight,M=d.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,S,this.format,y,E,0,M)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,i,a,o,s,l,h){for(var d=new Array(a),S=r.byteOffset,y=l,E=h,M=y+o-1&~(o-1),O=E+s-1&~(s-1),C=M*O*iu[i],N=0;N<a;N++)d[N]={levelID:N,levelWidth:a>1?y:M,levelHeight:a>1?E:O,levelBuffer:new Uint8Array(r.buffer,S,C)},S+=C,y=y>>1||1,E=E>>1||1,M=y+o-1&~(o-1),O=E+s-1&~(s-1),C=M*O*iu[i];return d},t}(Z4),q4=function(){function e(){}return e.use=function(t,r){var i=t.data,a=this;if(t.type===Ne.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,s=void 0,l=void 0,h=0,d=o.length;h<d;h++){var S=o[h],y=S.src,E=S.format;if(E||(l=y),e.textureFormats[E]){s=y;break}}if(s=s||l,!s){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(s===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var M={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},O=an.resolve(t.url.replace(a.baseUrl,""),s),C=i.cacheID;a.add(C,O,M,function(N){if(N.error){r(N.error);return}var $=N.texture,L=$===void 0?null:$,B=N.textures,G=B===void 0?{}:B;Object.assign(t,{texture:L,textures:G}),r()})}else r()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=St.ADAPTER.createCanvas(),r=t.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var i={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=i}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;e._textureFormats={};for(var r in t){var i=t[r];i&&Object.assign(e._textureFormats,Object.getPrototypeOf(i))}}return e._textureFormats},enumerable:!1,configurable:!0}),e.extension=ge.Loader,e}();function tS(e,t,r){var i={textures:{},texture:null};if(!t)return i;var a=t.map(function(o){return new kt(new ne(o,Object.assign({mipmap:bi.OFF,alphaMode:xi.NO_PREMULTIPLIED_ALPHA},r)))});return a.forEach(function(o,s){var l=o.baseTexture,h=e+"-"+(s+1);ne.addToCache(l,h),kt.addToCache(o,h),s===0&&(ne.addToCache(l,e),kt.addToCache(o,e),i.texture=o),i.textures[h]=o}),i}var Js,Mi,If=4,oh=124,d$=32,gv=20,p$=542327876,sh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},_$={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},lh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Ri;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Ri||(Ri={}));var pp;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(pp||(pp={}));var m$=1,g$=2,v$=4,y$=64,b$=512,x$=131072,S$=827611204,T$=861165636,E$=894720068,I$=808540228,A$=4,P$=(Js={},Js[S$]=Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Js[T$]=Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Js[E$]=Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Js),w$=(Mi={},Mi[Ri.DXGI_FORMAT_BC1_TYPELESS]=Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Mi[Ri.DXGI_FORMAT_BC1_UNORM]=Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Mi[Ri.DXGI_FORMAT_BC2_TYPELESS]=Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Mi[Ri.DXGI_FORMAT_BC2_UNORM]=Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Mi[Ri.DXGI_FORMAT_BC3_TYPELESS]=Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mi[Ri.DXGI_FORMAT_BC3_UNORM]=Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mi[Ri.DXGI_FORMAT_BC1_UNORM_SRGB]=Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Mi[Ri.DXGI_FORMAT_BC2_UNORM_SRGB]=Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Mi[Ri.DXGI_FORMAT_BC3_UNORM_SRGB]=Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Mi);function eS(e){var t=new Uint32Array(e),r=t[0];if(r!==p$)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,oh/Uint32Array.BYTES_PER_ELEMENT),a=i[sh.HEIGHT],o=i[sh.WIDTH],s=i[sh.MIPMAP_COUNT],l=new Uint32Array(e,sh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,d$/Uint32Array.BYTES_PER_ELEMENT),h=l[m$];if(h&v$){var d=l[_$.FOURCC];if(d!==I$){var S=P$[d],y=If+oh,E=new Uint8Array(e,y),M=new gc(E,{format:S,width:o,height:a,levels:s});return[M]}var O=If+oh,C=new Uint32Array(t.buffer,O,gv/Uint32Array.BYTES_PER_ELEMENT),N=C[lh.DXGI_FORMAT],$=C[lh.RESOURCE_DIMENSION],L=C[lh.MISC_FLAG],B=C[lh.ARRAY_SIZE],G=w$[N];if(G===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+N);if(L===A$)throw new Error("DDSParser does not support cubemap textures");if($===pp.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var j=new Array,z=If+oh+gv;if(B===1)j.push(new Uint8Array(e,z));else{for(var J=iu[G],Q=0,tt=o,Z=a,lt=0;lt<s;lt++){var bt=Math.max(1,tt+3&-4),Mt=Math.max(1,Z+3&-4),Gt=bt*Mt*J;Q+=Gt,tt=tt>>>1,Z=Z>>>1}for(var mt=z,lt=0;lt<B;lt++)j.push(new Uint8Array(e,mt,Q)),mt+=Q}return j.map(function(pt){return new gc(pt,{format:G,width:o,height:a,levels:s})})}throw h&y$?new Error("DDSParser does not support uncompressed texture data."):h&b$?new Error("DDSParser does not supported YUV uncompressed texture data."):h&x$?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&g$?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Un,vn,Ws,vv=[171,75,84,88,32,49,49,187,13,10,26,10],M$=67305985,Oi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},_p=64,mp=(Un={},Un[Ct.UNSIGNED_BYTE]=1,Un[Ct.UNSIGNED_SHORT]=2,Un[Ct.INT]=4,Un[Ct.UNSIGNED_INT]=4,Un[Ct.FLOAT]=4,Un[Ct.HALF_FLOAT]=8,Un),rS=(vn={},vn[ct.RGBA]=4,vn[ct.RGB]=3,vn[ct.RG]=2,vn[ct.RED]=1,vn[ct.LUMINANCE]=1,vn[ct.LUMINANCE_ALPHA]=2,vn[ct.ALPHA]=1,vn),iS=(Ws={},Ws[Ct.UNSIGNED_SHORT_4_4_4_4]=2,Ws[Ct.UNSIGNED_SHORT_5_5_5_1]=2,Ws[Ct.UNSIGNED_SHORT_5_6_5]=2,Ws);function nS(e,t,r){r===void 0&&(r=!1);var i=new DataView(t);if(!O$(e,i))return null;var a=i.getUint32(Oi.ENDIANNESS,!0)===M$,o=i.getUint32(Oi.GL_TYPE,a),s=i.getUint32(Oi.GL_FORMAT,a),l=i.getUint32(Oi.GL_INTERNAL_FORMAT,a),h=i.getUint32(Oi.PIXEL_WIDTH,a),d=i.getUint32(Oi.PIXEL_HEIGHT,a)||1,S=i.getUint32(Oi.PIXEL_DEPTH,a)||1,y=i.getUint32(Oi.NUMBER_OF_ARRAY_ELEMENTS,a)||1,E=i.getUint32(Oi.NUMBER_OF_FACES,a),M=i.getUint32(Oi.NUMBER_OF_MIPMAP_LEVELS,a),O=i.getUint32(Oi.BYTES_OF_KEY_VALUE_DATA,a);if(d===0||S!==1)throw new Error("Only 2D textures are supported");if(E!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");var C=4,N=4,$=h+3&-4,L=d+3&-4,B=new Array(y),G=h*d;o===0&&(G=$*L);var j;if(o!==0?mp[o]?j=mp[o]*rS[s]:j=iS[o]:j=iu[l],j===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var z=r?C$(i,O,a):null,J=G*j,Q=J,tt=h,Z=d,lt=$,bt=L,Mt=_p+O,Gt=0;Gt<M;Gt++){for(var mt=i.getUint32(Mt,a),pt=Mt+4,Dt=0;Dt<y;Dt++){var ut=B[Dt];ut||(ut=B[Dt]=new Array(M)),ut[Gt]={levelID:Gt,levelWidth:M>1||o!==0?tt:lt,levelHeight:M>1||o!==0?Z:bt,levelBuffer:new Uint8Array(t,pt,Q)},pt+=Q}Mt+=mt+4,Mt=Mt%4!==0?Mt+4-Mt%4:Mt,tt=tt>>1||1,Z=Z>>1||1,lt=tt+C-1&~(C-1),bt=Z+N-1&~(N-1),Q=lt*bt*j}return o!==0?{uncompressed:B.map(function(gt){var et=gt[0].levelBuffer,it=!1;return o===Ct.FLOAT?et=new Float32Array(gt[0].levelBuffer.buffer,gt[0].levelBuffer.byteOffset,gt[0].levelBuffer.byteLength/4):o===Ct.UNSIGNED_INT?(it=!0,et=new Uint32Array(gt[0].levelBuffer.buffer,gt[0].levelBuffer.byteOffset,gt[0].levelBuffer.byteLength/4)):o===Ct.INT&&(it=!0,et=new Int32Array(gt[0].levelBuffer.buffer,gt[0].levelBuffer.byteOffset,gt[0].levelBuffer.byteLength/4)),{resource:new ho(et,{width:gt[0].levelWidth,height:gt[0].levelHeight}),type:o,format:it?R$(s):s}}),kvData:z}:{compressed:B.map(function(gt){return new gc(null,{format:l,width:h,height:d,levels:M,levelBuffers:gt})}),kvData:z}}function O$(e,t){for(var r=0;r<vv.length;r++)if(t.getUint8(r)!==vv[r])return console.error(e+" is not a valid *.ktx file!"),!1;return!0}function R$(e){switch(e){case ct.RGBA:return ct.RGBA_INTEGER;case ct.RGB:return ct.RGB_INTEGER;case ct.RG:return ct.RG_INTEGER;case ct.RED:return ct.RED_INTEGER;default:return e}}function C$(e,t,r){for(var i=new Map,a=0;a<t;){var o=e.getUint32(_p+a,r),s=_p+a+4,l=3-(o+3)%4;if(o===0||o>t-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var h=0;h<o&&e.getUint8(s+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var d=new TextDecoder().decode(new Uint8Array(e.buffer,s,h)),S=new DataView(e.buffer,s+h+1,o-h-1);i.set(d,S),a+=4+o+l}return i}Ne.setExtensionXhrType("dds",Ne.XHR_RESPONSE_TYPE.BUFFER);var aS=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,tS(t.name||t.url,eS(t.data),t.metadata))}catch(i){r(i);return}r()},e.extension=ge.Loader,e}();Ne.setExtensionXhrType("ktx",Ne.XHR_RESPONSE_TYPE.BUFFER);var oS=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var i=t.name||t.url,a=nS(i,t.data,this.loadKeyValueData),o=a.compressed,s=a.uncompressed,l=a.kvData;if(o){var h=tS(i,o,t.metadata);if(l&&h.textures)for(var d in h.textures)h.textures[d].baseTexture.ktxKeyValueData=l;Object.assign(t,h)}else if(s){var S={};s.forEach(function(y,E){var M=new kt(new ne(y.resource,{mipmap:bi.OFF,alphaMode:xi.NO_PREMULTIPLIED_ALPHA,type:y.type,format:y.format})),O=i+"-"+(E+1);l&&(M.baseTexture.ktxKeyValueData=l),ne.addToCache(M.baseTexture,O),kt.addToCache(M,O),E===0&&(S[i]=M,ne.addToCache(M.baseTexture,i),kt.addToCache(M,i)),S[O]=M}),Object.assign(t,{textures:S})}}catch(y){r(y);return}r()},e.extension=ge.Loader,e.loadKeyValueData=!1,e}();/*!
 * @pixi/particle-container - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gp=function(e,t){return gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},gp(e,t)};function sS(e,t){gp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $$=function(e){sS(t,e);function t(r,i,a,o){r===void 0&&(r=1500),a===void 0&&(a=16384),o===void 0&&(o=!1);var s=e.call(this)||this,l=16384;return a>l&&(a=l),s._properties=[!1,!0,!1,!1,!1],s._maxSize=r,s._batchSize=a,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=$t.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,no(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var i=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Si),yv=function(){function e(t,r,i){this.geometry=new Ss,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<t.length;++a){var o=t[a];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ct.FLOAT,offset:o.offset},r[a]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new qe(wx(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];a.offset=r,r+=a.size,this.dynamicStride+=a.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new qe(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var i=0;i<this.staticProperties.length;++i){var a=this.staticProperties[i];a.offset=s,s+=a.size,this.staticStride+=a.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new qe(this.staticData,!0,!1);for(var i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Ct.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(var i=0;i<this.staticProperties.length;++i){var a=this.staticProperties[i];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Ct.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}},e.prototype.uploadDynamic=function(t,r,i){for(var a=0;a<this.dynamicProperties.length;a++){var o=this.dynamicProperties[a];o.uploadFunction(t,r,i,o.type===Ct.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,i){for(var a=0;a<this.staticProperties.length;a++){var o=this.staticProperties[a];o.uploadFunction(t,r,i,o.type===Ct.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),L$=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,D$=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,lS=function(e){sS(t,e);function t(r){var i=e.call(this,r)||this;return i.shader=null,i.properties=null,i.tempMatrix=new Re,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ct.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=wn.from(D$,L$,{}),i.state=Sa.for2d(),i}return t.prototype.render=function(r){var i=r.children,a=r._maxSize,o=r._batchSize,s=this.renderer,l=i.length;if(l!==0){l>a&&!r.autoResize&&(l=a);var h=r._buffers;h||(h=r._buffers=this.generateBuffers(r));var d=i[0]._texture.baseTexture,S=d.alphaMode>0;this.state.blendMode=j2(r.blendMode,S),s.state.set(this.state);var y=s.gl,E=r.worldTransform.copyTo(this.tempMatrix);E.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=E.toArray(!0),this.shader.uniforms.uColor=Px(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,S),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);for(var M=!1,O=0,C=0;O<l;O+=o,C+=1){var N=l-O;N>o&&(N=o),C>=h.length&&h.push(this._generateOneMoreBuffer(r));var $=h[C];$.uploadDynamic(i,O,N);var L=r._bufferUpdateIDs[C]||0;M=M||$._updateID<L,M&&($._updateID=r._updateID,$.uploadStatic(i,O,N)),s.geometry.bind($.geometry),y.drawElements(y.TRIANGLES,N*6,y.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var i=[],a=r._maxSize,o=r._batchSize,s=r._properties,l=0;l<a;l+=o)i.push(new yv(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(r){var i=r._batchSize,a=r._properties;return new yv(this.properties,a,i)},t.prototype.uploadVertices=function(r,i,a,o,s,l){for(var h=0,d=0,S=0,y=0,E=0;E<a;++E){var M=r[i+E],O=M._texture,C=M.scale.x,N=M.scale.y,$=O.trim,L=O.orig;$?(d=$.x-M.anchor.x*L.width,h=d+$.width,y=$.y-M.anchor.y*L.height,S=y+$.height):(h=L.width*(1-M.anchor.x),d=L.width*-M.anchor.x,S=L.height*(1-M.anchor.y),y=L.height*-M.anchor.y),o[l]=d*C,o[l+1]=y*N,o[l+s]=h*C,o[l+s+1]=y*N,o[l+s*2]=h*C,o[l+s*2+1]=S*N,o[l+s*3]=d*C,o[l+s*3+1]=S*N,l+=s*4}},t.prototype.uploadPosition=function(r,i,a,o,s,l){for(var h=0;h<a;h++){var d=r[i+h].position;o[l]=d.x,o[l+1]=d.y,o[l+s]=d.x,o[l+s+1]=d.y,o[l+s*2]=d.x,o[l+s*2+1]=d.y,o[l+s*3]=d.x,o[l+s*3+1]=d.y,l+=s*4}},t.prototype.uploadRotation=function(r,i,a,o,s,l){for(var h=0;h<a;h++){var d=r[i+h].rotation;o[l]=d,o[l+s]=d,o[l+s*2]=d,o[l+s*3]=d,l+=s*4}},t.prototype.uploadUvs=function(r,i,a,o,s,l){for(var h=0;h<a;++h){var d=r[i+h]._texture._uvs;d?(o[l]=d.x0,o[l+1]=d.y0,o[l+s]=d.x1,o[l+s+1]=d.y1,o[l+s*2]=d.x2,o[l+s*2+1]=d.y2,o[l+s*3]=d.x3,o[l+s*3+1]=d.y3,l+=s*4):(o[l]=0,o[l+1]=0,o[l+s]=0,o[l+s+1]=0,o[l+s*2]=0,o[l+s*2+1]=0,o[l+s*3]=0,o[l+s*3+1]=0,l+=s*4)}},t.prototype.uploadTint=function(r,i,a,o,s,l){for(var h=0;h<a;++h){var d=r[i+h],S=d._texture.baseTexture.alphaMode>0,y=d.alpha,E=y<1&&S?Bc(d._tintRGB,y):d._tintRGB+(y*255<<24);o[l]=E,o[l+s]=E,o[l+s*2]=E,o[l+s*3]=E,l+=s*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t.extension={name:"particle",type:ge.RendererPlugin},t}(pu);/*!
 * @pixi/prepare - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */St.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vp=function(e,t){return vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},vp(e,t)};function N$(e,t){vp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var uS=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function F$(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof kt){var a=e._textures[i].baseTexture;t.indexOf(a)===-1&&(t.push(a),r=!0)}}return r}function k$(e,t){if(e.baseTexture instanceof ne){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function B$(e,t){if(e._texture&&e._texture instanceof kt){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function H$(e,t){return t instanceof Qc?(t.updateText(!0),!0):!1}function U$(e,t){if(t instanceof ga){var r=t.toFontString();return Gi.measureFont(r),!0}return!1}function G$(e,t){if(e instanceof Qc){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function j$(e,t){return e instanceof ga?(t.indexOf(e)===-1&&t.push(e),!0):!1}var hS=function(){function e(t){var r=this;this.limiter=new uS(St.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(G$),this.registerFindHook(j$),this.registerFindHook(F$),this.registerFindHook(k$),this.registerFindHook(B$),this.registerUploadHook(H$),this.registerUploadHook(U$)}return e.prototype.upload=function(t,r){var i=this;return typeof t=="function"&&(r=t,t=null),r&&Nr("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(a){t&&i.add(t);var o=function(){r==null||r(),a()};i.queue.length?(i.completes.push(o),i.ticking||(i.ticking=!0,_r.system.addOnce(i.tick,i,un.UTILITY))):o()})},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var i=0,a=this.uploadHooks.length;i<a;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)_r.system.addOnce(this.tick,this,un.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var i=0,a=o.length;i<a;i++)o[i]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,i=this.addHooks.length;r<i&&!this.addHooks[r](t,this.queue);r++);if(t instanceof Si)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&_r.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function cS(e,t){return t instanceof ne?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function X$(e,t){if(!(t instanceof cs))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var i=r.batches,a=0;a<i.length;a++){var o=i[a].style.texture;o&&cS(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function V$(e,t){return e instanceof cs?(t.push(e),!0):!1}var fS=function(e){N$(t,e);function t(r){var i=e.call(this,r)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(V$),i.registerUploadHook(cS),i.registerUploadHook(X$),i}return t.extension={name:"prepare",type:ge.RendererPlugin},t}(hS),z$=function(){function e(t){this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dS=function(){function e(t,r,i){i===void 0&&(i=null),this.linkedSheets=[],this._texture=t instanceof kt?t:null,this.baseTexture=t instanceof ne?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var a=this.baseTexture.resource;this.resolution=this._updateResolution(i||(a?a.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,i=Wl(t,null);return i===null&&(i=r!==void 0?parseFloat(r):1),i!==1&&this.baseTexture.setResolution(i),i},e.prototype.parse=function(t){var r=this;return t&&Nr("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(i){r._callback=function(a){t==null||t(a),i(a)},r._batchIndex=0,r._frameKeys.length<=e.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},e.prototype._processFrames=function(t){for(var r=t,i=e.BATCH_SIZE;r-t<i&&r<this._frameKeys.length;){var a=this._frameKeys[r],o=this._frames[a],s=o.frame;if(s){var l=null,h=null,d=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,S=new te(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);o.rotated?l=new te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):l=new te(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(h=new te(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[a]=new kt(this.baseTexture,l,S,h,o.rotated?2:0,o.anchor),kt.addToCache(this.textures[a],a)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var i=0;i<t[r].length;i++){var a=t[r][i];this.animations[r].push(this.textures[a])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},e.BATCH_SIZE=1e3,e}(),pS=function(){function e(){}return e.use=function(t,r){var i,a,o=this,s=t.name+"_image";if(!t.data||t.type!==Ne.TYPE.JSON||!t.data.frames||o.resources[s]){r();return}var l=(a=(i=t.data)===null||i===void 0?void 0:i.meta)===null||a===void 0?void 0:a.related_multi_packs;if(Array.isArray(l))for(var h=function(O){if(typeof O!="string")return"continue";var C=O.replace(".json",""),N=an.resolve(t.url.replace(o.baseUrl,""),O);if(o.resources[C]||Object.values(o.resources).some(function(L){return an.format(an.parse(L.url))===N}))return"continue";var $={crossOrigin:t.crossOrigin,loadType:Ne.LOAD_TYPE.XHR,xhrType:Ne.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(C,N,$)},d=0,S=l;d<S.length;d++){var y=S[d];h(y)}var E={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},M=e.getResourcePath(t,o.baseUrl);o.add(s,M,E,function(O){if(O.error){r(O.error);return}var C=new dS(O.texture,t.data,t.url);C.parse().then(function(){t.spritesheet=C,t.textures=C.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:an.resolve(t.url.replace(r,""),t.data.meta.image)},e.extension=ge.Loader,e}();/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yp=function(e,t){return yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},yp(e,t)};function _S(e,t){yp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ys=new ye,J$=function(e){_S(t,e);function t(r,i,a){i===void 0&&(i=100),a===void 0&&(a=100);var o=e.call(this,r)||this;return o.tileTransform=new Uc,o._width=i,o._height=a,o.uvMatrix=o.texture.uvMatrix||new Vc(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,i=this._height*-this._anchor._y,a=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,i,a,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new te),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Ys);var i=this._width,a=this._height,o=-i*this.anchor._x;if(Ys.x>=o&&Ys.x<o+i){var s=-a*this.anchor._y;if(Ys.y>=s&&Ys.y<s+a)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,i){var a=r instanceof kt?r:kt.from(r,i);return new t(a,i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t}(Es),W$=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,bv=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Y$=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,K$=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Q$=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,uh=new Re,mS=function(e){_S(t,e);function t(r){var i=e.call(this,r)||this;return r.runners.contextChange.add(i),i.quad=new q2,i.state=Sa.for2d(),i}return t.prototype.contextChange=function(){var r=this.renderer,i={globals:r.globalUniforms};this.simpleShader=wn.from(bv,W$,i),this.shader=r.context.webGLVersion>1?wn.from(K$,Q$,i):wn.from(bv,Y$,i)},t.prototype.render=function(r){var i=this.renderer,a=this.quad,o=a.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var s=r.uvRespectAnchor?r.anchor.x:0,l=r.uvRespectAnchor?r.anchor.y:0;o=a.uvs,o[0]=o[6]=-s,o[1]=o[3]=-l,o[2]=o[4]=1-s,o[5]=o[7]=1-l,a.invalidate();var h=r._texture,d=h.baseTexture,S=d.alphaMode>0,y=r.tileTransform.localTransform,E=r.uvMatrix,M=d.isPowerOfTwo&&h.frame.width===d.width&&h.frame.height===d.height;M&&(d._glTextures[i.CONTEXT_UID]?M=d.wrapMode!==ki.CLAMP:d.wrapMode===ki.CLAMP&&(d.wrapMode=ki.REPEAT));var O=M?this.simpleShader:this.shader,C=h.width,N=h.height,$=r._width,L=r._height;uh.set(y.a*C/$,y.b*C/L,y.c*N/$,y.d*N/L,y.tx/$,y.ty/L),uh.invert(),M?uh.prepend(E.mapCoord):(O.uniforms.uMapCoord=E.mapCoord.toArray(!0),O.uniforms.uClampFrame=E.uClampFrame,O.uniforms.uClampOffset=E.uClampOffset),O.uniforms.uTransform=uh.toArray(!0),O.uniforms.uColor=X2(r.tint,r.worldAlpha,O.uniforms.uColor,S),O.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),O.uniforms.uSampler=h,i.shader.bind(O),i.geometry.bind(a),this.state.blendMode=j2(r.blendMode,S),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t.extension={name:"tilingSprite",type:ge.RendererPlugin},t}(pu);/*!
 * @pixi/mesh - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bp=function(e,t){return bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},bp(e,t)};function D_(e,t){bp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gS=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),Af=new ye,xv=new vl,ds=function(e){D_(t,e);function t(r,i,a,o){o===void 0&&(o=pi.TRIANGLES);var s=e.call(this)||this;return s.geometry=r,s.shader=i,s.state=a||Sa.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=St.ROUND_PIXELS,s.batchUvs=null,s}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var i=this.geometry.buffers[0].data,a=this.shader;a.batchable&&this.drawMode===pi.TRIANGLES&&i.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),r.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(i),r.state.set(this.state),r.geometry.bind(this.geometry,i),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var i=this.geometry,a=this.shader;a.uvMatrix&&(a.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=a._tintRGB,this._texture=a.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,i=r.buffers[0],a=i.data,o=i._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==a.length&&(this.vertexData=new Float32Array(a.length));for(var s=this.transform.worldTransform,l=s.a,h=s.b,d=s.c,S=s.d,y=s.tx,E=s.ty,M=this.vertexData,O=0;O<M.length/2;O++){var C=a[O*2],N=a[O*2+1];M[O*2]=l*C+d*N+y,M[O*2+1]=h*C+S*N+E}if(this._roundPixels)for(var $=St.RESOLUTION,O=0;O<M.length;++O)M[O]=Math.round((M[O]*$|0)/$);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new gS(r,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Af);for(var i=this.geometry.getBuffer("aVertexPosition").data,a=xv.points,o=this.geometry.getIndex().data,s=o.length,l=this.drawMode===4?3:1,h=0;h+2<s;h+=l){var d=o[h]*2,S=o[h+1]*2,y=o[h+2]*2;if(a[0]=i[d],a[1]=i[d+1],a[2]=i[S],a[3]=i[S+1],a[4]=i[y],a[5]=i[y+1],xv.contains(Af.x,Af.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Si),Z$=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,q$=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,ps=function(e){D_(t,e);function t(r,i){var a=this,o={uSampler:r,alpha:1,uTextureMatrix:Re.IDENTITY,uColor:new Float32Array([1,1,1,1])};return i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i),i.uniforms&&Object.assign(o,i.uniforms),a=e.call(this,i.program||Ts.from(q$,Z$),o)||this,a._colorDirty=!1,a.uvMatrix=new Vc(r),a.batchable=i.program===void 0,a.pluginName=i.pluginName,a.tint=i.tint,a.alpha=i.alpha,a}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;X2(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(wn),_u=function(e){D_(t,e);function t(r,i,a){var o=e.call(this)||this,s=new qe(r),l=new qe(i,!0),h=new qe(a,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,Ct.FLOAT).addAttribute("aTextureCoord",l,2,!1,Ct.FLOAT).addIndex(h),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Ss);/*!
 * @pixi/text-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xp=function(e,t){return xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},xp(e,t)};function tL(e,t){xp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var nu=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),vS=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var a in r){var o=r[a].match(/^[a-z]+/gm)[0],s=r[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(var h in s){var d=s[h].split("="),S=d[0],y=d[1].replace(/"/gm,""),E=parseFloat(y),M=isNaN(E)?y:E;l[S]=M}i[o].push(l)}var O=new nu;return i.info.forEach(function(C){return O.info.push({face:C.face,size:parseInt(C.size,10)})}),i.common.forEach(function(C){return O.common.push({lineHeight:parseInt(C.lineHeight,10)})}),i.page.forEach(function(C){return O.page.push({id:parseInt(C.id,10),file:C.file})}),i.char.forEach(function(C){return O.char.push({id:parseInt(C.id,10),page:parseInt(C.page,10),x:parseInt(C.x,10),y:parseInt(C.y,10),width:parseInt(C.width,10),height:parseInt(C.height,10),xoffset:parseInt(C.xoffset,10),yoffset:parseInt(C.yoffset,10),xadvance:parseInt(C.xadvance,10)})}),i.kerning.forEach(function(C){return O.kerning.push({first:parseInt(C.first,10),second:parseInt(C.second,10),amount:parseInt(C.amount,10)})}),i.distanceField.forEach(function(C){return O.distanceField.push({distanceRange:parseInt(C.distanceRange,10),fieldType:C.fieldType})}),O},e}(),vc=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new nu,i=t.getElementsByTagName("info"),a=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),l=t.getElementsByTagName("kerning"),h=t.getElementsByTagName("distanceField"),d=0;d<i.length;d++)r.info.push({face:i[d].getAttribute("face"),size:parseInt(i[d].getAttribute("size"),10)});for(var d=0;d<a.length;d++)r.common.push({lineHeight:parseInt(a[d].getAttribute("lineHeight"),10)});for(var d=0;d<o.length;d++)r.page.push({id:parseInt(o[d].getAttribute("id"),10)||0,file:o[d].getAttribute("file")});for(var d=0;d<s.length;d++){var S=s[d];r.char.push({id:parseInt(S.getAttribute("id"),10),page:parseInt(S.getAttribute("page"),10)||0,x:parseInt(S.getAttribute("x"),10),y:parseInt(S.getAttribute("y"),10),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10),xoffset:parseInt(S.getAttribute("xoffset"),10),yoffset:parseInt(S.getAttribute("yoffset"),10),xadvance:parseInt(S.getAttribute("xadvance"),10)})}for(var d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(var d=0;d<h.length;d++)r.distanceField.push({fieldType:h[d].getAttribute("fieldType"),distanceRange:parseInt(h[d].getAttribute("distanceRange"),10)});return r},e}(),yS=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return vc.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return vc.parse(r)},e}(),Pf=[vS,vc,yS];function N_(e){for(var t=0;t<Pf.length;t++)if(Pf[t].test(e))return Pf[t];return null}function eL(e,t,r,i,a,o){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var l,h=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,S=e.width/i-h-d*2,y=e.height/i-h-d*2,E=s.slice(),M=r.fillGradientStops.slice();if(!M.length)for(var O=E.length+1,C=1;C<O;++C)M.push(C/O);if(E.unshift(s[0]),M.unshift(0),E.push(s[s.length-1]),M.push(1),r.fillGradientType===fs.LINEAR_VERTICAL){l=t.createLinearGradient(S/2,d,S/2,y+d);for(var N=0,$=o.fontProperties.fontSize+r.strokeThickness,L=$/y,C=0;C<a.length;C++)for(var B=o.lineHeight*C,G=0;G<E.length;G++){var j=0;typeof M[G]=="number"?j=M[G]:j=G/E.length;var z=B/y+j*L,J=Math.max(N,z);J=Math.min(J,1),l.addColorStop(J,E[G]),N=J}}else{l=t.createLinearGradient(d,y/2,S+d,y/2);for(var Q=E.length+1,tt=1,C=0;C<E.length;C++){var Z=void 0;typeof M[C]=="number"?Z=M[C]:Z=tt/Q,l.addColorStop(Z,E[C]),tt++}}return l}function rL(e,t,r,i,a,o,s){var l=r.text,h=r.fontProperties;t.translate(i,a),t.scale(o,o);var d=s.strokeThickness/2,S=-(s.strokeThickness/2);if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=eL(e,t,s,o,[l],r),t.strokeStyle=s.stroke,s.dropShadow){var y=s.dropShadowColor,E=no(typeof y=="number"?y:U2(y)),M=s.dropShadowBlur*o,O=s.dropShadowDistance*o;t.shadowColor="rgba("+E[0]*255+","+E[1]*255+","+E[2]*255+","+s.dropShadowAlpha+")",t.shadowBlur=M,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*O,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*O}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(l,d,S+r.lineHeight-h.descent),s.fill&&t.fillText(l,d,S+r.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function bS(e){return Array.from?Array.from(e):e.split("")}function iL(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];if(Array.isArray(a)){if(a.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+a.length+".");var o=a[0].charCodeAt(0),s=a[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var l=o,h=s;l<=h;l++)t.push(String.fromCharCode(l))}else t.push.apply(t,bS(a))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Rh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var bn=function(){function e(t,r,i){var a,o,s=t.info[0],l=t.common[0],h=t.page[0],d=t.distanceField[0],S=Wl(h.file),y={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=l.lineHeight/S,this.chars={},this.pageTextures=y;for(var E=0;E<t.page.length;E++){var M=t.page[E],O=M.id,C=M.file;y[O]=r instanceof Array?r[E]:r[C],d!=null&&d.fieldType&&d.fieldType!=="none"&&(y[O].baseTexture.alphaMode=xi.NO_PREMULTIPLIED_ALPHA,y[O].baseTexture.mipmap=bi.OFF)}for(var E=0;E<t.char.length;E++){var N=t.char[E],O=N.id,$=N.page,L=t.char[E],B=L.x,G=L.y,j=L.width,z=L.height,J=L.xoffset,Q=L.yoffset,tt=L.xadvance;B/=S,G/=S,j/=S,z/=S,J/=S,Q/=S,tt/=S;var Z=new te(B+y[$].frame.x/S,G+y[$].frame.y/S,j,z);this.chars[O]={xOffset:J,yOffset:Q,xAdvance:tt,kerning:{},texture:new kt(y[$].baseTexture,Z),page:$}}for(var E=0;E<t.kerning.length;E++){var lt=t.kerning[E],bt=lt.first,Mt=lt.second,Gt=lt.amount;bt/=S,Mt/=S,Gt/=S,this.chars[Mt]&&(this.chars[Mt].kerning[bt]=Gt)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=(o=(a=d==null?void 0:d.fieldType)===null||a===void 0?void 0:a.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,i){var a;if(t instanceof nu)a=t;else{var o=N_(t);if(!o)throw new Error("Unrecognized data format for font.");a=o.parse(t)}r instanceof kt&&(r=[r]);var s=new e(a,r,i);return e.available[s.font]=s,s},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var a=Object.assign({},e.defaultOptions,i),o=a.chars,s=a.padding,l=a.resolution,h=a.textureWidth,d=a.textureHeight,S=iL(o),y=r instanceof ga?r:new ga(r),E=h,M=new nu;M.info[0]={face:y.fontFamily,size:y.fontSize},M.common[0]={lineHeight:y.fontSize};for(var O=0,C=0,N,$,L,B=0,G=[],j=0;j<S.length;j++){N||(N=St.ADAPTER.createCanvas(),N.width=h,N.height=d,$=N.getContext("2d"),L=new ne(N,{resolution:l}),G.push(new kt(L)),M.page.push({id:G.length-1,file:""}));var z=S[j],J=Gi.measureText(z,y,!1,N),Q=J.width,tt=Math.ceil(J.height),Z=Math.ceil((y.fontStyle==="italic"?2:1)*Q);if(C>=d-tt*l){if(C===0)throw new Error("[BitmapFont] textureHeight "+d+"px is too small "+("(fontFamily: '"+y.fontFamily+"', fontSize: "+y.fontSize+"px, char: '"+z+"')"));--j,N=null,$=null,L=null,C=0,O=0,B=0;continue}if(B=Math.max(tt+J.fontProperties.descent,B),Z*l+O>=E){if(O===0)throw new Error("[BitmapFont] textureWidth "+h+"px is too small "+("(fontFamily: '"+y.fontFamily+"', fontSize: "+y.fontSize+"px, char: '"+z+"')"));--j,C+=B*l,C=Math.ceil(C),O=0,B=0;continue}rL(N,$,J,O,C,l,y);var lt=Rh(J.text);M.char.push({id:lt,page:G.length-1,x:O/l,y:C/l,width:Z,height:tt,xoffset:0,yoffset:0,xadvance:Math.ceil(Q-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0))}),O+=(Z+2*s)*l,O=Math.ceil(O)}if(!(i!=null&&i.skipKerning))for(var j=0,bt=S.length;j<bt;j++)for(var Mt=S[j],Gt=0;Gt<bt;Gt++){var mt=S[Gt],pt=$.measureText(Mt).width,Dt=$.measureText(mt).width,ut=$.measureText(Mt+mt).width,gt=ut-(pt+Dt);gt&&M.kerning.push({first:Rh(Mt),second:Rh(mt),amount:gt})}var et=new e(M,G,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=et,et},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),nL=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,aL=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Sv=[],Tv=[],Ev=[],oL=function(e){tL(t,e);function t(r,i){i===void 0&&(i={});var a=e.call(this)||this;a._tint=16777215;var o=Object.assign({},t.styleDefaults,i),s=o.align,l=o.tint,h=o.maxWidth,d=o.letterSpacing,S=o.fontName,y=o.fontSize;if(!bn.available[S])throw new Error('Missing BitmapFont "'+S+'"');return a._activePagesMeshData=[],a._textWidth=0,a._textHeight=0,a._align=s,a._tint=l,a._font=void 0,a._fontName=S,a._fontSize=y,a.text=r,a._maxWidth=h,a._maxLineHeight=0,a._letterSpacing=d,a._anchor=new qn(function(){a.dirty=!0},a,0,0),a._roundPixels=St.ROUND_PIXELS,a.dirty=!0,a._resolution=St.RESOLUTION,a._autoResolution=!0,a._textureCache={},a}return t.prototype.updateText=function(){for(var r,i=bn.available[this._fontName],a=this.fontSize,o=a/i.size,s=new ye,l=[],h=[],d=[],S=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",y=bS(S),E=this._maxWidth*i.size/a,M=i.distanceFieldType==="none"?Sv:Tv,O=null,C=0,N=0,$=0,L=-1,B=0,G=0,j=0,z=0,J=0;J<y.length;J++){var Q=y[J],tt=Rh(Q);if(/(?:\s)/.test(Q)&&(L=J,B=C,z++),Q==="\r"||Q===`
`){h.push(C),d.push(-1),N=Math.max(N,C),++$,++G,s.x=0,s.y+=i.lineHeight,O=null,z=0;continue}var Z=i.chars[tt];if(Z){O&&Z.kerning[O]&&(s.x+=Z.kerning[O]);var lt=Ev.pop()||{texture:kt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ye};lt.texture=Z.texture,lt.line=$,lt.charCode=tt,lt.position.x=s.x+Z.xOffset+this._letterSpacing/2,lt.position.y=s.y+Z.yOffset,lt.prevSpaces=z,l.push(lt),C=lt.position.x+Math.max(Z.xAdvance-Z.xOffset,Z.texture.orig.width),s.x+=Z.xAdvance+this._letterSpacing,j=Math.max(j,Z.yOffset+Z.texture.height),O=tt,L!==-1&&E>0&&s.x>E&&(++G,Ya(l,1+L-G,1+J-L),J=L,L=-1,h.push(B),d.push(l.length>0?l[l.length-1].prevSpaces:0),N=Math.max(N,B),$++,s.x=0,s.y+=i.lineHeight,O=null,z=0)}}var bt=y[y.length-1];bt!=="\r"&&bt!==`
`&&(/(?:\s)/.test(bt)&&(C=B),h.push(C),N=Math.max(N,C),d.push(-1));for(var Mt=[],J=0;J<=$;J++){var Gt=0;this._align==="right"?Gt=N-h[J]:this._align==="center"?Gt=(N-h[J])/2:this._align==="justify"&&(Gt=d[J]<0?0:(N-h[J])/d[J]),Mt.push(Gt)}var mt=l.length,pt={},Dt=[],ut=this._activePagesMeshData;M.push.apply(M,ut);for(var J=0;J<mt;J++){var gt=l[J].texture,et=gt.baseTexture.uid;if(!pt[et]){var it=M.pop();if(!it){var Rt=new _u,Jt=void 0,zt=void 0;i.distanceFieldType==="none"?(Jt=new ps(kt.EMPTY),zt=$t.NORMAL):(Jt=new ps(kt.EMPTY,{program:Ts.from(aL,nL),uniforms:{uFWidth:0}}),zt=$t.NORMAL_NPM);var de=new ds(Rt,Jt);de.blendMode=zt,it={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:de,vertices:null,uvs:null,indices:null}}it.index=0,it.indexCount=0,it.vertexCount=0,it.uvsCount=0,it.total=0;var Qt=this._textureCache;Qt[et]=Qt[et]||new kt(gt.baseTexture),it.mesh.texture=Qt[et],it.mesh.tint=this._tint,Dt.push(it),pt[et]=it}pt[et].total++}for(var J=0;J<ut.length;J++)Dt.indexOf(ut[J])===-1&&this.removeChild(ut[J].mesh);for(var J=0;J<Dt.length;J++)Dt[J].mesh.parent!==this&&this.addChild(Dt[J].mesh);this._activePagesMeshData=Dt;for(var J in pt){var it=pt[J],ue=it.total;if(!(((r=it.indices)===null||r===void 0?void 0:r.length)>6*ue)||it.vertices.length<ds.BATCHABLE_SIZE*2)it.vertices=new Float32Array(4*2*ue),it.uvs=new Float32Array(4*2*ue),it.indices=new Uint16Array(6*ue);else for(var je=it.total,rr=it.vertices,Pe=je*4*2;Pe<rr.length;Pe++)rr[Pe]=0;it.mesh.size=6*ue}for(var J=0;J<mt;J++){var Q=l[J],Zt=Q.position.x+Mt[Q.line]*(this._align==="justify"?Q.prevSpaces:1);this._roundPixels&&(Zt=Math.round(Zt));var he=Zt*o,ce=Q.position.y*o,gt=Q.texture,Yt=pt[gt.baseTexture.uid],ir=gt.frame,Y=gt._uvs,ae=Yt.index++;Yt.indices[ae*6+0]=0+ae*4,Yt.indices[ae*6+1]=1+ae*4,Yt.indices[ae*6+2]=2+ae*4,Yt.indices[ae*6+3]=0+ae*4,Yt.indices[ae*6+4]=2+ae*4,Yt.indices[ae*6+5]=3+ae*4,Yt.vertices[ae*8+0]=he,Yt.vertices[ae*8+1]=ce,Yt.vertices[ae*8+2]=he+ir.width*o,Yt.vertices[ae*8+3]=ce,Yt.vertices[ae*8+4]=he+ir.width*o,Yt.vertices[ae*8+5]=ce+ir.height*o,Yt.vertices[ae*8+6]=he,Yt.vertices[ae*8+7]=ce+ir.height*o,Yt.uvs[ae*8+0]=Y.x0,Yt.uvs[ae*8+1]=Y.y0,Yt.uvs[ae*8+2]=Y.x1,Yt.uvs[ae*8+3]=Y.y1,Yt.uvs[ae*8+4]=Y.x2,Yt.uvs[ae*8+5]=Y.y2,Yt.uvs[ae*8+6]=Y.x3,Yt.uvs[ae*8+7]=Y.y3}this._textWidth=N*o,this._textHeight=(s.y+i.lineHeight)*o;for(var J in pt){var it=pt[J];if(this.anchor.x!==0||this.anchor.y!==0)for(var ii=0,fn=this._textWidth*this.anchor.x,fo=this._textHeight*this.anchor.y,dn=0;dn<it.total;dn++)it.vertices[ii++]-=fn,it.vertices[ii++]-=fo,it.vertices[ii++]-=fn,it.vertices[ii++]-=fo,it.vertices[ii++]-=fn,it.vertices[ii++]-=fo,it.vertices[ii++]-=fn,it.vertices[ii++]-=fo;this._maxLineHeight=j*o;var kn=it.mesh.geometry.getBuffer("aVertexPosition"),po=it.mesh.geometry.getBuffer("aTextureCoord"),Er=it.mesh.geometry.getIndex();kn.data=it.vertices,po.data=it.uvs,Er.data=it.indices,kn.update(),po.update(),Er.update()}for(var J=0;J<l.length;J++)Ev.push(l[J]);this._font=i,this.dirty=!1},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var i=bn.available[this._fontName],a=i.distanceFieldRange,o=i.distanceFieldType,s=i.size;if(o!=="none")for(var l=this.worldTransform,h=l.a,d=l.b,S=l.c,y=l.d,E=Math.sqrt(h*h+d*d),M=Math.sqrt(S*S+y*y),O=(Math.abs(E)+Math.abs(M))/2,C=this.fontSize/s,N=0,$=this._activePagesMeshData;N<$.length;N++){var L=$[N];L.mesh.shader.uniforms.uFWidth=O*a*C*this._resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){var r=bn.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!bn.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:bn.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var i=this._textureCache,a=bn.available[this._fontName],o=a.distanceFieldType==="none"?Sv:Tv;o.push.apply(o,this._activePagesMeshData);for(var s=0,l=this._activePagesMeshData;s<l.length;s++){var h=l[s];this.removeChild(h.mesh)}this._activePagesMeshData=[],o.filter(function(y){return i[y.mesh.texture.baseTexture.uid]}).forEach(function(y){y.mesh.texture=kt.EMPTY});for(var d in i){var S=i[d];S.destroy(),delete i[d]}this._font=null,this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Si),xS=function(){function e(){}return e.add=function(){Ne.setExtensionXhrType("fnt",Ne.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var i=N_(t.data);if(!i){r();return}for(var a=e.getBaseUrl(this,t),o=i.parse(t.data),s={},l=function(C){s[C.metadata.pageFile]=C.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=bn.install(o,s,!0),r())},h=0;h<o.page.length;++h){var d=o.page[h].file,S=a+d,y=!1;for(var E in this.resources){var M=this.resources[E];if(M.url===S){M.metadata.pageFile=d,M.texture?l(M):M.onAfterMiddleware.add(l),y=!0;break}}if(!y){var O={crossOrigin:t.crossOrigin,loadType:Ne.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:d},t.metadata.imageMetadata),parentResource:t};this.add(S,O,l)}}},e.getBaseUrl=function(t,r){var i=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(i==="."&&(i=""),t.baseUrl&&i&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(i+="/")),i=i.replace(t.baseUrl,""),i&&i.charAt(i.length-1)!=="/"&&(i+="/"),i},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e.extension=ge.Loader,e}();/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sp=function(e,t){return Sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Sp(e,t)};function sL(e,t){Sp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var lL=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,uL=function(e){sL(t,e);function t(r){r===void 0&&(r=1);var i=e.call(this,l4,lL,{uAlpha:1})||this;return i.alpha=r,i}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(Fn);/*!
 * @pixi/filter-blur - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tp=function(e,t){return Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Tp(e,t)};function SS(e,t){Tp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hL=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function cL(e,t){var r=Math.ceil(e/2),i=hL,a="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var l=o.replace("%index%",s.toString());l=l.replace("%sampleIndex%",s-(r-1)+".0"),a+=l,a+=`
`}return i=i.replace("%blur%",a),i=i.replace("%size%",e.toString()),i}var fL={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},dL=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function pL(e){for(var t=fL[e],r=t.length,i=dL,a="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",s,l=0;l<e;l++){var h=o.replace("%index%",l.toString());s=l,l>=r&&(s=e-l-1),h=h.replace("%value%",t[s].toString()),a+=h,a+=`
`}return i=i.replace("%blur%",a),i=i.replace("%size%",e.toString()),i}var Ep=function(e){SS(t,e);function t(r,i,a,o,s){i===void 0&&(i=8),a===void 0&&(a=4),o===void 0&&(o=St.FILTER_RESOLUTION),s===void 0&&(s=5);var l=this,h=cL(s,r),d=pL(s);return l=e.call(this,h,d)||this,l.horizontal=r,l.resolution=o,l._quality=0,l.quality=a,l.blur=i,l}return t.prototype.apply=function(r,i,a,o){if(a?this.horizontal?this.uniforms.strength=1/a.width*(a.width/i.width):this.uniforms.strength=1/a.height*(a.height/i.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/i.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,i,a,o);else{var s=r.getFilterTexture(),l=r.renderer,h=i,d=s;this.state.blend=!1,r.applyFilter(this,h,d,ci.CLEAR);for(var S=1;S<this.passes-1;S++){r.bindAndClear(h,ci.BLIT),this.uniforms.uSampler=d;var y=d;d=h,h=y,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,d,a,o),r.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(Fn),_L=function(e){SS(t,e);function t(r,i,a,o){r===void 0&&(r=8),i===void 0&&(i=4),a===void 0&&(a=St.FILTER_RESOLUTION),o===void 0&&(o=5);var s=e.call(this)||this;return s.blurXFilter=new Ep(!0,r,i,a,o),s.blurYFilter=new Ep(!1,r,i,a,o),s.resolution=a,s.quality=i,s.blur=r,s.repeatEdgePixels=!1,s}return t.prototype.apply=function(r,i,a,o){var s=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(s&&l){var h=r.getFilterTexture();this.blurXFilter.apply(r,i,h,ci.CLEAR),this.blurYFilter.apply(r,h,a,o),r.returnFilterTexture(h)}else l?this.blurYFilter.apply(r,i,a,o):this.blurXFilter.apply(r,i,a,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Fn);/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ip=function(e,t){return Ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Ip(e,t)};function mL(e,t){Ip(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gL=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Ap=function(e){mL(t,e);function t(){var r=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,__,gL,i)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,i){i===void 0&&(i=!1);var a=r;i&&(this._multiply(a,this.uniforms.m,r),a=this._colorMatrix(a)),this.uniforms.m=a},t.prototype._multiply=function(r,i,a){return r[0]=i[0]*a[0]+i[1]*a[5]+i[2]*a[10]+i[3]*a[15],r[1]=i[0]*a[1]+i[1]*a[6]+i[2]*a[11]+i[3]*a[16],r[2]=i[0]*a[2]+i[1]*a[7]+i[2]*a[12]+i[3]*a[17],r[3]=i[0]*a[3]+i[1]*a[8]+i[2]*a[13]+i[3]*a[18],r[4]=i[0]*a[4]+i[1]*a[9]+i[2]*a[14]+i[3]*a[19]+i[4],r[5]=i[5]*a[0]+i[6]*a[5]+i[7]*a[10]+i[8]*a[15],r[6]=i[5]*a[1]+i[6]*a[6]+i[7]*a[11]+i[8]*a[16],r[7]=i[5]*a[2]+i[6]*a[7]+i[7]*a[12]+i[8]*a[17],r[8]=i[5]*a[3]+i[6]*a[8]+i[7]*a[13]+i[8]*a[18],r[9]=i[5]*a[4]+i[6]*a[9]+i[7]*a[14]+i[8]*a[19]+i[9],r[10]=i[10]*a[0]+i[11]*a[5]+i[12]*a[10]+i[13]*a[15],r[11]=i[10]*a[1]+i[11]*a[6]+i[12]*a[11]+i[13]*a[16],r[12]=i[10]*a[2]+i[11]*a[7]+i[12]*a[12]+i[13]*a[17],r[13]=i[10]*a[3]+i[11]*a[8]+i[12]*a[13]+i[13]*a[18],r[14]=i[10]*a[4]+i[11]*a[9]+i[12]*a[14]+i[13]*a[19]+i[14],r[15]=i[15]*a[0]+i[16]*a[5]+i[17]*a[10]+i[18]*a[15],r[16]=i[15]*a[1]+i[16]*a[6]+i[17]*a[11]+i[18]*a[16],r[17]=i[15]*a[2]+i[16]*a[7]+i[17]*a[12]+i[18]*a[17],r[18]=i[15]*a[3]+i[16]*a[8]+i[17]*a[13]+i[18]*a[18],r[19]=i[15]*a[4]+i[16]*a[9]+i[17]*a[14]+i[18]*a[19]+i[19],r},t.prototype._colorMatrix=function(r){var i=new Float32Array(r);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(r,i){var a=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.tint=function(r,i){var a=r>>16&255,o=r>>8&255,s=r&255,l=[a/255,0,0,0,0,0,o/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(l,i)},t.prototype.greyscale=function(r,i){var a=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.blackAndWhite=function(r){var i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.hue=function(r,i){r=(r||0)/180*Math.PI;var a=Math.cos(r),o=Math.sin(r),s=Math.sqrt,l=1/3,h=s(l),d=a+(1-a)*l,S=l*(1-a)-h*o,y=l*(1-a)+h*o,E=l*(1-a)+h*o,M=a+l*(1-a),O=l*(1-a)-h*o,C=l*(1-a)-h*o,N=l*(1-a)+h*o,$=a+l*(1-a),L=[d,S,y,0,0,E,M,O,0,0,C,N,$,0,0,0,0,0,1,0];this._loadMatrix(L,i)},t.prototype.contrast=function(r,i){var a=(r||0)+1,o=-.5*(a-1),s=[a,0,0,0,o,0,a,0,0,o,0,0,a,0,o,0,0,0,1,0];this._loadMatrix(s,i)},t.prototype.saturate=function(r,i){r===void 0&&(r=0);var a=r*2/3+1,o=(a-1)*-.5,s=[a,o,o,0,0,o,a,o,0,0,o,o,a,0,0,0,0,0,1,0];this._loadMatrix(s,i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.sepia=function(r){var i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.technicolor=function(r){var i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.polaroid=function(r){var i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.toBGR=function(r){var i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.kodachrome=function(r){var i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.browni=function(r){var i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.vintage=function(r){var i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.colorTone=function(r,i,a,o,s){r=r||.2,i=i||.15,a=a||16770432,o=o||3375104;var l=(a>>16&255)/255,h=(a>>8&255)/255,d=(a&255)/255,S=(o>>16&255)/255,y=(o>>8&255)/255,E=(o&255)/255,M=[.3,.59,.11,0,0,l,h,d,r,0,S,y,E,i,0,l-S,h-y,d-E,0,0];this._loadMatrix(M,s)},t.prototype.night=function(r,i){r=r||.1;var a=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.predator=function(r,i){var a=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.lsd=function(r){var i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(Fn);Ap.prototype.grayscale=Ap.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pp=function(e,t){return Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Pp(e,t)};function vL(e,t){Pp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var yL=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,bL=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,xL=function(e){vL(t,e);function t(r,i){var a=this,o=new Re;return r.renderable=!1,a=e.call(this,bL,yL,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,a.maskSprite=r,a.maskMatrix=o,i==null&&(i=20),a.scale=new ye(i,i),a}return t.prototype.apply=function(r,i,a,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,l=Math.sqrt(s.a*s.a+s.b*s.b),h=Math.sqrt(s.c*s.c+s.d*s.d);l!==0&&h!==0&&(this.uniforms.rotation[0]=s.a/l,this.uniforms.rotation[1]=s.b/l,this.uniforms.rotation[2]=s.c/h,this.uniforms.rotation[3]=s.d/h),r.applyFilter(this,i,a,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t}(Fn);/*!
 * @pixi/filter-fxaa - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wp=function(e,t){return wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},wp(e,t)};function SL(e,t){wp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var TL=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,EL=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,IL=function(e){SL(t,e);function t(){return e.call(this,TL,EL)||this}return t}(Fn);/*!
 * @pixi/filter-noise - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mp=function(e,t){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Mp(e,t)};function AL(e,t){Mp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var PL=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,wL=function(e){AL(t,e);function t(r,i){r===void 0&&(r=.5),i===void 0&&(i=Math.random());var a=e.call(this,__,PL,{uNoise:0,uSeed:0})||this;return a.noise=r,a.seed=i,a}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t}(Fn);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TS=new Re;Ge.prototype._cacheAsBitmap=!1;Ge.prototype._cacheData=null;Ge.prototype._cacheAsBitmapResolution=null;Ge.prototype._cacheAsBitmapMultisample=Ie.NONE;var ML=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(Ge.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new ML),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});Ge.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ge.prototype._initCachedDisplayObject=function(e){var t;if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(St.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),h=e.projection.transform,d=_a.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(t=this.cacheAsBitmapMultisample)!==null&&t!==void 0?t:e.multisample}),S="cacheAsBitmap_"+pa();this._cacheData.textureCacheId=S,ne.addToCache(d.baseTexture,S),kt.addToCache(d,S);var y=this.transform.localTransform.copyTo(TS).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:y,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=h,e.renderTexture.bind(o,s,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var E=new Es(d);E.transform.worldTransform=this.transform.worldTransform,E.anchor.x=-(i.x/i.width),E.anchor.y=-(i.y/i.height),E.alpha=r,E._bounds=this._bounds,this._cacheData.sprite=E,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=E.containsPoint.bind(E)}};Ge.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ge.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;t.ceil(St.RESOLUTION);var o=_a.create({width:t.width,height:t.height}),s="cacheAsBitmap_"+pa();this._cacheData.textureCacheId=s,ne.addToCache(o.baseTexture,s),kt.addToCache(o,s);var l=TS;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var h=new Es(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(t.x/t.width),h.anchor.y=-(t.y/t.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Ge.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ge.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ge.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ne.removeFromCache(this._cacheData.textureCacheId),kt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ge.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ge.prototype.name=null;Si.prototype.getChildByName=function(e,t){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(t)for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r];if(a.getChildByName){var o=a.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ge.prototype.getGlobalPosition=function(e,t){return e===void 0&&(e=new ye),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ES=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var i,a;if(r._resizeTo===globalThis.window)i=globalThis.innerWidth,a=globalThis.innerHeight;else{var o=r._resizeTo,s=o.clientWidth,l=o.clientHeight;i=s,a=l}r.renderer.resize(i,a)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=ge.Application,e}(),F_=function(){function e(t){var r=this;this.stage=new Si,t=Object.assign({forceCanvas:!1},t),this.renderer=s4(t),e._plugins.forEach(function(i){i.init.call(r,t)})}return e.registerPlugin=function(t){Nr("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),cn.add({type:ge.Application,ref:t})},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var i=this,a=e._plugins.slice(0);a.reverse(),a.forEach(function(o){o.destroy.call(i)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}();cn.handleByList(ge.Application,F_._plugins);cn.add(ES);/*!
 * @pixi/mesh-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Op=function(e,t){return Op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Op(e,t)};function Is(e,t){Op(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var IS=function(e){Is(t,e);function t(r,i,a,o){r===void 0&&(r=100),i===void 0&&(i=100),a===void 0&&(a=10),o===void 0&&(o=10);var s=e.call(this)||this;return s.segWidth=a,s.segHeight=o,s.width=r,s.height=i,s.build(),s}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,i=[],a=[],o=[],s=this.segWidth-1,l=this.segHeight-1,h=this.width/s,d=this.height/l,S=0;S<r;S++){var y=S%this.segWidth,E=S/this.segWidth|0;i.push(y*h,E*d),a.push(y/s,E/l)}for(var M=s*l,S=0;S<M;S++){var O=S%s,C=S/s|0,N=C*this.segWidth+O,$=C*this.segWidth+O+1,L=(C+1)*this.segWidth+O,B=(C+1)*this.segWidth+O+1;o.push(N,$,L,$,B,L)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(a),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(_u),AS=function(e){Is(t,e);function t(r,i,a){r===void 0&&(r=200),a===void 0&&(a=0);var o=e.call(this,new Float32Array(i.length*4),new Float32Array(i.length*4),new Uint16Array((i.length-1)*6))||this;return o.points=i,o._width=r,o.textureScale=a,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(r){var i=this.getBuffer("aVertexPosition"),a=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){i.data.length/4!==r.length&&(i.data=new Float32Array(r.length*4),a.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var s=a.data,l=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var h=0,d=r[0],S=this._width*this.textureScale,y=r.length,E=0;E<y;E++){var M=E*4;if(this.textureScale>0){var O=d.x-r[E].x,C=d.y-r[E].y,N=Math.sqrt(O*O+C*C);d=r[E],h+=N/S}else h=E/(y-1);s[M]=h,s[M+1]=0,s[M+2]=h,s[M+3]=1}for(var $=0,E=0;E<y-1;E++){var M=E*2;l[$++]=M,l[$++]=M+1,l[$++]=M+2,l[$++]=M+2,l[$++]=M+1,l[$++]=M+3}a.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var i=r[0],a,o=0,s=0,l=this.buffers[0].data,h=r.length,d=0;d<h;d++){var S=r[d],y=d*4;d<r.length-1?a=r[d+1]:a=S,s=-(a.x-i.x),o=a.y-i.y;var E=Math.sqrt(o*o+s*s),M=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=E,s/=E,o*=M,s*=M,l[y]=S.x+o,l[y+1]=S.y+s,l[y+2]=S.x-o,l[y+3]=S.y-s,i=S}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(_u),OL=function(e){Is(t,e);function t(r,i,a){a===void 0&&(a=0);var o=this,s=new AS(r.height,i,a),l=new ps(r);return a>0&&(r.baseTexture.wrapMode=ki.REPEAT),o=e.call(this,s,l)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),e.prototype._render.call(this,r)},t}(ds),PS=function(e){Is(t,e);function t(r,i,a){var o=this,s=new IS(r.width,r.height,i,a),l=new ps(kt.WHITE);return o=e.call(this,s,l)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,i=this.shader.texture,a=i.width,o=i.height;this.autoResize&&(r.width!==a||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}(ds),RL=function(e){Is(t,e);function t(r,i,a,o,s){r===void 0&&(r=kt.EMPTY);var l=this,h=new _u(i,a,o);h.getBuffer("aVertexPosition").static=!1;var d=new ps(r);return l=e.call(this,h,d,null,s)||this,l.autoUpdate=!0,l}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t}(ds),hh=10,CL=function(e){Is(t,e);function t(r,i,a,o,s){i===void 0&&(i=hh),a===void 0&&(a=hh),o===void 0&&(o=hh),s===void 0&&(s=hh);var l=e.call(this,kt.WHITE,4,4)||this;return l._origWidth=r.orig.width,l._origHeight=r.orig.height,l._width=l._origWidth,l._height=l._origHeight,l._leftWidth=i,l._rightWidth=o,l._topHeight=a,l._bottomHeight=s,l.texture=r,l}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,i=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*i,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*i,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,i=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*i,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*i,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,i=this._width>r?1:this._width/r,a=this._topHeight+this._bottomHeight,o=this._height>a?1:this._height/a,s=Math.min(i,o);return s},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,i=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var a=1/this._origWidth,o=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=a*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-a*this._rightWidth,i[9]=i[11]=i[13]=i[15]=o*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(PS);/*!
 * @pixi/sprite-animated - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rp=function(e,t){return Rp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Rp(e,t)};function $L(e,t){Rp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var LL=function(e){$L(t,e);function t(r,i){i===void 0&&(i=!0);var a=e.call(this,r[0]instanceof kt?r[0]:r[0].texture)||this;return a._textures=null,a._durations=null,a._autoUpdate=i,a._isConnectedToTicker=!1,a.animationSpeed=1,a.loop=!0,a.updateAnchor=!1,a.onComplete=null,a.onFrameChange=null,a.onLoop=null,a._currentTime=0,a._playing=!1,a._previousFrame=null,a.textures=r,a}return t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_r.shared.add(this.update,this,un.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var i=this.currentFrame;this._currentTime=r,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var i=this.currentFrame;this._currentTime=r,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(this._playing){var i=this.animationSpeed*r,a=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):a!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<a?this.onLoop():this.animationSpeed<0&&this.currentFrame>a&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var i=[],a=0;a<r.length;++a)i.push(kt.from(r[a]));return new t(i)},t.fromImages=function(r){for(var i=[],a=0;a<r.length;++a)i.push(kt.from(r[a]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof kt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<r.length;i++)this._textures.push(r[i].texture),this._durations.push(r[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(_r.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_r.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Es);/*!
 * pixi.js - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.add(j4,J4,z4,lS,fS,g_,mS,xS,q4,aS,oS,pS,kx,Y4);var DL={AlphaFilter:uL,BlurFilter:_L,BlurFilterPass:Ep,ColorMatrixFilter:Ap,DisplacementFilter:xL,FXAAFilter:IL,NoiseFilter:wL};const NL=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return xi},AbstractBatchRenderer:u4,AbstractMultiResource:jc,AbstractRenderer:o4,AccessibilityManager:j4,AnimatedSprite:LL,AppLoaderPlugin:Y4,Application:F_,ArrayResource:V2,Attribute:Yd,get BLEND_MODES(){return $t},get BUFFER_BITS(){return Ul},get BUFFER_TYPE(){return Bi},BaseImageResource:hn,BasePrepare:hS,BaseRenderTexture:Q2,BaseTexture:ne,BatchDrawCall:fc,BatchGeometry:m_,BatchPluginFactory:c4,BatchRenderer:g_,BatchShaderGenerator:h4,BatchSystem:e_,BatchTextureArray:dc,BitmapFont:bn,BitmapFontData:nu,BitmapFontLoader:xS,BitmapText:oL,BlobResource:Z4,Bounds:Ql,BrowserAdapter:tx,Buffer:qe,BufferResource:ho,get CLEAR_MODES(){return ci},get COLOR_MASK_BITS(){return Pd},CanvasResource:z2,Circle:Lx,CompressedTextureLoader:q4,CompressedTextureResource:gc,Container:Si,ContextSystem:r_,CountLimiter:uS,CubeResource:J2,DDSLoader:aS,DEG_TO_RAD:$x,get DRAW_MODES(){return pi},DisplayObject:Ge,get ENV(){return ln},Ellipse:Dx,get ExtensionType(){return ge},Extract:J4,get FORMATS(){return ct},FORMATS_TO_COMPONENTS:rS,FillStyle:C_,Filter:Fn,FilterState:Gx,FilterSystem:t_,Framebuffer:cc,FramebufferSystem:i_,get GC_MODES(){return jl},GLFramebuffer:jx,GLProgram:i4,GLTexture:Ph,GRAPHICS_CURVES:hs,Geometry:Ss,GeometrySystem:n_,Graphics:cs,GraphicsData:op,GraphicsGeometry:N4,IGLUniformData:_C,INSTALLED:Kl,get INTERNAL_FORMATS(){return Vt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:iu,ImageBitmapResource:K2,ImageResource:Xc,InteractionData:cp,InteractionEvent:X4,InteractionManager:z4,InteractionTrackingData:Oh,KTXLoader:oS,get LINE_CAP(){return An},get LINE_JOIN(){return rn},LineStyle:F4,Loader:ru,get LoaderResource(){return Ne},get MASK_TYPES(){return Xe},get MIPMAP_MODES(){return bi},get MSAA_QUALITY(){return Ie},MaskData:Xx,MaskSystem:a_,Matrix:Re,Mesh:ds,MeshBatchUvs:gS,MeshGeometry:_u,MeshMaterial:ps,NineSlicePlane:CL,ObjectRenderer:pu,ObservablePoint:qn,PI_2:Yl,get PRECISION(){return Jr},ParticleContainer:$$,ParticleRenderer:lS,PlaneGeometry:IS,Point:ye,Polygon:vl,Prepare:fS,Program:Ts,ProjectionSystem:l_,Quad:Ux,QuadUv:q2,RAD_TO_DEG:Cx,get RENDERER_TYPE(){return os},Rectangle:te,RenderTexture:_a,RenderTexturePool:Hx,RenderTextureSystem:u_,Renderer:p_,ResizePlugin:ES,Resource:ao,RopeGeometry:AS,RoundedRectangle:Nx,Runner:pr,get SAMPLER_TYPES(){return Gl},get SCALE_MODES(){return Di},get SHAPES(){return ur},SVGResource:W2,ScissorSystem:o_,Shader:wn,ShaderSystem:h_,SimpleMesh:RL,SimplePlane:PS,SimpleRope:OL,Sprite:Es,SpriteMaskFilter:Qx,Spritesheet:dS,SpritesheetLoader:pS,State:Sa,StateSystem:c_,StencilSystem:s_,System:RC,get TARGETS(){return ua},get TEXT_GRADIENT(){return fs},get TYPES(){return Ct},TYPES_TO_BYTES_PER_COMPONENT:mp,TYPES_TO_BYTES_PER_PIXEL:iS,TemporaryDisplayObject:b_,Text:Qc,TextFormat:vS,TextMetrics:Gi,TextStyle:ga,Texture:kt,TextureGCSystem:f_,TextureLoader:K4,TextureMatrix:Vc,TextureSystem:d_,TextureUvs:Z2,Ticker:_r,TickerPlugin:kx,TilingSprite:J$,TilingSpriteRenderer:mS,TimeLimiter:z$,Transform:Uc,get UPDATE_PRIORITY(){return un},UniformGroup:ha,VERSION:LC,VideoResource:Y2,ViewableBuffer:pc,get WRAP_MODES(){return ki},XMLFormat:vc,XMLStringFormat:yS,accessibleTarget:G4,autoDetectFormat:N_,autoDetectRenderer:s4,autoDetectResource:Gc,checkMaxIfStatementsInShader:Kx,createUBOElements:t4,defaultFilterVertex:__,defaultVertex:l4,extensions:cn,filters:DL,generateProgram:n4,generateUniformBufferSync:r4,getTestContext:Jx,getUBOData:e4,graphicsUtils:y6,groupD8:Me,interactiveTarget:V4,isMobile:_i,parseDDS:eS,parseKTX:nS,resources:f4,settings:St,systems:d4,uniformParsers:Ka,utils:BR},Symbol.toStringTag,{value:"Module"}));class FL{constructor(t){Xt(this,"app"),this.stage=t,window.PIXI=NL,window.PIXI.utils.skipHello(),this.app=new F_({view:this.stage.canvasElement,resolution:2,autoStart:!0,autoDensity:!0,backgroundAlpha:0,resizeTo:this.stage.element})}mount(t){t?(this.clearAppStage(),this.app.stage.addChild(t)):console.error("挂载模型失败")}unMount(){this.clearAppStage()}clearAppStage(){var t;(((t=this.app)==null?void 0:t.stage.children.length)||0)>0&&this.app.stage.removeChildren(0)}resize(){var t;(t=this.app)==null||t.resize()}}const Cp=e=>{localStorage.setItem("OML2D_STATUS",e)},Iv=()=>localStorage.getItem("OML2D_STATUS"),kL=e=>{localStorage.setItem("OML2D_MODEL_INDEX",e.toString())},BL=()=>Number(localStorage.getItem("OML2D_MODEL_INDEX")),HL=e=>{localStorage.setItem("OML2D_MODEL_CLOTHES_INDEX",e.toString())},UL=()=>Number(localStorage.getItem("OML2D_MODEL_CLOTHES_INDEX"));class GL{constructor(t,r){Xt(this,"element"),Xt(this,"canvasElement"),Xt(this,"status",!1),Xt(this,"style",{}),Xt(this,"canvasStyle",{}),Xt(this,"currentModelIndex",0),this.options=t,this.events=r}create(){this.element=Ln({id:$n.stage,tagName:"div"}),this.canvasElement=Ln({id:$n.canvas,tagName:"canvas"})}set modelIndex(t){this.currentModelIndex=t}get modelIndex(){return this.currentModelIndex}mount(){this.element&&this.canvasElement&&(this.element.append(this.canvasElement),this.options.parentElement.append(this.element))}reloadStyle(t={}){var r,i,a,o;switch(t=Ze(t,this.options.stageStyle),t=Ze(t,Hl(this.options.dockedPosition)),ys()){case Rr.mobile:t=Ze(t,((i=(r=this.options.models)==null?void 0:r[this.modelIndex])==null?void 0:i.mobileStageStyle)||{});break;case Rr.pc:t=Ze(t,((o=(a=this.options.models)==null?void 0:a[this.modelIndex])==null?void 0:o.stageStyle)||{});break}this.setStyle(nn(Ze(xA,t)))}unMount(){var t;(t=this.element)==null||t.remove()}reMount(){this.unMount(),this.mount()}setStyle(t,r){this.element&&(this.style={},this.style=Ze(this.style,t),ro(this.style,this.element),this.setCanvasStyle({width:"100%",height:"100%",zIndex:"9998",position:"relative"}),r==null||r())}setCanvasStyle(t){this.canvasElement&&(this.canvasStyle=Ze(this.canvasStyle,t),ro(this.canvasStyle,this.canvasElement))}get transitionTime(){return this.options.transitionTime}slideIn(){return this.setStyle({animationName:"oml2d-stage-slide-in",animationDuration:`${this.transitionTime}ms`,animationFillMode:"forwards"}),new Promise(t=>{setTimeout(()=>{this.status=!0,this.events.emit("stageSlideIn"),Cp("active"),t()},this.transitionTime)})}slideOut(){return new Promise(t=>{this.status?(this.setStyle({animationName:"oml2d-stage-slide-out",animationDuration:`${this.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!1,this.events.emit("stageSlideOut"),Cp("sleep"),t()},this.transitionTime)):t()})}}class jL{constructor(t){Xt(this,"element"),Xt(this,"style",{}),Xt(this,"timer",0),Xt(this,"status",!1),this.options=t}get statusBarOptions(){return this.options.statusBar}create(){this.options.statusBar.disable||(this.element=Ln({id:$n.statusBar,tagName:"div",innerText:""}))}mount(){this.element&&this.options.parentElement.append(this.element)}reloadStyle(){switch(this.style={},ys()){case Rr.pc:this.setStyle(nn(Ze(Hl(this.options.dockedPosition),this.options.statusBar.style||{})));break;case Rr.mobile:this.setStyle(nn(Ze(Hl(this.options.dockedPosition),this.options.statusBar.mobileStyle||{})));break}}initializeStyle(){this.setColor(this.options.primaryColor),this.reloadStyle()}unMount(){var t;(t=this.element)==null||t.remove()}reMounte(){this.unMount(),this.mount()}setStyle(t){this.element&&(this.style=Ze(this.style,t),ro(t,this.element))}slideIn(){return new Promise(t=>{this.status&&t(),this.setStyle({animationName:`oml2d-status-bar-${this.options.dockedPosition}-slide-in`,animationDuration:`${this.statusBarOptions.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!0,t()},this.statusBarOptions.transitionTime)})}slideOut(){return new Promise(t=>{this.status?(this.setStyle({animationName:`oml2d-status-bar-${this.options.dockedPosition}-slide-out`,animationDuration:`${this.statusBarOptions.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!0,t()},this.statusBarOptions.transitionTime)):t()})}showLoading(){this.open(`
      <div style="margin-bottom:3px;">${this.statusBarOptions.loadingMessage}</div>
      <svg class="oml2d-icon oml2d-loading" aria-hidden="true">
        <use xlink:href=#${this.statusBarOptions.loadingIcon}></use>
      </svg>
    `)}hideLoading(){this.popup(this.statusBarOptions.loadSuccessMessage,1e3)}setHoverEvent(t){this.element&&(this.element.onmouseover=(t==null?void 0:t.onIn)||null,this.element.onmouseout=(t==null?void 0:t.onOut)||null)}setClickEvent(t){this.element&&(this.element.onclick=t)}clearHoverEvent(){this.element&&(this.element.onmouseover=null,this.element.onmouseout=null)}clearClickEvent(){this.element&&(this.element.onclick=null)}rest(){this.popup(this.statusBarOptions.restMessage,this.statusBarOptions.restMessageDuration)}loadingError(t){this.setHoverEvent({onIn:()=>{this.setContent(this.statusBarOptions.reloadMessage)},onOut:()=>{this.setContent(this.statusBarOptions.loadFailMessage)}}),this.setClickEvent(()=>{t()}),this.open(this.statusBarOptions.loadFailMessage,this.options.statusBar.errorColor)}get stateColor(){return{info:this.options.primaryColor,error:this.options.statusBar.errorColor}}setColor(t){t&&this.setStyle({backgroundColor:t})}open(t,r=this.options.primaryColor){this.popup(t,!1,r)}close(t,r=this.options.primaryColor,i=0){this.popup(t,i,r)}popup(t,r=0,i=this.options.primaryColor){clearTimeout(this.timer),this.setColor(i),t&&this.setContent(t),this.slideIn(),ac(r)&&(this.timer=setTimeout(()=>{this.slideOut()},r+this.statusBarOptions.transitionTime))}setContent(t){this.element&&(this.element.innerHTML=t)}}class XL{constructor(t,r){Xt(this,"idlePlayer"),Xt(this,"element"),Xt(this,"contentElement"),Xt(this,"closeTimer",0),Xt(this,"transitionTime",1e3),Xt(this,"style",{}),Xt(this,"priority",0),Xt(this,"contentStyle",{}),Xt(this,"_tipsOptions",Wo.tips),this.options=t,this.oml2d=r}reload(t){this.clear(),this.unmount(),this.create(),this.reloadStyle(),this.mount(t)}get tipsOptions(){return this._tipsOptions}set tipsOptions(t){let r;pl(t)?r=Ze(Wo.tips,t(this.options.models[this.oml2d.modelIndex||0],this.oml2d.modelIndex||0)):r=t,this._tipsOptions=r}create(){this.tipsOptions=this.options.tips,this.idlePlayer=this.createIdleMessagePlayer(),this.element=Ln({id:$n.tips,tagName:"div"}),this.contentElement=Ln({id:"oml2d-tips-content",tagName:"div"})}mount(t){this.element&&this.contentElement&&(this.element.append(this.contentElement),t.append(this.element))}unmount(){var t,r;(t=this.element)==null||t.remove(),(r=this.contentElement)==null||r.remove()}get primaryColor(){return this.options.primaryColor}reloadStyle(){switch(this.style={},this.setContentStyle({wordBreak:"break-all",display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:this.tipsOptions.messageLine,overflow:"hidden"}),ys()){case Rr.pc:this.setStyle(nn(this.tipsOptions.style||{}));break;case Rr.mobile:this.setStyle(nn(this.tipsOptions.mobileStyle||{}));break}}setStyle(t={}){var r;this.element&&(this.style=Ze(this.style,t),(r=this.style).backgroundColor||(r.backgroundColor=this.options.primaryColor),ro(this.style,this.element))}setContentStyle(t){this.contentElement&&(this.contentStyle=Ze(this.contentStyle,t),ro(this.contentStyle,this.contentElement))}setContent(t){this.contentElement&&(this.contentElement.innerHTML=t)}showMessage(t,r=3e3,i=0){i<this.priority||(this.priority=i,this.closeTimer&&clearTimeout(this.closeTimer),this.setContent(t),this.setStyle({animationName:"oml2d-display-tips,oml2d-shake-tips"}),this.closeTimer=setTimeout(()=>{this.setStyle({animationName:"oml2d-hidden-tips,oml2d-shake-tips"}),this.priority=0},r))}clear(){var t;this.setStyle({animationName:"oml2d-hidden-tips,oml2d-shake-tips"}),(t=this.idlePlayer)==null||t.stop(),clearTimeout(this.closeTimer),this.priority=0}notification(t,r=3e3,i=3){var a;(a=this.idlePlayer)==null||a.stop(),this.showMessage(t,r,i),setTimeout(()=>{var o;(o=this.idlePlayer)==null||o.start()},r+this.transitionTime)}welcome(){const t=OA(this.tipsOptions.welcomeTips||{}),{duration:r,priority:i}=this.tipsOptions.welcomeTips;this.notification(t,r,i)}copy(){if(this.tipsOptions.copyTips.message.length){const t=Ad(this.tipsOptions.copyTips.message)||"";this.notification(t,this.tipsOptions.copyTips.duration,this.tipsOptions.copyTips.priority)}}createIdleMessagePlayer(){let t="";const r=vA(()=>Gr(this,null,function*(){this.tipsOptions.idleTips.wordTheDay?pl(this.tipsOptions.idleTips.wordTheDay)?t=yield Hm(this.tipsOptions.idleTips.wordTheDay):t=yield Hm():pl(this.tipsOptions.idleTips.message)?t=yield this.tipsOptions.idleTips.message():t=Ad(this.tipsOptions.idleTips.message||[])||"",t?(this.showMessage(t,this.tipsOptions.idleTips.duration,this.tipsOptions.idleTips.priority),yield CA(this.tipsOptions.idleTips.duration)):r.stop()}),this.tipsOptions.idleTips.interval);return r}}class VL{constructor(t){Xt(this,"globalStyle"),Xt(this,"stage"),Xt(this,"statusBar"),Xt(this,"tips"),Xt(this,"menus"),Xt(this,"models"),Xt(this,"pixiApp"),Xt(this,"_modelIndex",0),Xt(this,"_modelClothesIndex",0),Xt(this,"version","0.19.3"),Xt(this,"options"),Xt(this,"events"),this.events=new yA,this.options=DA(Wo,t),this.globalStyle=new FA(this.options),this.stage=new GL(this.options,this.events),this.statusBar=new jL(this.options),this.tips=new XL(this.options,this),this.menus=new kA(this.options,this),this.models=new w6(this.options,this.events),this.modelIndex=BL(),this.modelClothesIndex=UL(),this.initialize()}set modelIndex(t){t>this.options.models.length-1&&(t=0),this._modelIndex=t,this.stage.modelIndex=t,this.models.modelIndex=t,kL(t)}get modelIndex(){return this._modelIndex}set modelClothesIndex(t){this._modelClothesIndex=t,this.models.modelClothesIndex=t,HL(t)}get modelClothesIndex(){return this._modelClothesIndex}showModelHitAreaFrames(){this.models.removeHitAreaFrames()}hideModelHitAreaFrames(){this.models.addHitAreaFrames()}setModelScale(t){this.models.setScale(t)}stopTipsIdle(){var t;(t=this.tips.idlePlayer)==null||t.stop()}startTipsIdle(){var t;(t=this.tips.idlePlayer)==null||t.start()}statusBarPopup(t,r,i){this.statusBar.popup(t,r,i)}setStatusBarHoverEvent(t){this.statusBar.setHoverEvent(t)}tipsMessage(t,r,i){this.tips.notification(t,r,i)}setStageStyle(t){this.stage.setStyle(nn(t))}setModelPosition(t){const{x:r=0,y:i=0}=t;this.models.setPosition(r,i)}get mobileHidden(){return!this.options.mobileDisplay&&ys()===Rr.mobile}create(){this.stage.create(),this.pixiApp=new FL(this.stage),this.statusBar.create(),this.statusBar.initializeStyle()}mount(){this.stage.mount(),this.statusBar.mount()}loadModel(){return Gr(this,null,function*(){if(this.tips.clear(),yield this.stage.slideOut(),!(!this.options.models||!this.options.models.length)){if(this.mobileHidden){this.statusBar.rest();return}return this.statusBar.showLoading(),this.models.create().catch(()=>{this.statusBar.loadingError(()=>void this.reloadModel())}).then(()=>{var t,r;(t=this.pixiApp)==null||t.mount(this.models.model),this.menus.reload(this.stage.element),this.tips.reload(this.stage.element),this.models.settingModel(),this.stage.reloadStyle(this.models.modelSize),(r=this.pixiApp)==null||r.resize(),this.statusBar.hideLoading()})}})}reloadModel(){return Gr(this,null,function*(){var t;yield this.loadModel(),yield this.stage.slideIn(),(t=this.tips.idlePlayer)==null||t.start()})}loadRandomModel(){return Gr(this,null,function*(){var t;this.modelIndex=NA(this.options.models.length,this.modelIndex),this.modelClothesIndex=0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(),yield this.stage.slideIn(),(t=this.tips.idlePlayer)==null||t.start()})}loadNextModel(){return Gr(this,null,function*(){var t;++this.modelIndex>=this.options.models.length&&(this.modelIndex=0),this.modelClothesIndex=0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(),yield this.stage.slideIn(),(t=this.tips.idlePlayer)==null||t.start()})}loadModelByIndex(t,r){return Gr(this,null,function*(){var i;t>=0&&t<this.options.models.length&&(this.modelIndex=t,this.modelClothesIndex=r||0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(),yield this.stage.slideIn(),(i=this.tips.idlePlayer)==null||i.start())})}loadModelByName(t,r){return Gr(this,null,function*(){var i;const a=this.options.models.findIndex(o=>o.name===t);a>0&&(this.modelIndex=a,this.modelClothesIndex=r||0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(),yield this.stage.slideIn(),(i=this.tips.idlePlayer)==null||i.start())})}loadNextModelClothes(){return Gr(this,null,function*(){const t=this.options.models[this.modelIndex].path;Kb(this.options.models[this.modelIndex].path)&&this.options.models.length?(++this.modelClothesIndex>=t.length&&(this.modelClothesIndex=0),yield this.loadModel(),yield this.stage.slideIn()):this.tips.notification("该模型没有其他衣服~",5e3,3)})}setModelRotation(t){this.models.setRotation(t)}setModelAnchor(t){const{x:r,y:i}=t;this.models.setAnchor(r,i)}initialize(){$A(),this.options.sayHello&&RA(),this.registerGlobalEvent(),this.globalStyle.initialize(),this.create(),this.mount(),this.loadModel().then(()=>{const t=Iv()||this.options.initialStatus;Iv()||Cp(this.options.initialStatus),t==="sleep"?(this.tips.clear(),this.statusBar.open(this.options.statusBar.restMessage),this.statusBar.setClickEvent(()=>{var r;this.stage.slideIn(),(r=this.tips.idlePlayer)==null||r.start(),this.statusBar.close(),this.statusBar.clearHoverEvent(),this.statusBar.clearClickEvent()})):this.stage.slideIn()})}stageSlideIn(){return Gr(this,null,function*(){yield this.stage.slideIn()})}stageSlideOut(){return Gr(this,null,function*(){yield this.stage.slideOut()})}statusBarOpen(t,r){this.statusBar.open(t,r)}clearTips(){this.tips.clear()}setStatusBarClickEvent(t){this.statusBar.setClickEvent(t)}statusBarClose(t,r,i){this.statusBar.close(t,i,r)}statusBarClearEvents(){this.statusBar.clearClickEvent(),this.statusBar.clearHoverEvent()}onStageSlideIn(t){this.events.add("stageSlideIn",t)}onStageSlideOut(t){this.events.add("stageSlideOut",t)}onLoad(t){this.events.add("load",t)}registerGlobalEvent(){LA(()=>{this.reloadModel()}),this.onStageSlideIn(()=>{this.tips.welcome()}),window.document.oncopy=()=>{this.tips.copy()}}}const zL=e=>new VL(e),JL=xt.memo(e=>{const t=xt.useRef(null);return xt.useEffect(()=>{zL({mobileDisplay:!0,models:[{path:"https://model.oml2d.com/HK416-1-normal/model.json",position:[0,60],mobilePosition:[80,80],scale:.08,mobileScale:.06,stageStyle:{height:450},mobileStageStyle:{height:370,width:400}}],dockedPosition:"right",...e}).onLoad(()=>{})},[]),ie.jsx("div",{ref:t})});wf.createRoot(document.getElementById("root")).render(ie.jsxs(ie.Fragment,{children:[ie.jsx(aA,{children:ie.jsx(fA,{})}),ie.jsx(JL,{primaryColor:"pink"})]}))});export default WL();
